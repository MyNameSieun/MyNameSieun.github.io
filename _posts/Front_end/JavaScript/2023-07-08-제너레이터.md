---
title: "[JS] ì œë„ˆë ˆì´í„°"
categories: [JavaScript]
tag: [JavaScript]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

ì§€ë‚œ í¬ìŠ¤íŒ…ì—ì„œ [ì´í„°ëŸ¬ë¸”ê³¼ ì´í„°ë ˆì´í„°](https://velog.io/@sieunpark/JS-%EC%9D%B4%ED%84%B0%EB%9F%AC%EB%B8%94%EA%B3%BC-%EC%9D%B4%ED%84%B0%EB%A0%88%EC%9D%B4%ED%84%B0)ì— ëŒ€í•´ì„œ ì‚´í´ë³´ì•˜ë‹¤.

ë˜í•œ ì œë„ˆë ˆì´í„°ë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•˜ë©´ ì´í„°ë ˆì´í„°ë¥¼ í¸ë¦¬í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´í„°ë ˆì´í„°ë¥¼ ë§Œë“¤ì–´ë³´ì.

<br>

# â–¶ ì œë„ˆë ˆì´í„°

> - ì œë„ˆë ˆì´í„°ëŠ” í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ì¤‘ê°„ì— ë©ˆì·„ë‹¤ê°€ ì¬ê°œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ê°€ì§„ í•¨ìˆ˜ë¥¼ ë§í•œë‹¤.

- ë°˜ë³µí•  ìˆ˜ ìˆëŠ” ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.

- \*ê°€ ë¶™ì€ í•¨ìˆ˜ê°€ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì´ë‹¤.
- ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” ì‹¤í–‰í•˜ë©´, Iterator ê°ì²´ê°€ ë°˜í™˜(next()ë¥¼ ê°€ì§€ê³  ìˆìŒ)ëœë‹¤.
- iterator ì€ ê°ì²´ëŠ” next ë©”ì„œë“œë¡œ ìˆœí™˜ í•  ìˆ˜ ìˆëŠ” ê°ì²´ì´ë©°, ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ëŠ” ì‹œì ë§ˆë‹¤ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì£¼ë©´ Generator í•¨ìˆ˜ ë‚´ë¶€ì†ŒìŠ¤ê°€ ìœ„ -> ì•„ë˜ë¡œ ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰ëœë‹¤.

<br>

## â–· ì¼ë°˜í•¨ìˆ˜ vs ì œë„ˆë ˆì´í„°

> ì œë„ˆë ˆì´í„°ê°€ ì¼ë°˜ í•¨ìˆ˜ì™€ ë‹¤ë¥¸ ì ì€ í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.

- ë‹¨ í•œ ë²ˆì˜ ì‹¤í–‰ìœ¼ë¡œ í•¨ìˆ˜ì˜ ëê¹Œì§€ ì‹¤í–‰ì´ ì™„ë£Œë˜ëŠ” ì¼ë°˜ í•¨ìˆ˜ì™€ëŠ” ë‹¬ë¦¬, ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” ì‚¬ìš©ìì˜ ìš”êµ¬ì— ë”°ë¼ (yieldì™€ nextë¥¼ í†µí•´) ì¼ì‹œì ìœ¼ë¡œ ì •ì§€ë  ìˆ˜ë„ ìˆê³ , ë‹¤ì‹œ ì‹œì‘ë  ìˆ˜ë„ ìˆë‹¤.
- ì¼ë°˜ í•¨ìˆ˜ëŠ” í˜¸ì¶œì´ ë˜ë©´ í•¨ìˆ˜ì˜ ì½”ë“œ ë¸”ë¡ì„ ì‹¤í–‰ì‹œí‚¤ì§€ë§Œ, ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜í•œë‹¤.
- ì¼ë°˜ í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜ ê°’(í˜¹ì€ 0ê°œì˜ ê°’)ë§Œ ë°˜í™˜í•˜ì§€ë§Œ ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê°œì˜ ê°’ì„ í•„ìš”ì— ë”°ë¼ í•˜ë‚˜ì”© ë°˜í™˜(yield)í•  ìˆ˜ ìˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ ì œë„ˆë ˆì´í„° ê°ì²´ë€ ë¬´ì—‡ì¼ê¹Œ?

<br>

## â–· ì œë„ˆë ˆì´í„° ê°ì²´ì™€ ì´í„°ëŸ¬ë¸”

> ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ ë¦¬í„´ë˜ëŠ” ê°ì²´ë¥¼ ì œë„ˆë ˆì´í„° ê°ì²´ë¼ê³  í•œë‹¤.
> ì—¬ê¸°ì„œ ê°ì²´ëŠ” ì´í„°ëŸ¬ë¸”ì´ë©´ì„œ ë™ì‹œì— ì´í„°ë ˆì´í„°ì´ë‹¤.

```jsx
function* createIterator() {
  yield 1;
  yield 2;
  yield 3;
}
// generatorëŠ” iteratorë¥¼ ë°˜í™˜í•œë‹¤.
let iterator = createIterator();
console.log(iterator.next().value); // 1
console.log(iterator.next().value); // 2
console.log(iterator.next().value); // 3
```

ë”°ë¼ì„œ `for-of` ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•´ ê°’ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.

```jsx
function* generateSequence() {
  yield 1;
  yield 2;
  return 3;
}

let generator = generateSequence();

for (let value of generator) {
  alert(value); // 1, 2
}
```

<br>

> âš ï¸ ìœ„ ì½”ë“œì—ì„œ 3ì€ ì¶œë ¥ë˜ì§€ ì•ŠëŠ”ë‹¤. ì™œ ê·¸ëŸ´ê¹Œ?

for-of ì´í„°ë ˆì´ì…˜ì´ done: trueì¼ ë•Œ ë§ˆì§€ë§‰ valueë¥¼ ë¬´ì‹œí•˜ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ for-ofë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ ëª¨ë“  ê°’ì´ ì¶œë ¥ë˜ê¸¸ ì›í•œë‹¤ë©´ yieldë¡œ ê°’ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤.

<br>

```jsx
function* generateSequence() {
  yield 1;
  yield 2;
  yield 3;
}

let generator = generateSequence();

for (let value of generator) {
  alert(value); // 1, 2, 3
}
```

<br>

## â–· ì´í„°ë ˆì´í„° êµ¬í˜„

> ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì´í„°ë ˆì´í„°(ê°ì²´ì˜ ë°˜ë³µ)ë¥¼ êµ¬í˜„í•´ë³´ì

```jsx
function createIterator(items) {
  let i = 0;
  return {
    next: function () {
      const done = i >= items.length;
      const value = !done ? items[i++] : undefined;
      return {
        done: done,
        value: value,
      };
    },
  };
}

const iterator = createIterator([1, 2, 3]);
console.log(iterator.next()); // "{ value: 1, done: false }"
console.log(iterator.next()); // "{ value: 2, done: false }"
console.log(iterator.next()); // "{ value: 3, done: false }"
console.log(iterator.next()); // "{ value: undefined, done: true }"
```

> ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´í„°ë ˆì´í„°(ê°ì²´ì˜ ë°˜ë³µ)ë¥¼ êµ¬í˜„í•´ë³´ì.

> ì œë„ˆë ˆì´í„° ë¬¸ë²•

- ì œë„ˆë ˆì´í„°ë¥¼ ë§Œë“¤ë ¤ë©´ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¼ ë¶ˆë¦¬ëŠ” `function*`ì´ í•„ìš”í•˜ë‹¤.
  - function ë‹¤ìŒì— ë¶™ì€ ë³„í‘œ\* (= ì—ìŠ¤í„°ë¦¬ìŠ¤í¬)ëŠ” ì´ í•¨ìˆ˜ê°€ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤.
- ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” `yield` í‚¤ì›Œë“œë¥¼ ë§Œë‚˜ë©´ í•´ë‹¹ ì§€ì ì—ì„œ ë™ì‘ì„ ë©ˆì¶”ë©° yield í‚¤ì›Œë“œ ë’¤ì— ì§€ì •ëœ ê°’ì„ ë°˜í™˜í•œë‹¤.
- ì œë„ˆë ˆì´í„°ëŠ” ì´í„°ëŸ¬ë¸”ì´ë¯€ë¡œ `next()`í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.

```jsx
function* createIterator() {
  yield 1;
  yield 2;
  yield 3;
}

// generatorëŠ” iteratorë¥¼ ë°˜í™˜í•œë‹¤.
let iterator = createIterator();
console.log(iterator.next().value); // 1
console.log(iterator.next().value); // 2
console.log(iterator.next().value); // 3
```

í™•ì‹¤íˆ ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•œ ìª½ì´ ì½”ë“œì˜ ê°€ë…ì„±, ê°„ê²°ì„±ë©´ì—ì„œ ìš°ìˆ˜í•˜ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.

<br>

- ë˜í•œ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” ë³¸ë¬¸ì— returnë¬¸ì„ ì‘ì„±í•˜ì—¬ í•¨ìˆ˜ì˜ ë™ì‘ì„ ëë‚¼ ìˆ˜ ìˆë‹¤.

```jsx
function* generatorFunc(n) {
  yield n;
  return n + 1; // ì œë„ˆë ˆì´í„° ì¢…ë£Œ
  yield n + 2; // ë™ì‘ ì•ˆí•¨
}

const generatorObj = generatorFunc(1);

console.log(generatorObj.next());
console.log(generatorObj.next());
console.log(generatorObj.next());
```

<br>

> ì‹¤ì œ ì˜ˆì œ

```jsx
// (1) ì œë„ˆë ˆì´í„° í•¨ìˆ˜ ì•ˆì—ì„œ ì“¸ addCoffee í•¨ìˆ˜ ì„ ì–¸
var addCoffee = function (prevName, name) {
  setTimeout(function () {
    coffeeMaker.next(prevName ? prevName + ", " + name : name);
  }, 500);
};
// (2) ì œë„ˆë ˆì´í„° í•¨ìˆ˜ ì„ ì–¸
// yield í‚¤ì›Œë“œë¡œ ìˆœì„œ ì œì–´
var coffeeGenerator = function* () {
  var espresso = yield addCoffee("", "ì—ìŠ¤í”„ë ˆì†Œ");
  console.log(espresso);
  var americano = yield addCoffee(espresso, "ì•„ë©”ë¦¬ì¹´ë…¸");
  console.log(americano);
  var mocha = yield addCoffee(americano, "ì¹´í˜ëª¨ì¹´");
  console.log(mocha);
  var latte = yield addCoffee(mocha, "ì¹´í˜ë¼ë–¼");
  console.log(latte);
};

// coffeeMakerëŠ” ì´í„°ë ˆì´í„° ê°ì²´
var coffeeMaker = coffeeGenerator();
coffeeMaker.next();
```

<br>

---

<br>

# ğŸ“ì°¸ì¡°

- https://velog.io/@ggong/ES6-%EC%9D%B4%ED%84%B0%EB%A0%88%EC%9D%B4%ED%84%B0%EC%99%80-%EC%A0%9C%EB%84%88%EB%A0%88%EC%9D%B4%ED%84%B0
- https://developer-talk.tistory.com/274
- https://ko.javascript.info/generators
- https://seo-tory.tistory.com/77
