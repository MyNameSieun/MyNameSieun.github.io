---
title: "[React] ì‚¬ìš©ì ê¶Œí•œì— ë”°ë¥¸ ë Œë”ë§"
categories: [React]
tag: [React]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

[[ê¸°ì´ˆ ì†ŒìŠ¤ì½”ë“œâ†—ï¸]](https://github.com/wonee09/nbcamp-timeattack-2.git)

# 1. ì„¸íŒ…

## 1.1 json-server ì‚¬ìš©

package.json íŒŒì¼ì˜ scripts ì„¹ì…˜ì— ì•„ë˜ ë‚´ìš© ì¶”ê°€í•˜ê¸°

```json
"scripts": {
  "serve": "json-server --watch db.json --port 4000"
}
```

<br>

ì•„ë˜ ëª…ë ¹ì„ í†µí•´ json-severë¥¼ ì‹¤í–‰

```shell
yarn serve
```

<br>

## 1.2 íŒŒì¼ êµ¬ì¡°

![](/assets/images/2024/2024-08-21-17-07-49.png)

<br><br>

# 2. Router ì‘ì„±

## 2.1 Router ì—°ê²°

> ìš”êµ¬ì‚¬í•­

0. ë¼ìš°íŒ…ì€ "ì¤‘ì²© ë¼ìš°íŒ…"ìœ¼ë¡œ ì‘ì„±í•  ê²ƒ!
1. ë¡œê·¸ì¸ ì—¬ë¶€ê°€ ìƒê´€ì—†ëŠ”(ë¡œê·¸ì¸í•´ë„, í•˜ì§€ ì•Šì•„ë„ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”) í˜ì´ì§€ëŠ” `Layout.jsx`ë¥¼ ê³µí†µ elementë¡œ ì‚¬ìš©í•˜ê¸°
   1. ëŒ€ìƒ: Home, SearchPage, TestPage
2. ë¡œê·¸ì¸ ìƒíƒœê°€ ë°˜ë“œì‹œ ì•„ë‹ˆì–´ì•¼ í•˜ëŠ”(ë¡œê·¸ì¸ í•œ ìƒíƒœë©´ ì ‘ê·¼í•  ìˆ˜ ì—†ëŠ”) í˜ì´ì§€ëŠ” `NonAuthLayout.jsx`ë¥¼ ê³µí†µ elementë¡œ ì‚¬ìš©í•˜ê¸°
   1. ëŒ€ìƒ: LoginPage, SignupPage
3. ë¡œê·¸ì¸ì´ ë°˜ë“œì‹œ í•„ìš”í•œ(ë¡œê·¸ì¸ í•´ì•¼ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”) í˜ì´ì§€ëŠ” `AuthLayout.jsx`ë¥¼ ê³µí†µ elementë¡œ ì‚¬ìš©í•˜ê¸°
   1. ëŒ€ìƒ: UserProfile
4. ì–´ëŠê²ƒì—ë„ í¬í•¨ë˜ì§€ ì•ŠëŠ” í˜ì´ì§€ì˜ ê²½ìš° NotFound(src > pages > default-set > `NotFound.jsx`)ë¥¼ ë Œë”ë§í•˜ê¸°

```jsx
// src/shared/Router.jsx
import AuthLayout from "components/layouts/AuthLayout";
import Layout from "components/layouts/Layout";
import NonAuthLayout from "components/layouts/NonAuthLayout";
import NotFound from "pages/default-set/NotFound";
import HomePage from "pages/protected/HomePage";
import UserProfilePage from "pages/protected/UserProfilePage";
import PublicHomePage from "pages/public/PublicHomePage";
import SearchPage from "pages/public/SearchPage";
import SignInPage from "pages/public/SignInPage";
import SignUpPage from "pages/public/SignUpPage";
import TestPage from "pages/public/TestPage";
import { BrowserRouter, Route, Routes } from "react-router-dom";

const Router = () => {
  return (
    <BrowserRouter>
      <Routes>
        {/* ë¡œê·¸ì¸ ì—¬ë¶€ ìƒê´€ì—†ëŠ” ë¼ìš°í„° */}
        <Route element={<Layout />}>
          <Route path="/" element={<PublicHomePage />} />
          <Route path="sign-in" element={<SignInPage />} />
          <Route path="sign-up" element={<SignUpPage />} />
          <Route path="search" element={<SearchPage />} />
          <Route path="test" element={<TestPage />} />
        </Route>

        {/* ë¡œê·¸ì¸ ìƒíƒœê°€ ë°˜ë“œì‹œ ì•„ë‹ˆì–´ì•¼ í•˜ëŠ” ë¼ìš°í„° */}
        <Route element={<NonAuthLayout />}></Route>

        {/* ë¡œê·¸ì¸ì´ í•„ìš”í•œ ë¼ìš°í„° */}
        <Route element={<AuthLayout />}>
          <Route path="/" element={<HomePage />} />
          <Route path="/user/:userId" element={<UserProfilePage />} />
        </Route>

        {/* 404 Not Found */}
        <Route path="*" element={<NotFound />} />

        {/* ì‚¬ìš©ìê°€ ì˜ëª»ëœ ê²½ë¡œë¡œ ì´ë™í–ˆì„ ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ (/)ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ */}
        {/* <Route path="*" element={<Navigate replace to="/" />} /> */}
      </Routes>
    </BrowserRouter>
  );
};

export default Router;
```

<br>

## 2.2 Outlet ì—°ê²°

> ê° ê³µí†µ element(Layout, AuthLayout, NonAuthLayout)ëŠ” Outletì„ ê°€ì§€ê³  ìˆì–´ì„œ ì¤‘ì²©ëœ ì»´í¬ë„ŒíŠ¸ê°€ Layoutì„ ì ìš©ë°›ì€ ìƒíƒœì—ì„œ ë Œë”ë§ ë  ìˆ˜ ìˆë„ë¡ í•˜ê¸°

### 2.2.1 Layout.jsx

```jsx
// src/styles/CommonStyles.jsx
import styled from "styled-components";

export const CommonContainer = styled.div`
  display: flex;
  max-width: 1200px;
  margin: 0 auto;
`;
```

```jsx
import { Outlet } from "react-router-dom";
import Navbar from "./Navbar";
import styled from "styled-components";
import { CommonContainer } from "styles/CommonStyles";

const Layout = () => {
  return (
    <>
      <Navbar />

      <StLayout>
        <StContainer>
          <StMessage>
            ë¡œê·¸ì¸ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.
          </StMessage>
          <StMain>
            <Outlet />
          </StMain>
        </StContainer>
      </StLayout>
    </>
  );
};

export default Layout;

const StLayout = styled.nav`
  background-color: #e2e2e2;
  border-bottom: 1px solid #ddd;
`;

const StContainer = styled(CommonContainer)`
  flex-direction: column;
  min-height: 100vh;
`;

const StMessage = styled.p`
  text-align: center;
  margin: 20px 0;
  font-size: 18px;
  color: #333;
`;

const StMain = styled.main`
  flex: 1;
  padding: 20px;
`;
```

<br>

### 2.2.2 AuthLayout.jsx

```jsx
import { Navigate, Outlet } from "react-router-dom";
import Navbar from "./Navbar";
import styled from "styled-components";
import { CommonContainer } from "styles/CommonStyles";

const AuthLayout = () => {
  return (
    <>
      <Navbar />

      <StLayout>
        <StContainer>
          <StMessage>ë°˜ë“œì‹œ ë¡œê·¸ì¸ì´ ë˜ì–´ìˆì–´ì•¼ í•˜ëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.</StMessage>
          <StMain>
            <Outlet />
          </StMain>
        </StContainer>
      </StLayout>
    </>
  );
};

export default AuthLayout;

const StLayout = styled.nav`
  background-color: #e2e2e2;
  border-bottom: 1px solid #ddd;
`;

const StContainer = styled(CommonContainer)`
  flex-direction: column;
  min-height: 100vh;
`;

const StMessage = styled.p`
  text-align: center;
  margin: 20px 0;
  font-size: 18px;
  color: #333;
`;

const StMain = styled.main`
  flex: 1;
  padding: 20px;
`;
```

<br>

### 2.2.3 NonAuthLayout.jsx

```jsx
import { Navigate, Outlet } from "react-router-dom";
import Navbar from "./Navbar";
import styled from "styled-components";
import { CommonContainer } from "styles/CommonStyles";

const NonAuthLayout = () => {
  return (
    <>
      <Navbar />

      <StLayout>
        <StContainer>
          <StMessage>
            ë¡œê·¸ì¸ì´ ë°˜ë“œì‹œ ì•ˆ ë˜ì–´ ìˆì–´ì•¼ í•˜ëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.
          </StMessage>
          <StMain>
            <Outlet />
          </StMain>
        </StContainer>
      </StLayout>
    </>
  );
};

export default NonAuthLayout;

const StLayout = styled.nav`
  background-color: #e2e2e2;
  border-bottom: 1px solid #ddd;
`;

const StContainer = styled(CommonContainer)`
  flex-direction: column;
  min-height: 100vh;
`;

const StMessage = styled.p`
  text-align: center;
  margin: 20px 0;
  font-size: 18px;
  color: #333;
`;

const StMain = styled.main`
  flex: 1;
  padding: 20px;
`;
```

<br><br>

# 3. custom axios ì‘ì„±

## 3.1 auth.js

> ìš”êµ¬ì‚¬í•­

1. authApi ìƒì„±
   1. ê¸°ë³¸urlì„ `https://moneyfulpublicpolicy.co.kr/` ë¡œ ì„¤ì •
<<<<<<< HEAD
   2. haedersëŠ” `"Content-Type": "application/json"` ë¡œ ì„¤ì •
=======
   2. haedersëŠ” "Content-Type": "application/json" ë¡œ ì„¤ì •
>>>>>>> 93a4303f45c58407b5cb25a65a107bcdc2c39301
2. ìš”ì²­ interceptor ì„¤ì •
   1. request interceptorì—ì„œ ìš”ì²­í•˜ëŠ” urlì´ â€œuserâ€ì¸ ê²½ìš°ëŠ” localStorageì— ìˆëŠ” accessTokenì„ headerì— í¬í•¨ì‹œí‚´
   2. ì´ ê²½ìš°, accessTokenì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•„ë˜ ì½”ë“œë¡œ ì²˜ë¦¬í•˜ì—¬ ì‹¤íŒ¨ ë™ì‘<br><br>
   ```jsx
   alert("ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.");
   return Promise.reject("ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.");
   ```

<br><br>

configë¥¼ consoleì— ì°ìœ¼ë©´ ì‚¬ìš©ì ìš”ì²­ì— ëŒ€í•œ urlì´ ë‚˜ì˜¨ë‹¤.

```jsx
authApi.interceptors.request.use(
  (config) => {
    console.log(config);
    return config;
  },
  () => {}
);
```

![](/assets/images/2024/2024-08-09-15-31-50.png)

<br>

ì¦‰, ì´ urlì„ í™œìš©í•˜ì—¬ access token checkë¥¼ í•  ìˆ˜ ìˆë‹¤!

```jsx
import axios from "axios";

export const authApi = axios.create({
  baseURL: "https://moneyfulpublicpolicy.co.kr",
  headers: {
    "Content-Type": "application/json",
  },
});

// ì¸í„°ì…‰í„° ì„¤ì •
authApi.interceptors.request.use(
  (config) => {
    console.log("authApi config:", config);

    // ìœ ì €ê°€ ê°€ì§€ê³  ìˆëŠ” accessTokenì´ ì§€ê¸ˆ ìš”ì²­ì„ ë³´ë‚´ë ¤ê³  í•˜ëŠ” ì´ ì‹œì ì— ë§ì•„?? ì •í™•í•´?? ìœ íš¨ê¸°ê°„ ìˆì–´?? ë¥¼ íŒŒì•…í•´ì•¼í•œë‹¤!
    const token = localStorage.getItem("accessToken");

    if (config.url === "/user") {
      if (token) {
        // Bearerì€ ì†Œìœ ìë¼ëŠ” ëœ»ì¸ë°, "ì´ í† í°ì˜ ì†Œìœ ìì—ê²Œ ê¶Œí•œì„ ë¶€ì—¬í•´ì¤˜"ë¼ëŠ” ì˜ë¯¸
        // Bearerë’¤ì— ìˆëŠ” ê²ƒì„ accessTokenìœ¼ë¡œ ì‚¬ìš©

        // ( config.headers.Authorization = )ê³¼ ë™ì¼
        config.headers["Authorization"] = `Bearer ${token}`;
      } else {
        alert("ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.");
        return Promise.reject("ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤! ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”.");
      }
    }

    // urlì— ë”°ë¥¸ ë¶„ê¸°
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);
```

<br>

## 3.2 posts.js

> ìš”êµ¬ì‚¬í•­

âš ï¸ postsAxiosëŠ” ê¶Œí•œì´ í•„ìš” ì—†ëŠ” ìš”ì²­ì´ë¼ ê°€ì •í•œë‹¤. ë”°ë¼ì„œ ìš”ì²­ interceptorë¥¼ ë³„ë„ë¡œ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.

1. ê¸°ë³¸ urlì„ json-server ì£¼ì†Œë¡œ ì„¤ì • (ex : http://localhost:4001/posts)
2. timeoutì„ 1.5ì´ˆë¡œ ì„¸íŒ…

```jsx
import axios from "axios";

const postsAxios = axios.create({
  baseURL: `${process.env.REACT_APP_SERVER_URL}/posts`,
  timeout: 1500,
});

export default postsAxios;
```

<br>

## 3.3 comments.js

> ìš”êµ¬ì‚¬í•­

1. commentsAxios ìƒì„±
   1. commentsAxiosëŠ” ê¶Œí•œì´ ë°˜ë“œì‹œ í•„ìš”í•œ ìš”ì²­ì´ë¼ ê°€ì •í•œë‹¤. ë”°ë¼ì„œ ìš”ì²­ interceptorë¥¼ ì‘ì„±í•˜ì—¬ ì‚¬ì „ì— userì˜ ê¶Œí•œì„ íŒŒì•…í•œë‹¤.
   2. ê¸°ë³¸ urlì„ json-server ì£¼ì†Œ(localhost:3001ë²ˆ ê¶Œì¥)/comments ì„¤ì • (ex : http://localhost:3001/comments)
   3. timeoutì„ 1.5ì´ˆë¡œ ì„¸íŒ…
2. ìš”ì²­ interceptor ì„¤ì •
   1. customìœ¼ë¡œ ë§Œë“  authApiì— user ìš”ì²­(í•˜ë‹¨ ì¸ì¦ API ëª…ì„¸ì„œ - íšŒì›ì •ë³´ í™•ì¸ ì°¸ê³ )ì„ í†µí•´ ê²€ì¦ì„ ì§„í–‰ - ë°˜ë“œì‹œ authApië¥¼ ì´ìš©
3. ì‘ë‹µ interceptor ì„¤ì •
   1. ìš”ì²­ì´ ì„±ê³µ ì‘ë‹µì„ ë°›ì€ ê²½ìš°, `console.log("ìš”ì²­ ì„±ê³µì…ë‹ˆë‹¤.")`ë¥¼ ì¶œë ¥

<br>

- ë²„íŠ¼ì´ ëˆŒë¦¬ëŠ” ì‹œì ì— ê¶Œí•œì´ ìˆëŠ”ì§€ íŒŒì•…í•´ì•¼í•œë‹¤.
- ì´ë¥¼ ìœ„í•´ onClickì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë³´ë‹¤ commnets ìš”ì²­ì— request ë¶€ë¶„ì—ì„œ ë¡œì§ì„ ì‘ì„±í•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤.

```jsx
import axios from "axios";
import { authApi } from "./auth";

const commentsAxios = axios.create({
  baseURL: `${process.env.REACT_APP_SERVER_URL}/comments`,
  timeout: 1500,
});

commentsAxios.interceptors.request.use(
  async (config) => {
    // ìœ ì €ê°€ ê°€ì§€ê³  ìˆëŠ” accessTokenì´ ì§€ê¸ˆ ìš”ì²­ì„ ë³´ë‚´ë ¤ê³  í•˜ëŠ” ì´ ì‹œì ì— ë§ì•„?? ì •í™•í•´?? ìœ íš¨ê¸°ê°„ ìˆì–´?? ë¥¼ íŒŒì•…í•´ì•¼í•œë‹¤!
    const ac = localStorage.getItem("accessToken");
    try {
      // (1) ìœ ì € ê¶Œí•œ ì²´í¬ to ë°±ì—”ë“œ
      await axios.get("/user", {
        headers: {
          "Content-Type": "application/json",
          Authorization: `Bearer ${ac}`,
        },
      });
      return config; // ì„±ê³µ
    } catch (error) {
      return Promise.reject(error); // ë¹„ë™ê¸° ì‘ì—… ì¤‘ ë°œìƒí•œ ì—ëŸ¬ ë°˜í™˜
    }
  },
  (error) => {
    return Promise.reject(error); // ìš”ì²­ ì„¤ì • ì˜¤ë¥˜ ë°˜í™˜
  }
);

commentsAxios.interceptors.response.use((response) => {
  console.log("ìš”ì²­ ì„±ê³µì…ë‹ˆë‹¤.");
  return response;
});

export default commentsAxios;
```

<br>

> ë¦¬íŒ©í† ë§

- auth.js ì™€ ì½”ë“œì™€ ì¤‘ë³µë˜ë‹ˆ auth.jsì— ì¡´ì¬í•˜ëŠ” userë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•˜ì
- ì´ë ‡ê²Œ ë˜ë©´ accessTokenê³¼ headers ì„¸íŒ…ì´ í•„ìš” ì—†ì–´ì§„ë‹¤!
- ì•„ë˜ ì²˜ëŸ¼ comments.jsì—ì„œ userì„ ë„˜ê¸°ë©´ auth.jsê°€ ë¶„ê¸°ë¥¼ í•´ì¤€ë‹¤.

```jsx
import axios from "axios";
import { authApi } from "./auth";

const commentsAxios = axios.create({
  baseURL: `${process.env.REACT_APP_SERVER_URL}/comments`,
  timeout: 1500,
});

commentsAxios.interceptors.request.use(
  async (config) => {
    try {
      // (1) ìœ ì € ê¶Œí•œ ì²´í¬ to ë°±ì—”ë“œ
      await authApi.get(`/user`);
      return config; // ì„±ê³µ
    } catch (error) {
      return Promise.reject(error); // ë¹„ë™ê¸° ì‘ì—… ì¤‘ ë°œìƒí•œ ì—ëŸ¬ ë°˜í™˜
    }
  },
  (error) => {
    return Promise.reject(error); // ìš”ì²­ ì„¤ì • ì˜¤ë¥˜ ë°˜í™˜
  }
);

commentsAxios.interceptors.response.use((response) => {
  console.log("ìš”ì²­ ì„±ê³µì…ë‹ˆë‹¤.");
  return response;
});

export default commentsAxios;
```

<br>

ì™¼ìª½ comment.jsê°€ í†µê³¼í–ˆë‹¤ëŠ” ì´ì•¼ê¸°ëŠ” ì´ë¯¸ auth.jsê°€ í†µê³¼í–ˆë‹¤ëŠ” ì´ì•¼ê¸°ì„!

![](/assets/images/2024/2024-08-09-16-04-17.png)

<br><br>

# 4. ë¡œê·¸ì¸ ì—¬ë¶€ ìƒê´€ì—†ëŠ” í˜ì´ì§€

## 4.1 íšŒì›ê°€ì…(SignupPage.jsx)

> ìš”êµ¬ì‚¬í•­

1. íšŒì›ê°€ì… ì„±ê³µ ì‹œ
   1. alertë¡œ "íšŒì›ê°€ì…ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í• ê²Œìš”" ë©”ì‹œì§€ ì¶œë ¥
   2. login í˜ì´ì§€ë¡œ ìë™ ì´ë™
2. íšŒì›ê°€ì… ì‹¤íŒ¨ ì‹œ
   1. alertë¡œ ë°±ì—”ë“œì—ì„œ ì œê³µë°›ì€ ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥
   2. console.logë¡œ ì˜¤ë¥˜ ë‚´ìš© ì „ì²´ ì¶œë ¥

```jsx
// src/pages/public/SignUpPage.jsx
import { useEffect, useRef } from "react";
import { useNavigate } from "react-router-dom";
import { authApi } from "../../axios/auth";
import styled from "styled-components";

const SignUpPage = () => {
  const idRef = useRef(null);
  const pwRef = useRef(null);
  const nickNameRef = useRef(null);

  const navigate = useNavigate();

  useEffect(() => {
    idRef.current.focus();
  }, []);

  const handleSubmit = async (e) => {
    e.preventDefault();

    try {
      await authApi.post(`/register`, {
        id: idRef.current.value,
        password: pwRef.current.value,
        nickname: nickNameRef.current.value,
      });
      // ì„±ê³µ ì‹œ
      alert("íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
      navigate("/login");
    } catch (error) {
      // ì‹¤íŒ¨ ì‹œ
      const message = error.response.data.message;
      alert(message || "íšŒì›ê°€ì… ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."); // ì‚¬ìš©ì í™•ì¸
      console.log(message); // ê°œë°œì í™•ì¸
    }
  };

  return (
    <StContainer>
      <StTitle>íšŒì›ê°€ì… ì°½</StTitle>
      <StForm onSubmit={handleSubmit}>
        <StLabel htmlFor="id">ì•„ì´ë””</StLabel>
        <StInput
          type="text"
          name="id"
          ref={idRef}
          placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”."
        />
        <StLabel htmlFor="nickname">ë‹‰ë„¤ì„</StLabel>
        <StInput
          type="text"
          id="nickname"
          ref={nickNameRef}
          placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”."
        />
        <StLabel htmlFor="password">ë¹„ë°€ë²ˆí˜¸</StLabel>
        <StInput
          type="password"
          id="password"
          ref={pwRef}
          placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”."
        />
        <StButton type="submit">íšŒì›ê°€ì…</StButton>
        <StButton
          type="button"
          onClick={() => {
            navigate("/sign-in");
          }}
          style={{ backgroundColor: "#6c757d", borderColor: "#6c757d" }}
        >
          ë¡œê·¸ì¸í•˜ëŸ¬ ê°€ê¸°
        </StButton>
      </StForm>
    </StContainer>
  );
};

const StContainer = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 2rem;
  max-width: 500px;
  margin: auto;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  background-color: #f9f9f9;
`;

const StTitle = styled.h1`
  margin-bottom: 1.5rem;
  font-size: 2rem;
  color: #333;
`;

const StForm = styled.form`
  display: flex;
  flex-direction: column;
  width: 100%;
`;

const StLabel = styled.label`
  font-size: 1rem;
  margin-bottom: 0.5rem;
  color: #555;
`;

const StInput = styled.input`
  padding: 0.8rem;
  margin-bottom: 1rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
`;

const StButton = styled.button`
  padding: 0.8rem;
  margin: 0.5rem 0;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  color: #fff;
  background-color: #007bff;
  cursor: pointer;
  transition: background-color 0.3s ease;

  &:hover {
    background-color: #0056b3;
  }
`;

export default SignUpPage;
```

<br>

## 4.2 ë¡œê·¸ì¸ ê¸°ëŠ¥(SignInPage.jsx)

> ìš”êµ¬ì‚¬í•­

1. ë¡œê·¸ì¸ ì„±ê³µ ì‹œ
   1. alertë¡œ "ë¡œê·¸ì¸ì— ì„±ê³µí•˜ì˜€ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í• ê²Œìš”" ë©”ì‹œì§€ ì¶œë ¥
   2. localStorageì— ì €ì¥(accessToken, userId, nickname)
   3. ë©”ì¸ í˜ì´ì§€(Home ì»´í¬ë„ŒíŠ¸, ê²½ë¡œìƒ â€œ/â€)ë¡œ ìë™ ì´ë™
2. ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ
   1. alertë¡œ ë°±ì—”ë“œì—ì„œ ì œê³µë°›ì€ ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥
   2. console.logë¡œ ì˜¤ë¥˜ ë‚´ìš© ì „ì²´ ì¶œë ¥

```jsx
// src/pages/public/SignInPage.jsx
import { useEffect, useRef } from "react";
import { useNavigate } from "react-router-dom";
import { authApi } from "../../axios/auth";
import styled from "styled-components";

const SignInPage = () => {
  const idRef = useRef(null);
  const pwRef = useRef(null);

  const navigate = useNavigate();

  useEffect(() => {
    idRef.current.focus();
  }, []);

  const handleSubmit = async (e) => {
    e.preventDefault();

    try {
      const res = await authApi.post("/login", {
        id: idRef.current.value,
        password: pwRef.current.value,
      });
      const { accessToken, avatar, nickname, userId } = res.data;

      // ë¡œê·¸ì¸ ì„±ê³µ ì‹œ
      alert("ë¡œê·¸ì¸ì— ì„±ê³µí•˜ì…¨ìŠµë‹ˆë‹¤. í™ˆìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.");

      localStorage.setItem("accessToken", accessToken);
      localStorage.setItem("avatar", avatar);
      localStorage.setItem("nickname", nickname);
      localStorage.setItem("userId", userId);

      navigate("/");

      if (!res.data.accessToken) {
        alert("í† í°ì´ ì—†ìŠµë‹ˆë‹¤. ê³ ê°ì„¼í„°ì— ë¬¸ì˜í•´ì£¼ì„¸ìš”.");
        return;
      }
    } catch (error) {
      // ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ
      const message = error.response.data.message;
      alert(message || "ë¡œê·¸ì¸ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."); // ì‚¬ìš©ì í™•ì¸
      console.log(message); // ê°œë°œì í™•ì¸
    }
  };

  return (
    <StContainer>
      <StTitle>ë¡œê·¸ì¸ ì°½</StTitle>
      <StForm onSubmit={handleSubmit}>
        <StLabel htmlFor="id">ì•„ì´ë””: </StLabel>
        <StInput
          type="text"
          id="id"
          ref={idRef}
          placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”."
        />
        <StLabel htmlFor="password">ë¹„ë°€ë²ˆí˜¸</StLabel>
        <StInput
          type="password"
          id="password"
          ref={pwRef}
          placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”."
        />
        <StButton type="submit">ë¡œê·¸ì¸</StButton>
        <StButton
          type="button"
          onClick={() => {
            navigate("/sign-up");
          }}
          style={{ backgroundColor: "#6c757d", borderColor: "#6c757d" }}
        >
          íšŒì›ê°€ì…í•˜ëŸ¬ ê°€ê¸°
        </StButton>
      </StForm>
    </StContainer>
  );
};

const StContainer = styled.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 2rem;
  max-width: 500px;
  margin: auto;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  background-color: #f9f9f9;
`;

const StTitle = styled.h1`
  margin-bottom: 1.5rem;
  font-size: 2rem;
  color: #333;
`;

const StForm = styled.form`
  display: flex;
  flex-direction: column;
  width: 100%;
`;

const StLabel = styled.label`
  font-size: 1rem;
  margin-bottom: 0.5rem;
  color: #555;
`;

const StInput = styled.input`
  padding: 0.8rem;
  margin-bottom: 1rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
`;

const StButton = styled.button`
  padding: 0.8rem;
  margin: 0.5rem 0;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  color: #fff;
  background-color: #007bff;
  cursor: pointer;
  transition: background-color 0.3s ease;

  &:hover {
    background-color: #0056b3;
  }
`;

export default SignInPage;
```

<br>

## 4.3 PublicHomePage.jsx

> ìš”êµ¬ì‚¬í•­

- access í† í°ì´
  - ì¡´ì¬í•˜ëŠ” ê²½ìš° "ì•ˆë…•í•˜ì„¸ìš” {ë‹‰ë„¤ì„}ë‹˜!"
  - ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° "ë¡œê·¸ì¸ì„ í•´ì£¼ì„¸ìš”."

```jsx
import { Link } from "react-router-dom";
import styled from "styled-components";

const PublicHomePage = () => {
  const at = localStorage.getItem("accessToken");
  const nickname = localStorage.getItem("nickname");

  return (
    <StContainer>
      {at ? (
        <StGreeting>ì•ˆë…•í•˜ì„¸ìš”, {nickname}ë‹˜!</StGreeting>
      ) : (
        <StGreeting>ë¡œê·¸ì¸ì„ í•´ì£¼ì„¸ìš”!</StGreeting>
      )}
      {/* ë¡œê·¸ì¸ ì—¬ë¶€ê°€ ìƒê´€ì—†ëŠ” ë©”ë‰´ */}
      <StList>
        <StListItem>
          <StLink to="/search">ê²€ìƒ‰ í˜ì´ì§€ë¡œ</StLink>
        </StListItem>
        <StListItem>
          <StLink to="/test">ê¶Œí•œí…ŒìŠ¤íŠ¸ í˜ì´ì§€ë¡œ</StLink>
        </StListItem>
      </StList>
      {/* ë¡œê·¸ì¸ì´ ë°˜ë“œì‹œ í•„ìš”í•œ ë©”ë‰´ */}
      <StImportant>â—ï¸ ë¡œê·¸ì¸ì´ ë°˜ë“œì‹œ í•„ìš”í•œ ë©”ë‰´</StImportant>
      <StList>
        <StListItem>
          <StLink to="/user/1">1ë²ˆ ìœ ì €ì˜ ì •ë³´</StLink>
        </StListItem>
        <StListItem>
          <StLink to="/user/2">2ë²ˆ ìœ ì €ì˜ ì •ë³´</StLink>
        </StListItem>
      </StList>
    </StContainer>
  );
};

export default PublicHomePage;

const StContainer = styled.div`
  font-family: Arial, sans-serif;
  width: 100%;
`;

const StGreeting = styled.p`
  font-size: 1.2em;
  color: #333;
`;

const StList = styled.ul`
  list-style-type: none;
`;

const StListItem = styled.li`
  margin: 10px 0;
`;

const StImportant = styled.p`
  font-weight: bold;
  color: #e74c3c;
`;

const StLink = styled(Link)`
  text-decoration: none;
  color: #3498db;

  &:hover {
    text-decoration: underline;
  }
`;
```

<br>

## 4.4 SearchPage.jsx

> ìš”êµ¬ì‚¬í•­

1. useEffectë¥¼ í™œìš©í•˜ì—¬ ìµœì´ˆ ë Œë”ë§ ì‹œ postsAxiosë¥¼ í™œìš©í•˜ì—¬ ì „ì²´ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ stateì— ì„¸íŒ…
2. useSearchParamsë¥¼ í™œìš©í•˜ì—¬, searchParamsì— ë”°ë¥¸ postsë¥¼ filtering í•´ì„œ ë³´ì—¬ì£¼ê¸°
   1. ex ) http://localhost:3000/search?userId=2 ì¸ ê²½ìš° â‡’ ì „ì²´ postë¦¬ìŠ¤íŠ¸ ì¤‘, writerUserIdê°€ 2ì¸ ê²½ìš°ë§Œ filtering í•´ì„œ ì¶œë ¥
3. searchParamsëŠ” ì•„ë˜ ë‘ ë²„íŠ¼ì„ í†µí•´ ë³€ê²½í•˜ë„ë¡ updateSearch() í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ê¸°<br><br>
   ```jsx
   <button onClick={() => updateSearch("1")}>1ë²ˆìœ ì €ì˜ ê¸€ ë³´ê¸°</button>
   <button onClick={() => updateSearch("2")}>2ë²ˆìœ ì €ì˜ ê¸€ ë³´ê¸°</button>
   ```

<br>

```jsx
// src/pages/public/SearchPage.jsx
import postsAxios from "../../axios/posts";
import { useEffect, useState } from "react";
import { useSearchParams } from "react-router-dom";

const SearchPage = () => {
  const [searchParams, setSearchParams] = useSearchParams();
  const [posts, setPosts] = useState([]);

  const userId = searchParams.get("userId");

  // URLì˜ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ì„ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
  const updateSearch = (userId) => {
    setSearchParams({ userId });
  };

  useEffect(() => {
    const getPosts = async () => {
      try {
        const res = await postsAxios.get("/");
        setPosts(res.data);
      } catch (error) {
        alert("ê¸€ ëª©ë¡ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.");
        console.log(error);
      }
    };
    getPosts();
  }, []);

  const filteredPosts = posts.filter(
    (post) => post.writeUserId === Number(userId)
  );

  return (
    <div>
      <h1>Posting ì •ë³´ ë³´ê¸°(ê²€ìƒ‰í˜ì´ì§€)</h1>
      <div>
        {userId ? (
          <p>ì•„ì´ë”” {userId}ë‹˜ì´ ì“°ì‹  ê¸€</p>
        ) : (
          <p>ì•„ë˜ ë‘ ë²„íŠ¼ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</p>
        )}
      </div>
      <button onClick={() => updateSearch(1)}>1ë²ˆ ìœ ì €ì˜ ê¸€ ë³´ê¸°</button>
      <button onClick={() => updateSearch(2)}>2ë²ˆ ìœ ì €ì˜ ê¸€ ë³´ê¸°</button>

      {filteredPosts?.map((post) => (
        <div key={post.id}>
          <h2>{post.title}</h2>
          <p>{post.author}</p>
          <p>{post.body}</p>
        </div>
      ))}
    </div>
  );
};

export default SearchPage;
```

<br>

## 4.5 TestPage.jsx

> ìš”êµ¬ì‚¬í•­

âš ï¸ ì„¸íŒ…í•œ custom axiosë¡œ ì¸í•´, commentsAxiosë¥¼ í™œìš©í•˜ì—¬ ê°’ì„ ê°€ì ¸ì˜¬ ë•ŒëŠ” localStorageì— accessTokenì´ ì—†ëŠ” ê²½ìš° ì‹¤íŒ¨í•´ì•¼í•œë‹¤. ë³„ë„ ì½”ë”©ì€ í•„ìš” ì—†ìœ¼ë©°, commentsAxios ë‚´ë¶€ì— í•´ë‹¹ ë¡œì§ì´ ìˆìœ¼ë¯€ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ê¼­ í•´ë³´ë„ë¡ í•˜ì.

1. handleGetPostButtonClick : postsAxiosë¥¼ ì´ìš©í•˜ì—¬ ì „ì²´ í¬ìŠ¤íŒ…ì„ ê°€ì ¸ì˜¨ í›„, postì •ë³´ì˜ titleê³¼ authorë¥¼ ì¶œë ¥ì‹œí‚¤ë„ë¡ í•˜ì. í•´ë‹¹ ë²„íŠ¼ì´ í´ë¦­ëì„ ë•ŒëŠ” ì´ë¯¸ ì¶œë ¥ëœ comments ë¦¬ìŠ¤íŠ¸ê°€ ìˆë‹¤ë©´ ì—†ì• ì•¼ í•œë‹¤.
2. handleGetCommentsButtonClick : commentsAxiosë¥¼ í™œìš©í•˜ì—¬ ì „ì²´ ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¨ í›„, comment ì •ë³´ì˜ bodyë¥¼ ì¶œë ¥ì‹œí‚¤ë„ë¡ í•˜ì. í•´ë‹¹ ë²„íŠ¼ì´ í´ë¦­ëì„ ë•ŒëŠ” ì´ë¯¸ ì¶œë ¥ëœ posts ë¦¬ìŠ¤íŠ¸ê°€ ìˆë‹¤ë©´ ì—†ì• ì•¼ í•œë‹¤.

<br>

```jsx
import commentsAxios from "../axios/comments";
import postsAxios from "../axios/posts";

const TestPage = () => {
  const [posts, setPosts] = React.useState([]);
  const [comments, setComments] = React.useState([]);

  const handleGetPostButtonClick = async () => {
    try {
      const response = await postsAxios.get("/");
      setPosts(response.data);
      setComments([]);
    } catch (error) {
      console.log(error);
      alert("í¬ìŠ¤íŒ…ì„ ê°€ì ¸ì˜¤ëŠ” ë„ì¤‘ ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.");
    }
  };

  const handleGetCommentsButtonClick = async () => {
    try {
      const response = await commentsAxios.get("/");
      setComments(response.data);
      setPosts([]);
    } catch (error) {
      console.log(error);
      alert("accessToken ìœ íš¨ ì‹œê°„ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
    }
  };

  return (
    <div>
      <h1>Test Page</h1>
      <p>api í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.</p>
      <button onClick={handleGetPostButtonClick}>
        postsê°€ì ¸ì˜¤ê¸° í…ŒìŠ¤íŠ¸(ë¡œê·¸ì¸í•„ìš”ì—†ìŒ)
      </button>
      <button onClick={handleGetCommentsButtonClick}>
        commentsê°€ì ¸ì˜¤ê¸° í…ŒìŠ¤íŠ¸(ë¡œê·¸ì¸í•„ìš”)
      </button>

      {posts?.map((post) => (
        <div key={post.id}>
          <h2>{post.title}</h2>
          <p>{post.author}</p>
        </div>
      ))}

      {comments?.map((comment) => (
        <div key={comment.id}>
          <p>{comment.body}</p>
        </div>
      ))}
    </div>
  );
};

export default TestPage;
```

<br><br>

# 5. Layout ì‘ì„±

## 5.1 AuthLayout.jsx

> ìš”êµ¬ì‚¬í•­

- ë¡œê·¸ì¸ ì‹œ localStorageì— ì €ì¥í–ˆë˜ accessTokenì„ ê¸°ì¤€ìœ¼ë¡œ ë¡œê·¸ì¸ì´ ë˜ì–´ìˆì§€ ì•Šì€ ê²½ìš° alertë¡œ ì•ˆë‚´í•œ í›„, ë°”ë¡œ login í˜ì´ì§€ë¡œ ì´ë™ì‹œí‚¤ê¸°
- ğŸ’¡ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ëŠ” useEffectì—ì„œ ê°€ì ¸ì˜¤ì§€ ì•Šì•„ë„ ëœë‹¤! êµ³ì´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ëŠ” ì‹œì ì— ë™ê¸°ì ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì´ë‹¤.

```jsx
import { Navigate, Outlet } from "react-router-dom";
import Navbar from "./Navbar";
import styled from "styled-components";
import { CommonContainer } from "styles/CommonStyles";

const AuthLayout = () => {
  const isAuthenticated = localStorage.getItem("accessToken");

  if (!isAuthenticated) {
    alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ í˜ì´ì§€ì…ë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í• ê²Œìš”!");
    // replaceë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ì „ í˜ì´ì§€ë¡œ ëŒì•„ê°€ëŠ” ê²ƒì„ ë°©ì§€(ìƒˆë¡œìš´ íˆìŠ¤í† ë¦¬ë¡œ ë®ì–´ì”Œìš°ê¸°)
    return <Navigate to="/sign-in" replace />;
  }

  return (
    <>
      <Navbar />

      <StLayout>
        <StContainer>
          <StMessage>ë°˜ë“œì‹œ ë¡œê·¸ì¸ì´ ë˜ì–´ìˆì–´ì•¼ í•˜ëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.</StMessage>
          <StMain>
            <Outlet />
          </StMain>
        </StContainer>
      </StLayout>
    </>
  );
};

export default AuthLayout;

const StLayout = styled.nav`
  background-color: #e2e2e2;
  border-bottom: 1px solid #ddd;
`;

const StContainer = styled(CommonContainer)`
  flex-direction: column;
  min-height: 100vh;
`;

const StMessage = styled.p`
  text-align: center;
  margin: 20px 0;
  font-size: 18px;
  color: #333;
`;

const StMain = styled.main`
  flex: 1;
  padding: 20px;
`;
```

<br>

> â“useEffectë¥¼ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?

- useEffectë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ íŒë‹¨í•  ê²½ìš°, ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ê¸° ì „ì— ì‚¬ìš©ìê°€ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- ì´ëŠ”, useEffectëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ëœ ì´í›„ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì—, ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ê¸° ì „ì— ì»´í¬ë„ŒíŠ¸ì˜ ì´ˆê¸° ë Œë”ë§ì´ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì´ë‹¤.
- ë”°ë¼ì„œ ë Œë”ë§ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ëŠ” stateë¥¼ ìƒì„±í•´ì•¼ í•˜ê±°ë‚˜, useEffectë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì´ˆê¸° ë Œë”ë§ ë‹¨ê³„ì—ì„œ ì§ì ‘ì ìœ¼ë¡œ ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ë©´ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í”¼í•  ìˆ˜ ìˆë‹¤.

<br>

## 5.2 NonAuthLayout

> ìš”êµ¬ì‚¬í•­

- ë¡œê·¸ì¸ ì‹œ localStorageì— ì €ì¥í–ˆë˜ accessTokenì´ ì¡´ì¬í•˜ë©´, í•´ë‹¹ Layoutì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŒì„ ì˜ë¯¸í•˜ê¸° ë•Œë¬¸ì— alertë¡œ "ì´ë¯¸ ë¡œê·¸ì¸ ìƒíƒœì…ë‹ˆë‹¤" ì•ˆë‚´í•œ í›„, ë°”ë¡œ Home í˜ì´ì§€(ì»´í¬ë„ŒíŠ¸ : Home, ê²½ë¡œ : "/")ë¡œ ì´ë™

```jsx
import { Navigate, Outlet } from "react-router-dom";
import Navbar from "./Navbar";
import styled from "styled-components";
import { CommonContainer } from "styles/CommonStyles";

const NonAuthLayout = () => {
  const isAuthenticated = localStorage.getItem("accessToken") ? true : false;

  if (isAuthenticated) {
    alert("ì´ë¯¸ ë¡œê·¸ì¸ ìƒíƒœì…ë‹ˆë‹¤.");
    return <Navigate to="/" replace />;
  }

  return (
    <>
      <Navbar />

      <StLayout>
        <StContainer>
          <StMessage>
            ë¡œê·¸ì¸ì´ ë°˜ë“œì‹œ ì•ˆ ë˜ì–´ ìˆì–´ì•¼ í•˜ëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.
          </StMessage>
          <StMain>
            <Outlet />
          </StMain>
        </StContainer>
      </StLayout>
    </>
  );
};

export default NonAuthLayout;

const StLayout = styled.nav`
  background-color: #e2e2e2;
  border-bottom: 1px solid #ddd;
`;

const StContainer = styled(CommonContainer)`
  flex-direction: column;
  min-height: 100vh;
`;

const StMessage = styled.p`
  text-align: center;
  margin: 20px 0;
  font-size: 18px;
  color: #333;
`;

const StMain = styled.main`
  flex: 1;
  padding: 20px;
`;
```

<br>

# 5.3 Navbar.jsx

> ìš”êµ¬ì‚¬í•­

- localStorageì˜ accessToken ì—¬ë¶€ì— ë”°ë¼ [ë¡œê·¸ì¸í•˜ëŸ¬ê°€ê¸°], [ë¡œê·¸ì•„ì›ƒ] ë²„íŠ¼ì„ ë‹¤ë¥´ê²Œ ë³´ì—¬ì£¼ê¸°(ì¡°ê±´ë¶€ ë Œë”ë§)

1. ë¡œê·¸ì¸í•˜ëŸ¬ê°€ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ
   1. login í˜ì´ì§€ë¡œ ë¼ìš°íŒ…
2. ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ í´ë¦­ ì‹œ
   1. localStorageì— ì €ì¥ë˜ì–´ìˆëŠ” accessToken, userId, nicknameì„ ì œê±°
   2. Home í˜ì´ì§€(ì»´í¬ë„ŒíŠ¸ : Home, ê²½ë¡œ : "/")ë¡œ ì´ë™
3. `ul`íƒœê·¸ ë‚´ë¶€ì˜ `li` íƒœê·¸ë¥¼ í™œìš©í•˜ì—¬ ê° í˜ì´ì§€ì— ëŒ€í•œ ë‚´ë¹„ê²Œì´ì…˜ì„ ì™„ì„±ì‹œí‚¤ê¸°
   1. 1ë²ˆ ìœ ì €ì˜ ì •ë³´ : userIdë¥¼ 1ë¡œ params ì§€ì •í•  ìˆ˜ ìˆê²Œ ê²½ë¡œ ì„¤ì •
   2. 2ë²ˆ ìœ ì €ì˜ ì •ë³´ : userIdë¥¼ 2ë¡œ params ì§€ì •í•  ìˆ˜ ìˆê²Œ ê²½ë¡œ ì„¤ì •

```jsx
// src/components/layouts/Navbar.jsx
import { NavLink, useNavigate } from "react-router-dom";
import styled from "styled-components";
import { CommonContainer } from "styles/CommonStyles";

const Navbar = () => {
  const at = localStorage.getItem("accessToken") ? true : false;
  const navigate = useNavigate();

  const handleLogoutButton = () => {
    const logoutConfirm = window.confirm("ì •ë§ ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
    if (logoutConfirm) {
      localStorage.removeItem("accessToken");
      localStorage.removeItem("avatar");
      localStorage.removeItem("nickname");
      localStorage.removeItem("userId");
      navigate("/sign-in");
      alert("ë¡œê·¸ì•„ì›ƒ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
    }
  };

  return (
    <StNav>
      <StNavContainer>
        <StNavLink to="/">Home</StNavLink>
        {at ? (
          <StLogoutButton onClick={handleLogoutButton}>ë¡œê·¸ì•„ì›ƒ</StLogoutButton>
        ) : (
          <StAuthLinks>
            <StNavLink to="/sign-in">ë¡œê·¸ì¸</StNavLink>
            <StNavLink to="/sign-up">íšŒì›ê°€ì…</StNavLink>
          </StAuthLinks>
        )}
      </StNavContainer>
    </StNav>
  );
};

export default Navbar;

const StNav = styled.nav`
  background-color: #f8f9fa;
  padding: 10px 20px;

  border-bottom: 1px solid #ddd;
`;

const StNavContainer = styled(CommonContainer)`
  justify-content: space-between;
  align-items: center;
`;

const StNavLink = styled(NavLink)`
  color: #333;
  text-decoration: none;
  padding: 10px 15px;
  font-size: 16px;
  font-weight: 500;
  transition: color 0.3s ease, background-color 0.3s ease;

  &.active {
    font-weight: bold;
    color: #007bff;
    background-color: #e9ecef;
    border-radius: 5px;
  }

  &:hover {
    color: #0056b3;
  }
`;

const StLogoutButton = styled.div`
  cursor: pointer;
  color: #dc3545;
  font-size: 16px;
  font-weight: 500;
  padding: 10px 15px;
  border-radius: 5px;
  transition: background-color 0.3s ease;

  &:hover {
    background-color: #f8d7da;
  }
`;

const StAuthLinks = styled.div`
  display: flex;
  gap: 10px;
`;
```

<br><br>

# 7. ë¡œê·¸ì¸ í•´ì•¼ë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ í˜ì´ì§€

<br>
