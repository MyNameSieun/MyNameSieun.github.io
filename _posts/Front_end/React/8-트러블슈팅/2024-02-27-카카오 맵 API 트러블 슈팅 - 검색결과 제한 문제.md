---
title: "[React] ì¹´ì¹´ì˜¤ ë§µ API íŠ¸ëŸ¬ë¸” ìŠˆíŒ…: ê²€ìƒ‰ê²°ê³¼ ì œí•œ ë¬¸ì œ"
categories: [React]
tag: [React]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

# íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ğŸ’«

## ë°œìƒí•œ ë¬¸ì œ ğŸ¤¦â€â™€ï¸

í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì¹´ì¹´ì˜¤ ë§µ APIë¥¼ ì´ìš©í•´ ì¥ì†Œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œë¥¼ ê²ªì—ˆìŠµë‹ˆë‹¤.

ì‚¬ìš©ìê°€ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ë©´ ê·¸ì— í•´ë‹¹í•˜ëŠ” ì¥ì†Œë“¤ì˜ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ë•Œ, ê²€ìƒ‰ ê²°ê³¼ê°€ 15ê°œë¡œ ì œí•œë˜ì–´ ë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

![](/assets/images/2024/2024-02-27-11-24-16.png)

<br>

## ë¬¸ì œ ì›ì¸ ğŸ¤·â€â™€ï¸

ì´ ë¬¸ì œì˜ ì›ì¸ì„ ì°¾ê¸° ìœ„í•´ ì¹´ì¹´ì˜¤ ë§µ APIì˜ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì˜€ìŠµë‹ˆë‹¤.

ê·¸ ê²°ê³¼, ì¹´ì¹´ì˜¤ ë§µ APIëŠ” í•œ í˜ì´ì§€ ë‹¹ ì´ 15ê°œì˜ ë°ì´í„°ë¥¼ ì œê³µí•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
ë˜í•œ, í˜ì´ì§•ì„ í•œë‹¤ í•´ë„ ì´ 45ê°œ ì´ìƒì˜ ë°ì´í„°ëŠ” ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ëª…ì‹œë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.

<br>

## í•´ê²° ë°©ì•ˆ ğŸ’â€â™€ï¸

í˜ì´ì§€ ë²„íŠ¼ì„ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í´ë¦­í•  ë•Œë§ˆë‹¤ í•´ë‹¹ í˜ì´ì§€ì˜ ê²€ìƒ‰ ê²°ê³¼ê°€ ë¦¬ìŠ¤íŠ¸ë¡œ ë‚˜íƒ€ë‚˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

> ìƒíƒœ ê´€ë¦¬

ìš°ì„ , HomePage.jsxì—ì„œ mapPaginationì´ë¼ëŠ” stateë¥¼ ì¶”ê°€í•˜ê³  ì´ˆê¸°ê°’ì„ nullë¡œ ì„¤ì •í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ stateë¥¼ SideBarì™€ MapLoaderì— propsë¡œ ì „ë‹¬í•˜ì˜€ìŠµë‹ˆë‹¤.

```js
// src > pages > HomePage.jsx
const HomePage = () => {
  const [markers, setMarkers] = useState([]);
  const [mapPagination, setMapPagination] = useState(null);
  return (
    <div>
      <StContainer>
        <SideBar
          markers={markers}
          setMarkers={setMarkers}
          mapPagination={mapPagination}
        />
        <MapLoader
          markers={markers}
          setMarkers={setMarkers}
          setMapPagination={setMapPagination}
        />
      </StContainer>
    </div>
  );
};
export default HomePage;
```

<br>

> í˜ì´ì§• ì •ë³´ ì „ë‹¬

ë‹¤ìŒìœ¼ë¡œ, MapLoader.jsxì˜ Location ì»´í¬ë„ŒíŠ¸ì—ì„œ í˜ì´ì§• ì •ë³´ë¥¼ ì„¤ì •í•  ë•Œ setMapPaginationì„ ì´ìš©í•´ ì „ë‹¬í•˜ë„ë¡ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

```js
// src > components > MapLoader.jsx

const Location = ({ markers, setMarkers, setMapPagination }) => {
  useEffect(() => {
    if (!map) return;

    // ì¥ì†Œ ê²€ìƒ‰ ê°ì²´ë¥¼ ìƒì„±
    const ps = new kakao.maps.services.Places();

    ps.keywordSearch("ë°©íƒˆì¶œ", (data, status, pagination) => {
      if (status === kakao.maps.services.Status.OK) {
        const bounds = new kakao.maps.LatLngBounds();
        let markers = [];

        for (var i = 0; i < data.length; i++) {
          const id = data[i].id;
          const placeName = data[i].place_name;
          const categoryName = data[i].category_name;
          const phoneNumber = data[i].phone;
          const jibunAddress = data[i].address_name;
          const roadAddress = data[i].road_address_name;
          const placeUrl = data[i].place_url;

          // setMapPaginationì„ ì´ìš©í•˜ì—¬ í˜ì´ì§• ì •ë³´ ì „ë‹¬
          setMapPagination(pagination);
        ...

  }, [map]);
};
```

<br>

> í˜ì´ì§€ ë²„íŠ¼ ë° ì´ë™ êµ¬í˜„

ë§ˆì§€ë§‰ìœ¼ë¡œ, SideBar.jsxì—ì„œëŠ” í˜ì´ì§€ ë²„íŠ¼ì„ ì¶”ê°€í•˜ê³ , í´ë¦­ ì‹œ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•˜ë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

í˜ì´ì§€ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ mapPagination.getPage()ë¥¼ í†µí•´ í˜„ì¬ í˜ì´ì§€ë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ , í´ë¦­ ì‹œ í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™í•˜ë„ë¡ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

```js
// src > components > SideBar.jsx
const SideBar = ({ markers, setMarkers, mapPagination }) => {
  const [searchTerm, setSearchTerm] = useState("");
  const [currentPage, setCurrentPage] = useState(1);

  const buttonsNumber = [1, 2, 3];

  // í˜ì´ì§€ ë²ˆí˜¸ í´ë¦­ í•¸ë“¤ëŸ¬
  const handlePageChange = (pageNumber) => {
    mapPagination.gotoPage(pageNumber);
    setCurrentPage(pageNumber);
  };

  return (
    <StButtonBox>
      {buttonsNumber.map((buttonNumber) => (
        <StPageButton
          index={buttonNumber}
          onClick={() => handlePageChange(buttonNumber)}
          $currentPage={currentPage}
        >
          {buttonNumber}
        </StPageButton>
      ))}
    </StButtonBox>
  );
};

export default SideBar;
```

![](/assets/images/2024/2024-02-27-13-58-58.png)

<br>
