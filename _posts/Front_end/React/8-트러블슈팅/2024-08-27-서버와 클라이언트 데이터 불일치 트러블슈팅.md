---
title: "[React] μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ λ°μ΄ν„° λ¶μΌμΉ νΈλ¬λΈ”μν…π’«"
categories: [React]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

# λ°μƒν• λ¬Έμ  π¤¦β€β™€οΈ

λ“κΈ€μ„ μ‘μ„±ν•  λ• ν΄λΌμ΄μ–ΈνΈμ μƒνƒκ°€ μ¦‰μ‹ μ—…λ°μ΄νΈλμ§€ μ•μ•„μ„ νμ΄μ§€λ¥Ό μƒλ΅κ³ μΉ¨ν•΄μ•Όλ§ λ“κΈ€μ΄ λ°μλλ” λ¬Έμ κ°€ λ°μƒν•μ€λ‹¤.

```jsx
const handleCommentSubmit = async (commentContent) => {
  try {
    const newComment = await createComment(id, { content: commentContent });
    setComments((prevComments) => [...prevComments, newComment]);
  } catch (error) {
    alert("λ“κΈ€ μ‘μ„± μ¤‘ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤.");
  }
};
```

<br>

# λ¬Έμ  μ›μΈ π¤·β€β™€οΈ

λ¬Έμ μ μ›μΈμ€ ν΄λΌμ΄μ–ΈνΈ μƒνƒμ™€ μ„λ²„ μƒνƒ κ°„μ λ¶μΌμΉμ΄λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ μ‘λ‹µμ„ κΈ°λ‹¤λ¦¬μ§€ μ•κ³  μƒνƒλ¥Ό μ—…λ°μ΄νΈν•κΈ° λ•λ¬Έμ—, μ„λ²„μ—μ„ μµμ‹  λ“κΈ€ λ©λ΅μ„ κ°€μ Έμ¤κΈ° μ „κΉμ§€λ” ν΄λΌμ΄μ–ΈνΈ μƒνƒμ™€ μ„λ²„ μƒνƒκ°€ λ‹¤λ¥Ό μ μλ‹¤.

<br>

# ν•΄κ²° λ°©μ• π’β€β™€οΈ

μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°„μ λ°μ΄ν„° λ¶μΌμΉλ¥Ό λ°©μ§€ν•λ” λ‘ κ°€μ§€ λ°©λ²•μ„ μ†κ°ν•κ² λ‹¤!

<br>

## μ„λ²„μ—μ„ μµμ‹  λ“κΈ€ λ©λ΅ λ¶λ¬μ¤κΈ°

> ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό μ§μ ‘ μ—…λ°μ΄νΈν•λ” λ€μ‹ , μ„λ²„μ—μ„ μµμ‹  λ“κΈ€ λ©λ΅μ„ λ‹¤μ‹ κ°€μ Έμ™€ ν΄λΌμ΄μ–ΈνΈ μƒνƒλ¥Ό μ—…λ°μ΄νΈν•λ” λ°©λ²•μ΄λ‹¤.

```jsx
const handleCommentSubmit = async (commentContent) => {
  try {
    await createComment(id, { content: commentContent });
    const commentsData = await fetchComments(id);
    setComments(commentsData);
  } catch (error) {
    alert("λ“κΈ€ μ‘μ„± μ¤‘ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤.");
  }
};
```

<br>

## Optimistic UI

> Optimistic UIλ¥Ό μ‚¬μ©ν•λ©΄ μ‚¬μ©μκ°€ λ“κΈ€μ„ μ¶”κ°€ν–μ„ λ•, μ„λ²„μ μ‘λ‹µμ„ κΈ°λ‹¤λ¦¬μ§€ μ•κ³  ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ λ¨Όμ € λ“κΈ€μ„ μ—…λ°μ΄νΈν•μ—¬ UXλ¥Ό ν–¥μƒμ‹ν‚¬ μ μλ‹¤. μ„λ²„μ μ‘λ‹µμ΄ μ„±κ³µμ μ΄μ§€ μ•μ„ κ²½μ°μ— λ΅¤λ°± μ²λ¦¬ν•  μ μλ‹¤.

```jsx
const handleCommentSubmit = async (commentContent) => {
  const optimisticComment = {
    id: Date.now(), //  μ„μ‹ ID μƒμ„±
    content: commentContent,
    // κΈ°νƒ€ ν•„μ”ν• ν•„λ“λ“¤
  };

  setComments((prevComments) => [...prevComments, optimisticComment]);

  try {
    const newComment = await createComment(id, { content: commentContent });
    // μ„λ²„ μ‘λ‹µμΌλ΅ λ°›μ€ μ‹¤μ  IDλ΅ μ—…λ°μ΄νΈ
    setComments((prevComments) =>
      prevComments.map((comment) =>
        comment.id === optimisticComment.id ? newComment : comment
      )
    );
  } catch (error) {
    // μ‹¤ν¨ μ‹ λ“κΈ€ λ΅¤λ°±
    setComments((prevComments) =>
      prevComments.filter((comment) => comment.id !== optimisticComment.id)
    );
    alert("λ“κΈ€ μ‘μ„± μ¤‘ μ¤λ¥κ°€ λ°μƒν–μµλ‹λ‹¤.");
  }
};
```

<br>
