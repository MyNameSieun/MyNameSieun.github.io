---
title: "[React] props"
categories: [React]
tag: [React]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

# 1. props 개요

## 1.1 props의 개념

props란 부모 컴포넌트가 자식 컴포넌트에게 물려준 데이터이다.

즉, "컴포넌트 간의 정보 교류 방법"을 말한다.

<br>

## 1.2 props의 특징

props는 중요한 특징이 있다.⭐

1. props는 반드시 위에서 아래 방향으로 흐른다. 즉, [부모] → [자식] 방향으로만 흐른다(단방향).
2. props는 반드시 읽기 전용으로 취급하며, 변경하지 않는다

<br><br>

# 2. props로 값 전달하기

아래 코드에서 Child 컴포넌트에서 Mother의 이름을 어떻게 알 수 있도록 할까?

```js
// src/App.js

import React from "react";

function App() {
  return <GrandFather />;
}

function GrandFather() {
  return <Mother />;
}

function Mother() {
  const name = "홍부인";
  return <Child />;
}

function Child() {
  return <div>연결 성공</div>;
}

export default App;
```

<br>

## 2.1 전달하기 - [주체 : 부모]

컴포넌트 간의 정보를 교류할 때 `Props`를 사용한다.

만약 `Mother` 컴포넌트가 가지고 있는 정보(값)를 `Child`에게 주고 싶을 때는 아래 코드와 같이 작성한다.

```js
// src/App.js

import React from "react";

function App() {
  return <GrandFather />;
}

function GrandFather() {
  return <Mother />;
}

function Mother() {
  const name = "홍부인";
  return <Child motherName={name} />; // 💡"props로 name을 전달했다."
}

function Child() {
  return <div>연결 성공</div>;
}

export default App;
```

즉, `motherName`이라는 이름으로 `name` 값을 `Child` 컴포넌트에게 전달해준 것이다.

**이 과정을 “Props 로 정보를 전달했다” 라고 표현**한다.

<br>

## 2.2 받기 - [주체 : 자식]

`Mother`가 전달해준 `motherName`은 `Child`가 받게 하려면 컴포넌트의 인자에서 `props`의 값을 받으면 된다.

```js
function Child(props) {
  console.log(props);
  return <div>연결 성공</div>;
}
```

① `Mother`가 보내준 정보는 **객체** 형태이다.

② 즉, `props`란 결국 부모 컴포넌트가 자식에게 넘겨준 **데이터들의 묶음**인 것이다.

③ 이렇게 리액트에서는 `Props`를 통해 부모 컴포넌트로부터 자식 컴포넌트에 데이터를 넘겨줄 수 있다.

<br>

## 3. props로 받은 값을 화면에 렌더링 하기

Mother로부터 전달받은 motherName을 화면에 렌더링해보자

```jsx
import React from "react";

function App() {
  return <GrandFather />;
}

function GrandFather() {
  return <Mother />;
}

function Mother() {
  const name = "홍부인";
  return <Child motherName={name} />; // 💡"props로 name을 전달했다."
}

function Child(props) {
  console.log(props); // 객체형태로 값 전달받음
  console.log("props", props.motherName);
  return <div>나는 {props.motherName}의 아들입니다!</div>; // "나는 흥부인의 아들입니다!"
}

export default App;
```

① props는 object literal 형태이기 때문에 {props.motherName} 로 꺼내서 사용할 수 있다.

② object literal의 key가 motherName 인 이유는 Child로 보내줄 때 motherName={name} 으로 보내주었기 때문이다.

③ object literal 란 {key: “value”} 데이터 형태를 의미한다.

<br>

# 4. props 사용해보기

할아버지의 이름을 Child에게 전달해보자!

GrandFather 컴포넌트에서 GrandFatherName을 만들어서 화면에 렌더링하면 된다.

```js
import React from "react";

function App() {
  return <GrandFather />;
}

function GrandFather() {
  const name = "김춘식";
  return <Mother grandFatherName={name} />;
}

function Mother(props) {
  const gfName = props.grandFatherName;
  return <Child gfName={gfName} />;
}

function Child(props) {
  return <div>나는 {props.gfName}의 손자입니다!</div>;
}

export default App;
```

<br>

# 5. prop drilling

컴포넌트 계층 구조에서 데이터가 여러 단계를 거쳐 하위 컴포넌트로 전달되는 현상을 말한다.

데이터를 받지 않아도 되는데도 데이터를 전달해주는 용도로만 사용되는 것이 특징이다.

예를들어 `[부모] → [자식] → [그 자식] → [그 자식의 자식]`과 같을 때, "부모" 컴포넌트에서부터 차례대로 "자식", "그 자식"까지 데이터를 전달해야 한다.

이때, 중간에 위치한 "자식" 컴포넌트는 실제로 필요하지 않은 데이터를 받아서 다시 전달해야 하는데, 이런 과정이 prop drilling인 것이다.

<br>

아래의 코드처럼 prop drilling 현상을 피해야한다. <br>
이를 해결하기 위해 ‘Redux’와 같은 데이터 상태관리 툴을 배워야 하는 것이다.

```js
export default function App() {
  return (
    <div className="App">
      <FirstComponent content="Who needs me?" />
    </div>
  );
}

function FirstComponent({ content }) {
  return (
    <div>
      <h3>I am the first component</h3>;
      <SecondComponent content={content} />|
    </div>
  );
}

function SecondComponent({ content }) {
  return (
    <div>
      <h3>I am the second component</h3>;
      <ThirdComponent content={content} />
    </div>
  );
}

function ThirdComponent({ content }) {
  return (
    <div>
      <h3>I am the third component</h3>;
      <ComponentNeedingProps content={content} />
    </div>
  );
}

function ComponentNeedingProps({ content }) {
  return <h3>{content}</h3>;
}
```

<br>
