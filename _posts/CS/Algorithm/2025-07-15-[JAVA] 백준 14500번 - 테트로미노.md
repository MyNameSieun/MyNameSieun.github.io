---
title: "[Algorithm/Java] ë°±ì¤€ 14500ë²ˆ - í…ŒíŠ¸ë¡œë¯¸ë…¸ ğŸ§©"
categories: [Algorithm]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

[https://www.acmicpc.net/problem/14500](https://www.acmicpc.net/problem/14500)

---

<br>

# ğŸ” ë¬¸ì œ í’€ì´

## ë¬¸ì œ ë„ì‹í™”

1. DFSë¡œ ì—°ì†ëœ 4ì¹¸ì„ íƒìƒ‰í•˜ë©° ìµœëŒ€ê°’ì„ ì°¾ëŠ”ë‹¤.
2. DFSë¡œ ë§Œë“¤ ìˆ˜ ì—†ëŠ” ã…—, ã…, ã…œ, ã…“ ëª¨ì–‘ì€ ë³„ë„ë¡œ ì‹œë®¬ë ˆì´ì…˜ ì²˜ë¦¬ë¥¼ í•˜ì—¬ ìµœëŒ€ê°’ì„ ì°¾ëŠ”ë‹¤.
   - 'ã…—' ëª¨ì–‘ì€ ì¤‘ì‹¬ì ì—ì„œ ì„¸ ë°©í–¥ìœ¼ë¡œ ë»—ëŠ” êµ¬ì¡°
   - DFSë¡œëŠ” ê¹Šì´ 4ê¹Œì§€ ê°€ëŠ” ë„ì¤‘ ê°€ì§€ í•˜ë‚˜ê°€ ëŠê¸°ê²Œ ë˜ë¯€ë¡œ ë³„ë„ ì²˜ë¦¬ í•„ìš”

![14500 ë„ì‹í™”](<../../../assets/images/2025/14500 ë„ì‹í™”.png>)

<br>

## ì•Œê³ ë¦¬ì¦˜ ì„ íƒ

> ì´ ë¬¸ì œì—ì„œëŠ” ëª¨ë“  ì¹¸ì—ì„œ ì‹œì‘í•´, ìƒí•˜ì¢Œìš°ë¡œ 4ì¹¸ì„ íƒìƒ‰í•´ì•¼ í•˜ë¯€ë¡œ **DFS(ê¹Šì´ ìš°ì„  íƒìƒ‰) + ë°±íŠ¸ë˜í‚¹**ì´ ê°€ì¥ ì í•©í•˜ë‹¤.

- DFS (ê¹Šì´ ìš°ì„  íƒìƒ‰)

  - í•œ ë°©í–¥ìœ¼ë¡œ ëê¹Œì§€ ë“¤ì–´ê°„ ë’¤, ë§‰íˆë©´ ë’¤ë¡œ ëŒì•„ì˜¤ëŠ” ë°©ì‹ (Backtracking)
  - ì¬ê·€ ê¸°ë°˜ -> ë°±íŠ¸ë˜í‚¹ ê°€ëŠ¥

- BFS (ë„ˆë¹„ ìš°ì„  íƒìƒ‰)
  - í˜„ì¬ì—ì„œ ê°€ê¹Œìš´ ëª¨ë“  ìœ„ì¹˜ë¥¼ ë¨¼ì € íƒìƒ‰
  - í ê¸°ë°˜ -> ë ˆë²¨ ë‹¨ìœ„ íƒìƒ‰ -> ì¤‘ê°„ ë¶„ê¸° ì–´ë ¤ì›€

<br>

> ì•„ë˜ ê·¸ë¦¼ì€ DFSì™€ BFSê°€ íƒìƒ‰í•˜ëŠ” ìˆœì„œë¥¼ ë¹„êµí•œ ê²ƒì´ë‹¤.

![í…ŒíŠ¸ë¡œë¯¸ë…¸](../../../assets/images/2025/í…ŒíŠ¸ë¡œë¯¸ë…¸.jpg)

ìœ„ ê·¸ë¦¼ì„ í†µí•´ BFSëŠ” ê°€ëŠ¥í•˜ê¸´ í•˜ë‚˜, í ìƒíƒœì—ì„œ ê¹Šì´ ì¶”ì ì´ ì–´ë µë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ ê°€ê¹Œìš´ ì¹¸ë¶€í„° ë„“ê²Œ íƒìƒ‰í•˜ëŠ” BFSë³´ë‹¤, í•œ ë°©í–¥ìœ¼ë¡œ ê¹Šê²Œ íƒìƒ‰í•˜ëŠ” **DFSê°€ ë” ì í•©**í•˜ë‹¤.

<br>

> ë‹¨, 'ã…—', 'ã…œ', 'ã…', 'ã…“' ëª¨ì–‘ ë„í˜•ì€ DFSë¡œ ë§Œë“¤ ìˆ˜ ì—†ë‹¤.

- DFSëŠ” í•œ ë°©í–¥ìœ¼ë¡œë§Œ ê³„ì† íƒìƒ‰í•˜ê¸° ë•Œë¬¸ì—, ì¤‘ê°„ì—ì„œ ì–‘ìª½ìœ¼ë¡œ ë¶„ê¸°í•˜ëŠ”(3ë°©í–¥ìœ¼ë¡œ í¼ì§€ëŠ”) êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ë‹¤.
- ê·¸ëŸ¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•´ì•¼í• ê¹Œ? ì•Œì•„ë³´ì.

<br>

## 'ã…—'ëª¨ì–‘ì€ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ì§€?

> 'ã…—', 'ã…', 'ã…œ', 'ã…“' ëª¨ì–‘ ë„í˜•ì€ ìƒí•˜ì¢Œìš° íƒìƒ‰ìœ¼ë¡œëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤.

ë”°ë¼ì„œ `checkTShape(x, y)` í•¨ìˆ˜ë¥¼ í†µí•´ í˜„ì¬ ì¢Œí‘œ (x, y)ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ 3ë°©í–¥ì„ ë”í•´ ã…— ëª¨ì–‘ ë„í˜•ì„ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ í•´ì¤¬ë‹¤.

| ë°©í–¥       | ì¢Œí‘œ ë³€í™”  |
| ---------- | ---------- |
| **ì™¼ìª½**   | `x, y - 1` |
| **ì˜¤ë¥¸ìª½** | `x, y + 1` |
| **ìœ„ìª½**   | `x - 1, y` |
| **ì•„ë˜ìª½** | `x + 1, y` |

```java
int[][] Tshapes = {
    {0, -1, -1, 0, 0, 1}, // ã…—
    {-1, 0, 0, 1, 1, 0}, // ã…
    {0, -1, -1, 0, 1, 0}, // ã…“
    {0, -1, 0, 1, -1, 0} // ã…œ
};
```

![í…ŒíŠ¸ë¡œë¯¸ë…¸2](../../../assets/images/2025/í…ŒíŠ¸ë¡œë¯¸ë…¸2.png)

- ì´ì²˜ëŸ¼, ì¤‘ì‹¬ ì¢Œí‘œ `(x, y)`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì–‘ ë°©í–¥ìœ¼ë¡œ ë»—ì–´ë‚˜ê°€ë„ë¡ í•´ì•¼ í•œë‹¤.
- ì¦‰, ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ 3ê°œì˜ ë°©í–¥ìœ¼ë¡œ í™•ì¥í•˜ì—¬ ì´ 4ì¹¸ì„ êµ¬ì„±í•˜ëŠ” ë°©ì‹ì´ë‹¤.

<br>

> ì˜ˆë¥¼ ë“¤ì–´ ã…— ëª¨ì–‘ì˜ ê²½ìš°:

- ì¤‘ì‹¬: `(x, y)`
- í™•ì¥: ì™¼ìª½ `(x, y - 1)`, ì˜¤ë¥¸ìª½ `(x, y + 1)`, ì•„ë˜ `(x + 1, y)`

ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ã…, ã…“, ã…œ, ã…— ì´ 4ê°€ì§€ ëª¨ì–‘ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

ì´ì²˜ëŸ¼ ëª¨ë“  ì¹¸ì—ì„œ ëª¨ë“  ë°©í–¥ì˜ ë„í˜•ì„ ì§ì ‘ ì‹œë„í•˜ì—¬ ëˆ„ì  ìµœëŒ€ê°’ì„ ì°¾ëŠ”ë‹¤.

<br>

## 'ã…—'ëª¨ì–‘ì„ì²˜ë¦¬í•˜ëŠ” ë‘ ê°€ì§€ ë°©ë²•

> ë°°ì—´ ë°˜ë³µ ë°©ì‹

- dx1 dy1, dx2 dy2, dx3 dy3 í˜•íƒœë¡œ 3ê°œì˜ ë‚ ê°œ ì¢Œí‘œë¥¼ í•œ ì¤„ì˜ ë°°ì—´ë¡œ ë‚˜ì—´í•´ì„œ ì²˜ë¦¬í•œë‹¤.
- ì¤‘ì‹¬ ì¢Œí‘œ (x, y)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ 3ê°œì˜ ë°©í–¥ë§Œ ë”í•´ì£¼ê¸° ë•Œë¬¸ì— ê°„ê²°í•˜ë‹¤.
- ë„í˜• í•œ ë¬¶ìŒì„ ê²€ì‚¬í•˜ë‹¤ê°€ ì‹¤íŒ¨í•˜ë©´ ê·¸ ë„í˜•ë§Œ ê±´ë„ˆë›°ì–´ì•¼ í•˜ë¯€ë¡œ `continue` ì‚¬ìš©(ë„í˜•ë³„ ê²€ì‚¬)

{% raw %}

```java
public static void Tshape(int x, int y) {
    // ì¤‘ì‹¬(x, y) ê¸°ì¤€ ìƒëŒ€ ì¢Œí‘œ: 3ê°œ ë‚ ê°œ
    int[][] cases = {
        {  0, -1,  -1,  0,   0,  1 },  // ã…—
        { -1,  0,   0,  1,   1,  0 },  // ã…
        {  0, -1,   1,  0,   0,  1 },  // ã…œ
        { -1,  0,   0, -1,   1,  0 }   // ã…“
    };

    for (int[] c : cases) {
        int nx1 = x + c[0], ny1 = y + c[1];
        int nx2 = x + c[2], ny2 = y + c[3];
        int nx3 = x + c[4], ny3 = y + c[5];

        if (nx1 < 0 || nx1 >= n || ny1 < 0 || ny1 >= m) continue;
        if (nx2 < 0 || nx2 >= n || ny2 < 0 || ny2 >= m) continue;
        if (nx3 < 0 || nx3 >= n || ny3 < 0 || ny3 >= m) continue;

        int sum = paper[x][y]
                + paper[nx1][ny1]
                + paper[nx2][ny2]
                + paper[nx3][ny3];

        maxSum = Math.max(maxSum, sum);
    }
}
```

{% endraw %}

<br>

> ì¢Œí‘œ ë¶„ë¦¬ ë°©ì‹

- 4ê°œì˜ ì¢Œí‘œ ìŒì„ ê°ê° `{ {0,0}, {0,-1}, {0,1}, {-1,0} }`ì²˜ëŸ¼ ë°°ì—´ë¡œ ë¶„ë¦¬í•˜ì—¬ í‘œí˜„í•œë‹¤.
- ë°˜ë³µë¬¸ì—ì„œ ë°”ë¡œ nx, nyë¥¼ ê³„ì‚°í•˜ì—¬ í•©ì‚°í•  ìˆ˜ ìˆì–´ í¸ë¦¬í•˜ë‹¤.
- ì¢Œí‘œ í•˜ë‚˜ì”© ê²€ì‚¬í•˜ë‹¤ê°€ ì‹¤íŒ¨í•˜ë©´ ê·¸ ë„í˜• ì „ì²´ ì¤‘ë‹¨í•´ì•¼ í•˜ë¯€ë¡œ `break + isValid` ì‚¬ìš© (ì¢Œí‘œë³„ ê²€ì‚¬)

{% raw %}

```java
public static void Tshape(int x, int y) {
    int[][][] shapes = {
        { {0, 0}, {0, -1}, {-1, 0}, {0, 1} },  // ã…—
        { {0, 0}, {-1, 0}, {0, 1}, {1, 0} },   // ã…
        { {0, 0}, {0, -1}, {1, 0}, {0, 1} },   // ã…œ
        { {0, 0}, {-1, 0}, {0, -1}, {1, 0} }   // ã…“
    };

    for (int[][] shape : shapes) { // í•˜ë‚˜ì˜ ë„í˜•
        int sum = 0;
        boolean isValid = true;

        for (int[] d : shape) { // ê° ë„í˜•ì˜ ë‚ ê°œ ë¬¶ìŒ
            int nx = x + d[0];
            int ny = y + d[1];

            if (nx < 0 || nx >= n || ny < 0 || ny >= m) {
                isValid = false;
                break;
            }
            sum += paper[nx][ny];
        }

        if (isValid) maxSum = Math.max(maxSum, sum);
    }
}
```

{% endraw %}

<br>

## ğŸ’¥ ë©”ëª¨ë¦¬ë¥¼ ì¤„ì—¬ë³´ì

í…ŒíŠ¸ë¡œë¯¸ë…¸ ë¬¸ì œë¥¼ í’€ì—ˆì„ ë•Œ, ì •ë‹µì€ ë§ì·„ì§€ë§Œ **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë¬´ë ¤ 283080KB**ê°€ ë‚˜ì™€ì„œ ê¹œì§ ë†€ëë‹¤.

ë‹¤ë¥¸ ì‚¬ëŒë“¤ì€ ë³´í†µ 3~8ë§Œ KB ì •ë„ì˜€ëŠ”ë°, ë‚˜ëŠ” ì™œ ì´ë ‡ê²Œ ë§ì´ ë‚˜ì™”ì„ê¹Œ?

<br>

> ì›ì¸ ë¶„ì„

ì²˜ìŒì—ëŠ” `dfs()` í•¨ìˆ˜ ì•ˆì— ë‹¤ìŒê³¼ ê°™ì€ ë°©í–¥ ë²¡í„°ë¥¼ ë§¤ë²ˆ ì„ ì–¸í–ˆë‹¤.

```java
public void dfs(...) {
    int[] dx = {-1, 1, 0, 0};
    int[] dy = {0, 0, -1, 1};
}
```

- ì´ ì½”ë“œëŠ” DFSê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ `int[]` ë°°ì—´ì„ ìƒì„±í•œë‹¤.
- í…ŒíŠ¸ë¡œë¯¸ë…¸ ë¬¸ì œì—ì„œëŠ” DFSê°€ ìˆ˜ë§Œ ë²ˆ ì´ìƒ í˜¸ì¶œë˜ë¯€ë¡œ ê²°ê³¼ì ìœ¼ë¡œ `int[]` ê°ì²´ ìˆ˜ì²œ~ìˆ˜ë§Œ ê°œê°€ í™ì— ìŒ“ì´ê²Œ ëœë‹¤.
- ì´ê²Œ JVM ë©”ëª¨ë¦¬ í­ì¦ì˜ ì£¼ë²”ì´ì—ˆë‹¤.

<br>

> í•´ê²°

ë¬¸ì œì˜ ë°©í–¥ ë²¡í„°ë¥¼ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì„ ì–¸í•˜ì§€ ì•Šê³ ,<br>
ì „ì—­ìœ¼ë¡œ ë¹¼ì£¼ê¸°ë§Œ í•´ë„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ëˆˆì— ë„ê²Œ ì¤„ì–´ë“ ë‹¤.

ì´ë ‡ê²Œ ê³ ì •ëœ ë°°ì—´ì€ í•œ ë²ˆë§Œ ìƒì„±ë˜ê³  ëª¨ë“  DFS í˜¸ì¶œì—ì„œ ì¬ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì—<br>
í™ ë©”ëª¨ë¦¬ ëˆ„ì ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

```java
static int[] dx = {-1, 1, 0, 0};
static int[] dy = {0, 0, -1, 1};
```

í™•ì‹¤íˆ ê°œì„ ëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

![](/assets/images/2025/2025-07-15-16-40-07.png)

<br><br>

# ğŸ’» ì „ì²´ ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Main {
    static int[][] paper;
    static boolean[][] visited;

    static int n, m;
    static int maxSum = 0;

    static int[] dx = {-1, 1, 0, 0};
    static int[] dy = {0, 0, -1, 1};

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        // ì…ë ¥
        StringTokenizer st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken()); // í–‰
        m = Integer.parseInt(st.nextToken()); // ì—´

        paper = new int[n][m];
        visited = new boolean[n][m];

        // ì´ˆê¸°í™”
        for(int i = 0; i < n; i++){
            st = new StringTokenizer(br.readLine());
            for(int j = 0; j < m ; j++){
                paper[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        // buildBlock, Tshape í˜¸ì¶œ
        for(int i = 0; i < n; i++){
            for(int j = 0; j< m ; j++){
                visited[i][j] = true;

                // i,j í˜„ì¬ ë¸”ë¡ì˜ ì¢Œí‘œ (ì‹œì‘ì ì´ì ì²« ë²ˆì§¸ ì¹¸)
                // depth=1ë¶€í„° ì‹œì‘(ì‹œì‘ ì¢Œí‘œ í¬í•¨),
                buildBlock(i, j, 1, paper[i][j]); // ì‹œì‘ ì¢Œí‘œì—ì„œ DFS ì‹œì‘
                visited[i][j] = false; // ì‹œì‘ì  íƒìƒ‰ í›„ ë°±íŠ¸ë˜í‚¹

                Tshape(i, j);
            }
        }

        System.out.println(maxSum);
    }

    // ì—°ì†ëœ 4ì¹¸ ë¸”ë¡ ë†“ê¸° (ã…— ëª¨ì–‘ ì œì™¸)
    public static void buildBlock(int x, int y, int depth, int total) {
        if (depth == 4) {
            maxSum = Math.max(maxSum, total);
            return;
        }

        // ìƒí•˜ì¢Œìš°ë¡œë§Œ ì´ë™ ê°€ëŠ¥
        for (int i = 0; i < 4; i++) {
            int nx = x + dx[i];
            int ny = y + dy[i];

            if(nx < 0 || nx >= n || ny < 0 || ny >= m) continue;
            if (!visited[nx][ny]) {
                visited[nx][ny] = true;
                buildBlock(nx, ny, depth + 1, total + paper[nx][ny]);
                visited[nx][ny] = false; // ìƒˆë¡œìš´ ê²½ë¡œ íƒìƒ‰ í›„ ë°±íŠ¸ë˜í‚¹
            }
        }
    }

    // ã…— ëª¨ì–‘ íƒìƒ‰
    public static void Tshape(int x, int y){
        // ë°©í–¥ë°±í„° ì •ì˜
        int[][] cases = {
                // dx1 dy1   dx2 dy2   dx3 dy3  (ì¤‘ì‹¬(x,y) ê¸°ì¤€ 3ì¹¸ì˜ ìƒëŒ€ ì¢Œí‘œ)
                {  0, -1,   -1,  0,    0,  1 },   // ã…—
                { -1,  0,    0,  1,    1,  0 },   // ã…
                {  0, -1,    1,  0,    0,  1 },   // ã…œ
                { -1,  0,    0, -1,    1,  0 }    // ã…“
        };

        int sum = 0;
        for(int[] c : cases){
            // í•œ ëª¨ì–‘ì— ëŒ€í•œ ì–‘ìª½ 3ê°œ ë‚ ê°œ
            int nx1 = x + c[0], ny1 = y + c[1];
            int nx2 = x + c[2], ny2 = y + c[3];
            int nx3 = x + c[4], ny3 = y + c[5];

            if(nx1 < 0 || nx1 >= n || ny1 < 0 || ny1 >= m) continue;
            if(nx2 < 0 || nx2 >= n || ny2 < 0 || ny2 >= m) continue;
            if(nx3 < 0 || nx3 >= n || ny3 < 0 || ny3 >= m) continue;

            sum = paper[x][y] + paper[nx1][ny1] + paper[nx2][ny2] + paper[nx3][ny3];
            maxSum = Math.max(maxSum, sum);
        }
    }
}
```

<br>

ì´ë¡œì¨ class 3 ë¬¸ì œ í•´ê²° ì™„ë£Œ! ğŸ¤—

![](/assets/images/2025/2025-07-11-12-46-08.png)

<br>
