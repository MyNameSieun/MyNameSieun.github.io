---
title: "[Algorithm/Java] ë°±ì¤€ 14502ë²ˆ - ì—°êµ¬ì†Œ"
categories: [Algorithm]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

[https://www.acmicpc.net/problem/14502](https://www.acmicpc.net/problem/14502)

---

<br>

# ğŸ” ë¬¸ì œ í’€ì´

## ì•Œê³ ë¦¬ì¦˜ ì„ íƒ

- ë²½ì„ 3ê°œ ì„¸ìš°ëŠ” ê±´ ì¡°í•©ì„ ëª¨ë‘ íƒìƒ‰í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— **DFS ê¸°ë°˜ì˜ ë°±íŠ¸ë˜í‚¹**ìœ¼ë¡œ êµ¬í˜„í–ˆê³ ,
- ë²½ì´ ì„¸ì›Œì§„ ë’¤ ë°”ì´ëŸ¬ìŠ¤ ì „íŒŒëŠ” ë™ì‹œì— ì—¬ëŸ¬ ë°©í–¥ìœ¼ë¡œ í¼ì§€ëŠ” íŠ¹ì„±ì„ ê³ ë ¤í•´ **BFS**ë¡œ ì²˜ë¦¬í–ˆë‹¤.

<br>

## ìˆœì—´ vs ì¡°í•© ì‹¤í–‰ ì‹œê°„ ë¹„êµ

> ì‹¤í–‰ ì‹œê°„ì´ ì–´ë§ˆì–´ë§ˆí•˜ê²Œ ì°¨ì´ê°€ ë‚˜ëŠ” ê²ƒì„ ë³¼ìˆ˜ ìˆë‹¤.

![](/assets/images/2025/2025-09-20-19-34-12.png)

> [ì¤‘ë³µ ìˆœì—´ - ê¸°ì¡´ ë°©ì‹]

ê¸°ì¡´ ë°©ì‹ì€ ì¤‘ë³µ ìˆœì—´ì´ë¼ ê°™ì€ 3ì¹¸ ì¡°í•©ë„ ìˆœì„œë§Œ ë°”ê¿” ì—¬ëŸ¬ ë²ˆ íƒìƒ‰í•´ ë¶ˆí•„ìš”í•œ ì—°ì‚°ì´ ë§ì•˜ë‹¤.

- buildWallì—ì„œ ë‹¨ìˆœíˆ `map[i][j] == 0`ì´ë©´ ì „ë¶€ ëŒë©´ì„œ ë²½ì„ ì„¸ì›€.
- ëª¨ë“  ì¢Œí‘œ(i, j)ì— ëŒ€í•´ ì¬ê·€ í˜¸ì¶œí–ˆê¸° ë•Œë¬¸ì—, ê°™ì€ 3ì¹¸ì„ ê³ ë¥´ëŠ” ê²½ìš°ì—ë„ ìˆœì„œë§Œ ë‹¤ë¥¸ ì¤‘ë³µ ê²½ë¡œë¥¼ ì „ë¶€ íƒìƒ‰
- ì¦‰, ê°™ì€ 3ì¹¸ ì¡°í•©ì„ 3! ë²ˆì”© ì¤‘ë³µí•´ì„œ íƒìƒ‰

<br>

> [ì¡°í•© - ê°œì„ ëœ ë°©ì‹]

- 2ì°¨ì› ë°°ì—´ì—ì„œ ë¹ˆì¹¸ê³¼ ë°”ì´ëŸ¬ìŠ¤ ì¢Œí‘œë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ì €ì¥í•œ ë’¤, ë¹ˆì¹¸ ì¢Œí‘œ ë¦¬ìŠ¤íŠ¸ì—ì„œ 3ê°œë¥¼ ì¡°í•©ìœ¼ë¡œ ì„ íƒí•´ ë²½ì„ ì„¸ìš°ê³  ì•ˆì „ì˜ì—­ì„ ê³„ì‚°í•˜ëŠ” ë°©ì‹ì´ë‹¤.
- `start`ë¥¼ ì´ìš©í•´ ê°™ì€ ë²½ ì¡°í•©ì„ í•œ ë²ˆë§Œ íƒìƒ‰ (ì¡°í•© ì¤‘ë³µ ì œê±°)
- ë˜í•œ ë§µ ë³µì‚¬ ëŒ€ì‹  ë°©ë¬¸ ë°°ì—´ê³¼ `safe--`ë¥¼ ì‚¬ìš©í•´ ì‹¤í–‰ ì‹œê°„ì„ í¬ê²Œ ì¤„ì˜€ë‹¤

<br>

ì¦‰, 2ì°¨ì› ë°°ì—´ì„ ê·¸ëŒ€ë¡œ ì¤‘ì²© forë¬¸ìœ¼ë¡œ ëŒë©´ ìˆœì—´ì²˜ëŸ¼ ì¤‘ë³µì´ ìƒê¸°ê³ ,<br>
ì¢Œí‘œë¥¼ ì¸ë±ìŠ¤ë¡œ ë³€í™˜í•´ ì¡°í•©ì„ ë§Œë“¤ë©´ **ì¤‘ë³µ ì—†ì´ í•œ ë²ˆë§Œ íƒìƒ‰** í•˜ê²Œ ëœë‹¤!

<br>

## ë¬¸ì œ ë„ì‹í™”

> ì¤‘ë³µ ìˆœì—´

![alt text](<../../../assets/images/2024/14502(1).jpg>)

<br>

> ì¡°í•©

![alt text](<../../../assets/images/2024/14502(2).jpg>)

<br><br>

# ğŸ’» ì „ì²´ ì½”ë“œ

## [ë°©ë²• 1] ì¤‘ë³µ ìˆœì—´ (ë¹„íš¨ìœ¨)

```java
import java.io.*;
import java.util.*;

public class Main {
    static int n, m;

    static int[][] map;
    static int[][] virusMap;
    static int maxSafeZone = Integer.MIN_VALUE;

    static int[] dx = {-1, 1, 0, 0};
    static int[] dy = {0, 0, -1, 1};

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        StringTokenizer st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());

        map = new int[n][m];

        for(int i=0; i<n; i++){
            st = new StringTokenizer(br.readLine());
            for(int j=0; j<m; j++){
                map[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        buildWall(0);
        System.out.println(maxSafeZone);

    }

    // ë²½ ì„¸ìš°ê¸°
    static void buildWall(int depth) {
        if(depth == 3){
            spreadVirus();
            return;
        }

        for(int i=0; i<n; i++){
            for(int j=0; j<m; j++) {

                if (map[i][j] == 0) {
                    map[i][j] = 1; // ë²½ ì„¸ìš°ê¸°
                    buildWall(depth + 1); // ë‹¤ìŒ ë²½ìœ¼ë¡œ
                    map[i][j] = 0; // ë°±íŠ¸ë˜í‚¹
                }
            }
        }
    }

    // ë°”ì´ëŸ¬ìŠ¤ í¼íŠ¸ë¦¬ê¸°
    static void spreadVirus(){
        // 1. ì´ˆê¸°í™”
        Deque<int[]> dq = new ArrayDeque<>();
        virusMap = new int[n][m];

        // 2. ì´ˆê¸°ê°’
        // ë°”ì´ëŸ¬ìŠ¤ ìœ„ì¹˜ íì— ì¶”ê°€
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                virusMap[i][j] = map[i][j];
                if (virusMap[i][j] == 2) {
                    dq.offer(new int[]{i, j});
                }
            }
        }

        // 3. íƒìƒ‰
        while(!dq.isEmpty()){
            int[] cur = dq.poll();
            int cx = cur[0];
            int cy = cur[1];

            for(int d= 0; d<4; d++){
                int nx = cx + dx[d];
                int ny = cy + dy[d];

                if(nx < 0 || nx >= n || ny < 0 || ny >= m) continue;
                if (virusMap[nx][ny] == 0) {
                    virusMap[nx][ny] = 2;
                    dq.offer(new int[]{nx, ny});
                }
            }
        }

        safeZone(virusMap);

    }

    // ì•ˆì „ì˜ì—­ ê³„ì‚° (ëª¨ë“  0ì¸ì¹¸ ê°œìˆ˜ ì„¸ê¸°)
    static void safeZone(int[][] virusMap){
        int safeZone = 0;
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if (virusMap[i][j] == 0) safeZone++;
            }
        }
        maxSafeZone = Math.max(maxSafeZone, safeZone);
    }
}
```

<br>

## [ë°©ë²• 2] ì¡°í•© ğŸ“Œ

```java
import java.io.*;
import java.util.*;

public class Main {
    static int n, m;

    static int[][] map;
    static int[][] virusV;
    static int maxSafeZone = Integer.MIN_VALUE;

    static int[] dx = {-1, 1, 0, 0};
    static int[] dy = {0, 0, -1, 1};

    static List<Pos> empties = new ArrayList<>();
    static List<Pos> viruses = new ArrayList<>();

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        StringTokenizer st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());

        map = new int[n][m];

        // ì…ë ¥ ë° ë¹ˆì¹¸/ë°”ì´ëŸ¬ìŠ¤ ì¢Œí‘œ ìˆ˜ì§‘
        for (int i = 0; i < n; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < m; j++) {
                map[i][j] = Integer.parseInt(st.nextToken());
                if (map[i][j] == 0) empties.add(new Pos(i, j));
                else if (map[i][j] == 2) viruses.add(new Pos(i, j));
            }
        }

        buildWall(0, 0); // ì¡°í•©
        System.out.println(maxSafeZone);

    }

    // ë²½ ì„¸ìš°ê¸° (DFS)
    static void buildWall(int depth, int start) {
        if(depth == 3){
            spreadViruses();
            return;
        }

        for(int i=start; i<empties.size(); i++){
            Pos p = empties.get(i);

            if(map[p.x][p.y] == 0){
                map[p.x][p.y] = 1;
                buildWall(depth + 1, i + 1);
                map[p.x][p.y] = 0;
            }
        }
    }

    // ë°”ì´ëŸ¬ìŠ¤ í¼íŠ¸ë¦¬ê¸° (BFS)
    static void spreadViruses() {
        // 1. ì´ˆê¸°í™”
        Deque<Pos> dq = new ArrayDeque<>();
        virusV = new int[n][m];

        // 2. ì´ˆê¸°ê°’
        int safe = empties.size() - 3; // ì•ˆì „ì˜ì—­ ì´ˆê¸°ê°’ = ì „ì²´ ë¹ˆì¹¸ - ë²½ 3ê°œ

        for (Pos v : viruses) {
            dq.offer(v);
            virusV[v.x][v.y] = 1;
        }

        // 3. íƒìƒ‰
        while (!dq.isEmpty()) {
            Pos cur = dq.poll();

            // 3-1. 4ë°©í–¥, ë²”ìœ„
            for (int d = 0; d < 4; d++) {
                int nx = cur.x + dx[d];
                int ny = cur.y + dy[d];

                if (nx < 0 || nx >= n || ny < 0 || ny >= m) continue;

                // 3-2. ë¯¸ë°©ë¬¸, í˜„ì¬ì¹¸ 0
                if (virusV[nx][ny] == 0 && map[nx][ny] == 0) {
                    virusV[nx][ny] = 1; // ê°ì—¼ë¨
                    safe--; // ì•ˆì”ì˜ì—­ ê°ì†Œ
                    dq.offer(new Pos(nx, ny));
                }
            }
        }

        maxSafeZone = Math.max(maxSafeZone, safe);
    }

    static class Pos{
        int x;
        int y;

        Pos(int x, int y){
            this.x = x;
            this.y = y;
        }
    }
}
```

<br>
