---
title: "[Algorithm/Java] 백준 20546번 - 🐜기적의 매매법🐜"
categories: [Algorithm]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

[https://www.acmicpc.net/problem/20546](https://www.acmicpc.net/problem/20546)

---

<br>

# 🔍 문제 풀이

## 문제 도식화

![20546 도식화](<../../../assets/images/2025/20546 도식화.png>)

<br><br>

# 💻 전체 코드

클래스 생성하는 것에 더 익숙해져야 할 것 같다.

## 클래스 사용

```java
import java.io.*;
import java.util.*;

public class Main {
    static int[] stockPrice;

    static class Investor {
        int cash;
        int stockCnt;

        // 생성자
        public Investor(int cash) {
            // 처음엔 현금만 있기 때문에 cash만 받기
            this.cash = cash; // 초기 자본 설정
            this.stockCnt = 0;// 보유 주식 수 0으로 초기화
        }

        // 매수
        public void buy(int todayPrice) {
            stockCnt = cash / todayPrice;
            cash -= todayPrice * stockCnt;
        }

        // 매도
        public void sell(int todayPrice) {
            cash += todayPrice * stockCnt;
            stockCnt = 0;
        }

        // 자산 계산
        public int total(int lastPrice) {
            return cash + (stockCnt * lastPrice);
        }
    }

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        int cash = Integer.parseInt(br.readLine());
        stockPrice = new int[14];

        StringTokenizer st = new StringTokenizer(br.readLine());
        for (int i = 0; i < 14; i++) {
            stockPrice[i] = Integer.parseInt(st.nextToken());
        }

        int bnp = BNP(cash);
        int timing = TIMING(cash);

//        System.out.println(timing);
//        System.out.println(bnp);

        if (bnp < timing)
            System.out.println("TIMING");
        else if (timing < bnp)
            System.out.println("BNP");
        else
            System.out.println("SAMESAME");
    }

    // 준현
    static int BNP(int cash) {
        Investor investor = new Investor(cash);

        for (int i = 0; i < 13; i++) {
            investor.buy(stockPrice[i]);
        }
        return investor.total(stockPrice[13]);
    }

    static int TIMING(int cash) {
        Investor investor = new Investor(cash);
        for (int i = 3; i < 13; i++) {
            if (stockPrice[i - 1] > stockPrice[i - 2] && stockPrice[i - 2] > stockPrice[i - 3]) {
                investor.sell(stockPrice[i]);
            } else if (stockPrice[i - 1] < stockPrice[i - 2] && stockPrice[i - 2] < stockPrice[i - 3]) {
                investor.buy(stockPrice[i]);
            }
        }
        return investor.total(stockPrice[13]);
    }
}
```

<br>

## 클래스 미사용

```java
import java.io.*;
import java.util.*;

public class Main {
    static int[] stockPrice;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        int cash = Integer.parseInt(br.readLine());
        stockPrice = new int[14];

        StringTokenizer st = new StringTokenizer(br.readLine());
        for (int i = 0; i < 14; i++) {
            stockPrice[i] = Integer.parseInt(st.nextToken());
        }

        int bnp = BNP(cash);
        int timing = TIMING(cash);

//        System.out.println(timing);
//        System.out.println(bnp);

        if (bnp < timing)
            System.out.println("TIMING");
        else if (timing < bnp)
            System.out.println("BNP");
        else
            System.out.println("SAMESAME");
    }

    // 준현
    static int BNP(int cash) {
        int stockCnt = 0;
        for(int i = 0; i<13; i++){
            if(stockPrice[i] <= cash){
                // 전량 매수
                int stockBuy = cash / stockPrice[i];
                stockCnt += stockBuy;
                cash -= stockPrice[i] * stockBuy;
            }
        }

        return cash + stockPrice[13] * stockCnt;

    }

    static int TIMING(int cash) {
        int stockCnt = 0;
        for(int i=3; i<13; i++){
            // 3일째 상승 -> 전량 매도
            if(stockPrice[i-1] > stockPrice[i-2] && stockPrice[i-2] > stockPrice[i-3]){
                cash += stockCnt * stockPrice[i];
                stockCnt = 0;
            }
            // 3일째 하락 -> 전량 매수
            else if(stockPrice[i-1] < stockPrice[i-2] && stockPrice[i-2] < stockPrice[i-3]){
                int stockBuy = cash / stockPrice[i];
                stockCnt += stockBuy;
                cash -= stockPrice[i] * stockBuy;
            }
        }
        return cash + stockPrice[13] * stockCnt;
    }
}
```

<br>
