---
title: "[Algorithm/Java] ë°±ì¤€ 1941ë²ˆ - ì†Œë¬¸ë‚œ ì¹ ê³µì£¼"
categories: [Algorithm]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

[https://www.acmicpc.net/problem/1941](https://www.acmicpc.net/problem/1941)

---

<br>

# ğŸ” ë¬¸ì œ í’€ì´

## ë¬¸ì œ ë„ì‹í™”

![assets/images/2024/1941.jpg](../../../assets/images/2024/1941.jpg)

![](/assets/images/2025/2025-09-09-21-47-26.png)

<br>

## ë¬¸ì œ í•´ê²° í¬ì¸íŠ¸ ğŸ’¡

> 2ì°¨ì› ë°°ì—´ì„ 1ì°¨ì›ìœ¼ë¡œ ë‹¤ë£¨ê¸°

1.  5x5 2ì°¨ì› ê²©ìë¥¼ 25ê°œì˜ ì¹¸ìœ¼ë¡œ ì´ë£¨ì–´ì§„ 1ì°¨ì› ë°°ì—´ì²˜ëŸ¼ ìƒê°í•˜ë©´ ë¬¸ì œë¥¼ ë” ê°„ë‹¨í•˜ê²Œ í’€ ìˆ˜ ìˆë‹¤.
2.  `(r, c)` ì¢Œí‘œëŠ” `r * 5 + c`ë¼ëŠ” ì¸ë±ìŠ¤ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤

<br>

> ë¬¸ì œë¥¼ í¬ê²Œ ë‘ ê°€ì§€ í•˜ìœ„ ë¬¸ì œë¡œ ë‚˜ëˆ„ê¸°

â‘  7ëª…ì˜ í•™ìƒ ì¡°í•© ì°¾ê¸° (DFS)

- 25ê°œì˜ ìë¦¬ ì¤‘ 7ê°œë¥¼ ì„ íƒí•˜ëŠ” ëª¨ë“  ì¡°í•© íƒìƒ‰
- `S` ê°€ 4ëª… ì´ìƒì¸ ê²½ìš°ë§Œ BFS í˜¸ì¶œí•´ ì¸ì ‘ì²´í¬

<br>

â‘¡ 7ëª… ì¸ì ‘ ì²´í¬ (BFS)

- 1ë‹¨ê³„ì—ì„œ dfsë¡œ ì„ íƒëœ 7ëª…ì˜ í•™ìƒì´ ì„œë¡œ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
- ì´ë¥¼ ìœ„í•´ `selected` ë°°ì—´ì„ ì‚¬ìš©í•˜ì—¬ ì„ íƒëœ 7ëª…ì˜ í•™ìƒ ìœ„ì¹˜ë¥¼ í‘œì‹œí•˜ê³ , ì´ ë°°ì—´ì„ ë°”íƒ•ìœ¼ë¡œ BFSë¥¼ ìˆ˜í–‰
- BFSë¥¼ ì‚¬ìš©í•´ 7ëª…ì´ ëª¨ë‘ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
- ì—°ê²°ëœ í•™ìƒ ìˆ˜ê°€ 7ëª…ì´ë©´ ìœ íš¨í•œ ì¡°í•©ì´ë¯€ë¡œ `ans ++`

<br>

-- ë¬¸ì–´ë°•ì‚¬ë‹˜ ì„¤ëª… ì •ë§ ì˜í•´ì£¼ì‹ ë‹¤. [[ë¬¸ì–´ë°•ì‚¬ë‹˜ ì„¤ëª… ë³´ê¸°]](https://www.youtube.com/watch?v=DWdFSOehwFI&list=PLodgw23vNd_UFQeV8GQtVHrT38VWE6iJv&index=17) --

<br>

# ğŸ’» ì½”ë“œ

## ì´ì§„íŠ¸ë¦¬ DFS

```java
import java.io.*;
import java.util.*;

public class Main {
    static char[][] arr;
    static int[][] selected; // ì„ íƒëœ ìë¦¬ ì €ì¥
    static int[][] v; // bfs ë°©ë¬¸í‘œì‹œ

    static int ans = 0;
    static int[] dx = {-1, 1, 0, 0};
    static int[] dy = {0, 0, -1, 1};

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        arr = new char[5][5];
        selected = new int[5][5];

        for(int i=0; i<5; i++) {
            String line = br.readLine();
            for (int j = 0; j < 5; j++) {
                arr[i][j] = line.charAt(j);
            }
        }

        dfs(0, 0, 0);
        System.out.println(ans);
    }

    static void dfs(int depth, int cnt, int sCnt) {
        // 0. ê°€ì§€ì¹˜ê¸° -> ì´ë¯¸ 7ëª… ë„˜ì—ˆìœ¼ë©´ ë¶ˆê°€
        if(cnt > 7) return;

        // 1. ì¢…ë£Œ ì¡°ê±´
        if(cnt == 7) {
            if(sCnt >= 4) {
                // 7ëª… ì¸ì ‘í•´ìˆëŠ”ì§€ ì²´í¬
                if (check()) {
                    ans += 1;
                }
            }
            return;
        }
        if(depth == 25) return;


        // 2. dfs í˜¸ì¶œ
        // í¬í•¨ o
        int x = depth / 5;
        int y = depth % 5;
        selected[x][y] = 1; // í˜„ì¬ë ˆë²¨ 1ë¡œ ë°©ë¬¸í‘œì‹œ
        dfs(depth + 1, cnt + 1, sCnt + (arr[x][y] == 'S' ? 1 : 0));
        selected[x][y] = 0; // ë°±íŠ¸ë˜í‚¹

        // í¬í•¨ x
        dfs(depth + 1, cnt, sCnt);
    }

    // bfsë¡œ 7ëª… ì¸ì ‘ ì²´í¬
    static boolean check(){
        for(int i=0; i<5; i++){
            for(int j=0; j<5; j++){
                if(selected[i][j] == 1){
                    return bfs(i, j);
                }
            }
        }
        return false;
    }

    static boolean bfs(int x, int y) {
        // 1. ì´ˆê¸°í™”
        Deque<int[]> dq = new ArrayDeque<>();
        v = new int[5][5];
        int cnt = 1;

        // 2. ì´ˆê¸°ê°’
        dq.offer(new int[]{x, y});
        v[x][y] = 1;


        // 3. íƒìƒ‰
        while(!dq.isEmpty()) {
            int[] cur = dq.poll();
            int cx = cur[0];
            int cy = cur[1];

            // 3-1. 4ë°©í–¥
            for(int d = 0; d < 4; d ++){
                int nx = cx + dx[d];
                int ny = cy + dy[d];

                // 3-2. ë²”ìœ„ ë‚´
                if(nx < 0 || nx >= 5 || ny < 0 || ny >= 5) continue;

                // 3-3. ë¯¸ë°©ë¬¸ + ì„ íƒ ì¹¸ë§Œ ì´ë™
                if(v[nx][ny] == 0 && selected[nx][ny] == 1){
                    dq.offer(new int[]{nx, ny});
                    v[nx][ny] = 1;

                    cnt += 1;
                }
            }
        }

        return cnt == 7;
    }
}
```

<br>

## FOR ë£¨í”„ DFS

```java

...

static void dfs(int depth, int cnt, int sCnt) {
    // 0. ê°€ì§€ì¹˜ê¸° -> ì´ë¯¸ 7ëª… ë„˜ì—ˆìœ¼ë©´ ë¶ˆê°€
    if (cnt > 7) return;

    // 1. ì¢…ë£Œ ì¡°ê±´
    if (cnt == 7) {
        if (sCnt >= 4) {
            // 7ëª… ì¸ì ‘í•´ìˆëŠ”ì§€ ì²´í¬
            if (check()) {
                ans += 1;
            }
        }
        return;
    }
    if (depth == 25) return;

    // 2. dfs í˜¸ì¶œ
    for (int i = depth; i < 25; i++) {
        int r = i / 5;
        int c = i % 5;

        selected[r][c] = 1;
        dfs(i + 1, cnt + 1, sCnt + (arr[r][c] == 'S' ? 1 : 0));
        selected[r][c] = 0; // ë°±íŠ¸ë˜í‚¹
    }
}

...

```

<br>
