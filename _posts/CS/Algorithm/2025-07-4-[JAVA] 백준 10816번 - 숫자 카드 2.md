---
title: "[Algorithm/Java] ë°±ì¤€ 10816ë²ˆ - ìˆ«ì ì¹´ë“œ 2"
categories: [Algorithm]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

[https://www.acmicpc.net/problem/10816](https://www.acmicpc.net/problem/10816)

---

<br>

# ğŸ“Œ ë¬¸ì œ

## ë¬¸ì œ ìœ í˜•

- ìë£Œ êµ¬ì¡°
- ì´ë¶„ íƒìƒ‰
- í•´ì‹œë§µ í™œìš©

<br>

## ë¬¸ì œ ì„¤ëª…

> ìƒê·¼ì´ëŠ” ìˆ«ì ì¹´ë“œ Nê°œë¥¼ ê°€ì§€ê³  ìˆë‹¤. ì •ìˆ˜ Mê°œê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì´ ìˆ˜ê°€ ì í˜€ìˆëŠ” ìˆ«ì ì¹´ë“œë¥¼ ìƒê·¼ì´ê°€ ëª‡ ê°œ ê°€ì§€ê³  ìˆëŠ”ì§€ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

- ì²«ì§¸ ì¤„ì— ìƒê·¼ì´ê°€ ê°€ì§€ê³  ìˆëŠ” ìˆ«ì ì¹´ë“œì˜ ê°œìˆ˜ N(1 â‰¤ N â‰¤ 500,000)ì´ ì£¼ì–´ì§„ë‹¤.
- ë‘˜ì§¸ ì¤„ì—ëŠ” ìˆ«ì ì¹´ë“œì— ì í˜€ìˆëŠ” ì •ìˆ˜ê°€ ì£¼ì–´ì§„ë‹¤. ìˆ«ì ì¹´ë“œì— ì í˜€ìˆëŠ” ìˆ˜ëŠ” -10,000,000ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , 10,000,000ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ë‹¤.
- ì…‹ì§¸ ì¤„ì—ëŠ” M(1 â‰¤ M â‰¤ 500,000)ì´ ì£¼ì–´ì§„ë‹¤. ë„·ì§¸ ì¤„ì—ëŠ” ìƒê·¼ì´ê°€ ëª‡ ê°œ ê°€ì§€ê³  ìˆëŠ” ìˆ«ì ì¹´ë“œì¸ì§€ êµ¬í•´ì•¼ í•  Mê°œì˜ ì •ìˆ˜ê°€ ì£¼ì–´ì§€ë©°, ì´ ìˆ˜ëŠ” ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ì ¸ ìˆë‹¤. ì´ ìˆ˜ë„ -10,000,000ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , 10,000,000ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ë‹¤.

<br>

## ì…ì¶œë ¥ ì˜ˆì‹œ

> ì…ë ¥

```
10
6 3 2 10 10 10 -10 -10 7 3
8
10 9 -5 2 3 4 5 -10
```

> ì¶œë ¥

```
3 0 0 1 2 0 0 2
```

<br><br>

# ğŸ” ë¬¸ì œ í’€ì´

## ë°©ë²•1. HashMap

> HashMapì€ í‚¤(key)ì— ëŒ€í•œ ê°’(value)ì„ ì €ì¥í•˜ëŠ” ìë£Œ êµ¬ì¡°ë¡œ, ë‚´ë¶€ì ìœ¼ë¡œ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ë¹ ë¥´ê²Œ íƒìƒ‰ì´ ê°€ëŠ¥í•˜ë‹¤.

- ê° ìˆ«ìì— ëŒ€í•´ `map.put(num, map.getOrDefault(num, 0) + 1)`ë¡œ ë“±ì¥ íšŸìˆ˜ë¥¼ ëˆ„ì 
- ì´í›„ Mê°œì˜ ìˆ«ìì— ëŒ€í•´ `map.getOrDefault(key, 0)`ì„ ì‚¬ìš©í•˜ì—¬ ì¹´ë“œì˜ ë³´ìœ  ê°œìˆ˜ë¥¼ ì¡°íšŒ
- ì¡°íšŒëœ ê°œìˆ˜ëŠ” StringBuilderë¥¼ í†µí•´ ê³µë°±ìœ¼ë¡œ ì´ì–´ ë¶™ì—¬ í•œ ë²ˆì— ì¶œë ¥
- ì‹œê°„ ë³µì¡ë„: `O(N + M)`

<br>

ì£¼ìš” ë©”ì„œë“œ:

| ë©”ì„œë“œ                       | ì„¤ëª…                                                   |
| ---------------------------- | ------------------------------------------------------ |
| `put(key, value)`            | í‚¤ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ì €ì¥í•˜ê±°ë‚˜ ê¸°ì¡´ ê°’ì„ ê°±ì‹            |
| `get(key)`                   | í‚¤ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ë°˜í™˜í•¨                              |
| `getOrDefault(key, default)` | í‚¤ê°€ ì¡´ì¬í•˜ë©´ í•´ë‹¹ ê°’ì„, ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’ì„ ë°˜í™˜ |
| `containsKey(key)`           | í•´ë‹¹ í‚¤ê°€ ë§µì— ì¡´ì¬í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•¨                |

```java
// ì„ ì–¸
Map<String, Integer> map = new HashMap<>();

// ê°’ ì¶”ê°€ ë˜ëŠ” ê°±ì‹ 
map.put("apple", 3);
map.put("banana", 5);

// ê°’ ì¡°íšŒ
int a = map.get("apple");           // 3
int b = map.getOrDefault("pear", 0); // í‚¤ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ 0 ë°˜í™˜

// í‚¤ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
if (map.containsKey("banana")) {
    System.out.println("ë°”ë‚˜ë‚˜ ìˆìŒ!");
}

// ë°˜ë³µ ìˆœíšŒ
for (String key : map.keySet()) {
    System.out.println("key: " + key + ", value: " + map.get(key));
}
```

í‰ê·  ì‹œê°„ ë³µì¡ë„ëŠ” ì‚½ì…/ì¡°íšŒ/ì‚­ì œ ëª¨ë‘ **O(1)** ë¡œ ë§¤ìš° ë¹ ë¥´ë‹¤.

ì¤‘ë³µ í‚¤ëŠ” í—ˆìš©ë˜ì§€ ì•Šìœ¼ë©°, ê¸°ì¡´ í‚¤ì— ëŒ€í•´ `put()`ì„ í•˜ë©´ ê°’ì´ ë®ì–´ì“°ê¸° ëœë‹¤.

<br>

> getOrDefaultëŠ” ê¼­ ì¨ì•¼ í• ê¹Œ?

ë°˜ë³µë¬¸ì—ì„œ ì²˜ìŒë¶€í„° ê°’ì´ 0ìœ¼ë¡œ ë“¤ì–´ê°„ë‹¤ë©´, êµ³ì´ `getOrDefault(num, 0)`ì„ ì¨ì•¼ í• ê¹Œ?

```java
for (int i = 0; i < N; i++) {
    int num = Integer.parseInt(st.nextToken());
    map.put(num, map.getOrDefault(num, 0) + 1);
}
```

<br>

> ì‚¬ìš©í•´ì•¼í•˜ëŠ” ì´ìœ 

`HashMap`ì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í‚¤ë¥¼ ì¡°íšŒí•  ê²½ìš° `null`ì„ ë°˜í™˜í•œë‹¤.

ë”°ë¼ì„œ ì•„ë˜ì²˜ëŸ¼ ë‹¨ìˆœíˆ `get()` í›„ `+1`ì„ í•˜ë©´ `NullPointerException`ì´ ë°œìƒí•œë‹¤.

```java
map.put(num, map.get(num) + 1); //  null + 1 â†’ ì˜ˆì™¸ ë°œìƒ
```

- `getOrDefault(num, 0)` ì‚¬ìš©
  - í•´ë‹¹ keyê°€ ì¡´ì¬í•˜ë©´ â†’ ê·¸ value ë°˜í™˜
  - í•´ë‹¹ keyê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ â†’ 0 ë°˜í™˜

<br>

## ë°©ë²•2. ì´ë¶„ íƒìƒ‰

> ì´ë¶„ íƒìƒ‰ì„ ì‚¬ìš©í•˜ì—¬, ìˆ«ì ì¹´ë“œë¥¼ ì •ë ¬í•œ ë’¤, ê° ì¿¼ë¦¬ë§ˆë‹¤ `lowerBound`, `upperBound`ë¡œ íŠ¹ì • ìˆ˜ê°€ ëª‡ ë²ˆ ë“±ì¥í•˜ëŠ”ì§€ ê³„ì‚°í•  ìˆ˜ ìˆìŒ

| í•¨ìˆ˜                      | ì˜ë¯¸                                | ì„¤ëª…                                 |
| ------------------------- | ----------------------------------- | ------------------------------------ |
| `lowerBound(arr, target)` | target **ì´ìƒ** ì´ ì²˜ìŒ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜ | `arr[mid] >= target`ì´ë©´ ì™¼ìª½ íƒìƒ‰   |
| `upperBound(arr, target)` | target **ì´ˆê³¼** ê°€ ì²˜ìŒ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜ | `arr[mid] <= target`ì´ë©´ ì˜¤ë¥¸ìª½ íƒìƒ‰ |

- ë‘ ìœ„ì¹˜ì˜ ì°¨ê°€ ê³§ ë“±ì¥ íšŸìˆ˜
- ì‹œê°„ ë³µì¡ë„: `O(N log N + M log N)`

<br>

> ì˜ˆì‹œ

```java
arr = {1, 2, 2, 2, 3, 4}, target = 2

lowerBound â†’ index 1 (ì²˜ìŒ 2 ë“±ì¥)
upperBound â†’ index 4 (3 ë“±ì¥ ìœ„ì¹˜)
â†’ ë“±ì¥ íšŸìˆ˜ = 4 - 1 = 3
```

<br>

- ë°°ì—´: [1, 3, 5, 7, 9], ì°¾ì„ ê°’: x = 5
- ì´ˆê¸° ìƒíƒœ: low = 0, high = 5 (ë°°ì—´ ê¸¸ì´)

| low | high | mid | nums\[mid] | ë¹„êµ  | ì¡°ì •               |
| --- | ---- | --- | ---------- | ----- | ------------------ |
| 0   | 5    | 2   | 5          | 5 â‰¥ 5 | high = mid = 2     |
| 0   | 2    | 1   | 3          | 3 < 5 | low = mid+1 = 2    |
| 2   | 2    |     |            |       | **ì¢…ë£Œ ì¡°ê±´ ì¶©ì¡±** |

<br>

> êµ¬í˜„ ì½”ë“œ

1. ì…ë ¥ ë°›ì€ ìˆ«ì ì¹´ë“œ ë°°ì—´ì„ ì •ë ¬
2. ê° ì¿¼ë¦¬ targetì— ëŒ€í•´ lowerBoundì™€ upperBoundë¥¼ í˜¸ì¶œí•´ ê°œìˆ˜ ê³„ì‚°
3. `upper - lower`ê°€ ê³§ targetì˜ ë“±ì¥ íšŸìˆ˜

ğŸ’¡ `x > nums[mid]`ì´ë©´ ì •ë‹µì´ ë¬´ì¡°ê±´ ì˜¤ë¥¸ìª½ì— ìˆìœ¼ë‹ˆ midë¥¼ ë²„ë¦¬ê³ , ì•„ë‹ˆë©´ ì •ë‹µì´ ë¬´ì¡°ê±´ ì™¼ìª½ì— ìˆëŠ”ë° midê°€ ì •ë‹µì¼ ìˆ˜ ìˆì–´ midë¥¼ í¬í•¨ì‹œì¼œ íƒìƒ‰ì‹œí‚¤ëŠ” ê²ƒ

```java
// target ì´ìƒ ì²« ìœ„ì¹˜
public static int lowerBound(int[] arr, int target) {
    int low = 0, high = arr.length;
    while (low < high) {
        int mid = (low + high) / 2;
        if (arr[mid] < target) low = mid + 1;
        else high = mid;
    }
    return low;
}

// target ì´ˆê³¼ ì²« ìœ„ì¹˜
public static int upperBound(int[] arr, int target) {
    int low = 0, high = arr.length;
    while (low < high) {
        int mid = (low + high) / 2;
        if (arr[mid] <= target) low = mid + 1;
        else high = mid;
    }
    return low;
}
```

> ì™œ ë°”ë¡œ return í•˜ì§€ ì•Šì„ê¹Œ?

- `arr[mid] == target`ì¼ ë•Œ ë°”ë¡œ return í•˜ë©´ ì²˜ìŒ ë“±ì¥í•˜ëŠ” ìœ„ì¹˜ë¥¼ ë†“ì¹  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´,

```java
arr = {1, 2, 2, 2, 3, 4};
target = 2;
```

- midê°€ 2ë‚˜ 3ì´ë¼ë©´ `arr[mid] == 2`ì´ì§€ë§Œ, ì²˜ìŒìœ¼ë¡œ 2ê°€ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜ëŠ” = index 1
- ì¦‰, `arr[mid] == target`ì´ë¼ê³  í•´ì„œ ë°”ë¡œ returní•˜ë©´ ì˜¤ë‹µì´ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤.
- ë”°ë¼ì„œ,
  - `arr[mid] == target`ì¼ ë•Œì—ë„ ì •ë‹µì¼ ê°€ëŠ¥ì„±ì€ ìˆìœ¼ë‹ˆ ë²„ë¦¬ì§€ëŠ” ì•Šê³ 
  - ì™¼ìª½ì—ë„ ê°™ì€ ê°’ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ `high = mid`ë¡œ midë¥¼ í¬í•¨ì‹œí‚¨ í›„,
  - ë²”ìœ„ë¥¼ ê³„ì† ì¤„ì—¬ ë‚˜ê°€ë©° ê°€ì¥ ì™¼ìª½ì˜ ìœ„ì¹˜ë¥¼ ì°¾ëŠ”ë‹¤.

<br><br>

# ğŸ’» ì „ì²´ ì½”ë“œ

## HashMap

```java
import java.io.*;
import java.util.*;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        int n = Integer.parseInt(br.readLine());
        Map<Integer, Integer> map = new HashMap<>();
        StringTokenizer st = new StringTokenizer(br.readLine());
        for(int i=0; i<n; i++){
            int target = Integer.parseInt(st.nextToken());
            map.put(target, map.getOrDefault(target, 0) + 1);
        }
        int m = Integer.parseInt(br.readLine());
        st = new StringTokenizer(br.readLine());
        StringBuilder sb = new StringBuilder();
        for(int i=0; i<m; i++){
            int key = Integer.parseInt(st.nextToken());
            int result = map.getOrDefault(key, 0);
            sb.append(result).append(" ");
        }
        System.out.println(sb);

    }
}
```

<br>

## ì´ë¶„ íƒìƒ‰

```java
import java.io.*;
import java.util.*;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringBuilder sb = new StringBuilder();

        int n = Integer.parseInt(br.readLine());
        int[] nums = new int[n];
        StringTokenizer st = new StringTokenizer(br.readLine());
        for(int i = 0; i < n; i++){
            nums[i] = Integer.parseInt(st.nextToken());
        }

        Arrays.sort(nums); // ì´ë¶„ íƒìƒ‰ì„ ìœ„í•œ ì •ë ¬

        int m = Integer.parseInt(br.readLine());
        st = new StringTokenizer(br.readLine());
        for(int i = 0; i < m; i++){
            int target = Integer.parseInt(st.nextToken());
            int lower = lowerBound(nums, target);
            int upper = upperBound(nums, target);
            sb.append(upper - lower).append(" ");
        }

        System.out.println(sb);
    }

    // target ì´ìƒì´ ì²˜ìŒ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜
    public static int lowerBound(int[] arr, int target) {
        int low = 0, high = arr.length;
        while (low < high) {
            int mid = (low + high) / 2;
            if (arr[mid] < target) {
                low = mid + 1;
            } else {
                high = mid;
            }
        }
        return low;
    }

    // target ì´ˆê³¼ê°€ ì²˜ìŒ ë‚˜ì˜¤ëŠ” ìœ„ì¹˜
    public static int upperBound(int[] arr, int target) {
        int low = 0, high = arr.length;
        while (low < high) {
            int mid = (low + high) / 2;
            if (arr[mid] <= target) {
                low = mid + 1;
            } else {
                high = mid;
            }
        }
        return low;
    }
}
```

<br><br>

# ğŸ’­ ë°°ìš´ ì 

- `HashMap`ì„ ì‚¬ìš©í•´ ì¤‘ë³µëœ ì •ìˆ˜ì˜ ê°œìˆ˜ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì„¸ëŠ” ë°©ë²•ì„ ì•Œê²Œ ë¨
- `getOrDefault(key, default)`ë¥¼ ì‚¬ìš©í•˜ë©´ í‚¤ê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ ë•Œ ê¸°ë³¸ê°’ì„ ì‰½ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŒ

<br>

- ë˜í•œ, ì´ë¶„ íƒìƒ‰ì„ í™œìš©í•˜ì—¬ ì •ë ¬ëœ ë°°ì—´ì—ì„œ íŠ¹ì • ìˆ˜ì˜ ê°œìˆ˜ë¥¼ upperBound - lowerBoundë¡œ êµ¬í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë¨
- `arr[mid] == target`ì´ì–´ë„ ë°”ë¡œ ë¦¬í„´í•˜ì§€ ì•Šê³  ë²”ìœ„ë¥¼ ì¢í˜€ê°€ëŠ” ì´ìœ ê°€ í—·ê°ˆë ¸ëŠ”ë°, ì™„ì „íˆ ì´í•´í•˜ê²Œ ë¨
- ê·¸ ì´ìœ ëŠ”, ì²˜ìŒ ë“±ì¥ ìœ„ì¹˜ë¥¼ ë†“ì¹˜ì§€ ì•Šê¸° ìœ„í•´ì„œì„

<br>
