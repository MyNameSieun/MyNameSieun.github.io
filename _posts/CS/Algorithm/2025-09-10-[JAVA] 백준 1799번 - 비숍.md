---
title: "[Algorithm/Java] ë°±ì¤€ 1799ë²ˆ - ë¹„ìˆ"
categories: [Algorithm]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

[https://www.acmicpc.net/problem/1799](https://www.acmicpc.net/problem/1799)

---

<br>

# ğŸ” ë¬¸ì œ í’€ì´

## ë¬¸ì œ ë„ì‹í™”

<br>

## ğŸ’« íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

ì²˜ìŒì—ëŠ” ì²´ìŠ¤íŒ ì „ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ DFSë¥¼ ì‘ì„±í•˜ì—¬ ì‹œê°„ ì´ˆê³¼ê°€ ë‚¬ë‹¤.

10Ã—10 ë³´ë“œì—ì„œ ë†“ì„ ìˆ˜ ìˆëŠ” ì¹¸ì´ 50ê°œë¼ê³  í•˜ë©´, ëŒ€ê°ì„ ë§Œ ê²¹ì¹˜ì§€ ì•Šê²Œ ê²€ì‚¬í•˜ë„ë¡ í•˜ì—¬ ê²½ìš°ì˜ ìˆ˜ëŠ” `2^50`ê°œê°€ ë˜ë‹ˆ ë‹¹ì—°íˆ ì‹œê°„ ì´ˆê³¼ê°€ ë‚  ìˆ˜ë°–ì— ì—†ì—ˆë‹¤.

<br>

ì´í›„ í‘/ë°± ì¹¸ì„ ë¶„ë¦¬í•´ì„œ ê°ê° íƒìƒ‰í•œ ë’¤ ê²°ê³¼ë¥¼ í•©ì¹˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ì˜€ë‹¤.

í‘ë°±ìœ¼ë¡œ ë‚˜ëˆ  íƒìƒ‰í•˜ë©´ **2^W + 2^B**ë§Œ ë³´ë©´ ë˜ì–´ íƒìƒ‰ ê³µê°„ì´ ì ˆë°˜ìœ¼ë¡œ ì¤„ì–´ë“ ë‹¤.

<br>

# ğŸ’» ì½”ë“œ

- í° ì¹¸ `(r+c)%2==0`ì¸ ì¹¸ë§Œ ë”°ë¡œ DFS -> ìµœëŒ“ê°’ ì €ì¥
- ê²€ì€ ì¹¸ `(r+c)%2==1`ì¸ ì¹¸ë§Œ ë”°ë¡œ DFS -> ìµœëŒ“ê°’ ì €ì¥
- ë‘ ê²°ê³¼ë¥¼ í•©ì³ì„œ ì •ë‹µ ì¶œë ¥.

```java
import java.io.*;
import java.util.*;

public class Main {
    static int n;
    static int[][] arr;
    static int ans = 0;
    static boolean[] v1; // â†˜
    static boolean[] v2; // â†™

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        n = Integer.parseInt(br.readLine());
        arr = new int[n][n];

        for (int i = 0; i < n; i++) {
            StringTokenizer st = new StringTokenizer(br.readLine());
            for (int j = 0; j < n; j++) {
                arr[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        v1 = new boolean[2 * n - 1];
        v2 = new boolean[2 * n - 1];

        dfs(0, 0, 0, 0); // í° ì¹¸ íƒìƒ‰
        int whiteAns = ans;

        ans = 0;

        dfs(1, 0, 0, 0);
        int blackAns = ans;

        System.out.println(whiteAns + blackAns); // ê²€ì€ì¹¸ íƒìƒ‰
    }

    private static void dfs(int color, int r, int c, int cnt) {
        // ì¢…ë£Œ ì¡°ê±´
        if (r >= n) {
            ans = Math.max(ans, cnt);
            return;
        }

        // ì—´ íƒìƒ‰ ëë‚˜ë©´ ë‹¤ìŒ í–‰ìœ¼ë¡œ
        if (c >= n) {
            r++;
            c = 0;
        }

        // ì¹¸ì´ í‘ë°±ê³¼ ê°™ì€ ê²½ìš° íƒìƒ‰
        if ((r + c) % 2 == color) {
            if (arr[r][c] == 1 && !v1[r + c] && !v2[r - c + n - 1]) {
                v1[r + c] = true;
                v2[r - c + n - 1] = true;

                dfs(color, r, c + 1, cnt + 1); // ë¹„ìˆ ë†“ê¸°

                v1[r + c] = false;
                v2[r - c + n - 1] = false;
            }
        }

        dfs(color, r, c + 1, cnt); // ë¹„ìˆ ì•ˆ ë†“ê¸°
    }
}
```

<br>

## ì´ˆê¸° ì½”ë“œ (ì‹œê°„ì´ˆê³¼)

```java
import java.io.*;
import java.util.*;

public class Main {
    static int n;
    static int[][] arr;
    static int ans = 0;
    static boolean[] v1; // â†˜
    static boolean[] v2; // â†™

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        n = Integer.parseInt(br.readLine());
        arr = new int[n][n];

        for (int i = 0; i < n; i++) {
            StringTokenizer st = new StringTokenizer(br.readLine());
            for (int j = 0; j < n; j++) {
                arr[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        v1 = new boolean[2 * n - 1];
        v2 = new boolean[2 * n - 1];

        dfs(0, 0);
        System.out.println(ans);
    }

    private static void dfs(int depth, int cnt) {
        if (depth >= n * n) {
            ans = Math.max(ans, cnt);
            return;
        }

        int r = depth / n;
        int c = depth % n;

        // ë¹„ìˆë†“ê¸°
        if (arr[r][c] == 1 && !v1[r + c] && !v2[r - c + n - 1]) {
            v1[r + c] = true;
            v2[r - c + n - 1] = true;

            dfs(depth + 1, cnt + 1);

            v1[r + c] = false;
            v2[r - c + n - 1] = false;
        }

        // ë¹„ìˆ ì•ˆ ë†“ê¸°
        dfs(depth + 1, cnt);
    }
}
```

<br>
