---
title: "[Algorithm/Java] ë°±ì¤€ 14502ë²ˆ - ì—°êµ¬ì†Œ"
categories: [Algorithm]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

[https://www.acmicpc.net/problem/14502](https://www.acmicpc.net/problem/14502)

---

<br>

# ğŸ” ë¬¸ì œ í’€ì´

## ë¬¸ì œ ë„ì‹í™”

[í°ëŒì˜ í„°ì „ë‹˜ ìœ íŠœë¸Œ](https://www.youtube.com/watch?v=DBXEWJx2mIw)ë¥¼ ë³´ê³  ë¬¸ì œ ë„ì‹í™”ë¥¼ í•´ë´¤ëŠ”ë° ì‰½ê²Œ ë¬¸ì œë¥¼ í’€ì–´ë‚˜ê°ˆ ìˆ˜ ìˆì—ˆë‹¤.

ì•ìœ¼ë¡œ ë¬¸ì œë¥¼ í’€ê¸° ì „ì— ë¨¼ì € **ë„ì‹í™”/ì‹œê°í™” -> ë¡œì§ êµ¬ì¡° ì„¤ê³„ -> êµ¬í˜„** ìˆœìœ¼ë¡œ ì ‘ê·¼í•˜ì.<br>
ì´ì „ì— í’€ì—ˆë˜ ë¬¸ì œë„ ë‹¤ì‹œ ì´ ì ‘ê·¼ë²•ìœ¼ë¡œ í’€ì–´ë´ì•¼ê² ë‹¤.

![14502 ë„ì‹í™”](<../../../assets/images/2024/14502 ë„ì‹í™”.png>)

<br>

## ì•Œê³ ë¦¬ì¦˜ ì„ íƒ

- ë²½ì„ 3ê°œ ì„¸ìš°ëŠ” ê±´ ì¡°í•©ì„ ëª¨ë‘ íƒìƒ‰í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— **DFS ê¸°ë°˜ì˜ ë°±íŠ¸ë˜í‚¹**ìœ¼ë¡œ êµ¬í˜„í–ˆê³ ,
- ë²½ì´ ì„¸ì›Œì§„ ë’¤ ë°”ì´ëŸ¬ìŠ¤ ì „íŒŒëŠ” ë™ì‹œì— ì—¬ëŸ¬ ë°©í–¥ìœ¼ë¡œ í¼ì§€ëŠ” íŠ¹ì„±ì„ ê³ ë ¤í•´ **BFS**ë¡œ ì²˜ë¦¬í–ˆë‹¤.

<br>

## ë†“ì¹œ ì 

> ì›ë³¸ mapì„ ë³µì‚¬í•´ì•¼í•œë‹¤.

- ë²½ 3ê°œê°€ ì„¸ì›Œì§ˆ ë•Œë§ˆë‹¤ BFSê°€ ì‹¤í–‰ë¨
- ë²½ì´ ì„¸ì›Œì§„ mapì„ ë³µì‚¬í•´, ì›ë³¸ mapì„ ìœ ì§€í•˜ê³  copyMapì—ì„œë§Œ BFSë¥¼ ìˆ˜í–‰í•´ì•¼ í•¨

```java
for (int i = 0; i < n; i++) {
    copyMap[i] = map[i].clone();  // ë°°ì—´ í•œ ì¤„ì”© ë³µì‚¬ (ê¹Šì€ë³µì‚¬)
}
```

<br><br>

# ğŸ’» ì „ì²´ ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Main {
    static int n, m;
    static int maxSafeZone = 0;

    static int[][] map;
    static int[][] copyMap;

    static int[] dx = {-1, 1, 0, 0};
    static int[] dy = {0, 0, -1, 1};

    public static void main (String[]args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        // ì…ë ¥
        StringTokenizer st = new StringTokenizer(br.readLine());
        n = Integer.parseInt(st.nextToken()); // í–‰
        m = Integer.parseInt(st.nextToken()); // ì—´

        map = new int[n][m];
        copyMap = new int[n][m];

        // ì´ˆê¸°í™”
        for(int i=0; i<n; i++){
            st = new StringTokenizer(br.readLine());
            for(int j=0; j<m; j++){
                map[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        buildWall(0);
        System.out.println(maxSafeZone);
    }

    // ë²½ 3ê°œ ì„¸ìš°ê¸°
    static void buildWall(int depth){
        if(depth == 3){
            spreadVirus(); // ë²½ 3ê°œ ì„¸ìš´ ê²½ìš°ì—ë§Œ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
            return;
        }

        for(int i=0; i<n; i++){
            for(int j=0; j<m; j++){
                if(map[i][j] == 0){
                    map[i][j] = 1; // ë²½ ì„¸ìš°ê¸°
                    buildWall(depth + 1); // ë‹¤ìŒ ë²½ìœ¼ë¡œ
                    map[i][j] = 0; // ë°±íŠ¸ë˜í‚¹
                }
            }
        }
    }

    // ë°”ì´ëŸ¬ìŠ¤ í¼íŠ¸ë¦¬ê¸°
    static void spreadVirus() {
        // ë³µì œ(í—·ê°ˆë¦¼)
        for (int i = 0; i < n; i++) {
            copyMap[i] = map[i].clone(); // ë°°ì—´ í•œ ì¤„ì”© ë³µì‚¬ (ê¹Šì€ë³µì‚¬)
        }

        Deque<int[]> dq = new ArrayDeque<>();

        // ë°”ì´ëŸ¬ìŠ¤ ìœ„ì¹˜ íì— ì¶”ê°€
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if (copyMap[i][j] == 2) {
                    dq.offer(new int[]{i, j});
                }
            }
        }

        while (!dq.isEmpty()) {
            int[] cur = dq.poll();
            int cx = cur[0];
            int cy = cur[1];

            for (int i = 0; i < 4; i++) {
                int nx = cx + dx[i];
                int ny = cy + dy[i];

                if (nx < 0 || nx >= n || ny < 0 || ny >= m) continue;
                if (copyMap[nx][ny] == 0) {
                    copyMap[nx][ny] = 2;
                    dq.offer(new int[]{nx, ny});
                }
            }
        }

        // ì•ˆì „ ì˜ì—­ ê³„ì‚°
        int safeZone = 0;
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                if (copyMap[i][j] == 0) safeZone++;
            }
        }

        maxSafeZone = Math.max(maxSafeZone, safeZone);
    }
}
```

<br>
