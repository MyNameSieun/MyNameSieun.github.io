---
title: "[OS] #4 ì‹œìŠ¤í…œ ì½œ"
categories: [OS]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

# 1. ì‹œìŠ¤í…œ ì½œ ê°œìš”

## 1.1 ì‹œìŠ¤í…œ ì½œì´ë€?

> OS ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì»¤ë„ ëª¨ë“œë¡œ ì „í™˜í•˜ëŠ” ë°©ë²•ì´ë‹¤.

- OSì˜ ì»¤ë„ ëª¨ë“œë¡œ ë™ì‘í•˜ëŠ” ê´€ë¦¬ì(ì¤‘ê°œì) ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.
- ì‹œìŠ¤í…œ ì½œì€ ì§ì ‘ ì‚¬ìš©í•˜ê¸°ì— ì–´ë ¤ì›€ì´ ìˆì–´ APIë¥¼ í†µí•´ ì ‘ê·¼í•œë‹¤. (ì‚¬ìš©ì í”„ë¡œê·¸ë¨ -> API ì‚¬ìš© -> ì‹œìŠ¤í…œ ì½œ)<br><br>
  ![](https://velog.velcdn.com/images/sieunpark/post/c5e02767-fb66-4632-9080-c095b697fd99/image.jpg)
  ![](https://velog.velcdn.com/images/sieunpark/post/0e86b853-e235-418e-b0be-51479c969b36/image.png)

<br>

## 1.2 ì‹œìŠ¤í…œ ì½œ êµ¬í˜„

![](https://velog.velcdn.com/images/sieunpark/post/066492df-fc08-4b4f-b319-2afa53fffa00/image.jpg)

â‘  ì‚¬ìš©ì ì‘ìš©í”„ë¡œê·¸ë¨ì—ì„œ open( ) í•¨ìˆ˜ë¥¼ í†µí•´ ì‹œìŠ¤í…œ ì½œ API í˜¸ì¶œ

â‘¡ <span style="color:indianred">ì‹œìŠ¤í…œ ì½œ ì¸í„°í˜ì´ìŠ¤</span>ë¥¼ í†µí•´ ì»¤ë„ëª¨ë“œë¡œ ì „í™˜

â‘¢ <span style="color:indianred">ì‹œìŠ¤í…œ ì½œ í…Œì´ë¸”</span>ì„ í†µí•´ open( )ê³¼ ë§¤í•‘ë˜ëŠ” ì¸ë±ìŠ¤ i ì°¾ê¸° (ê° ì‹œìŠ¤í…œ ì½œì— ëŒ€í•˜ì—¬ index(ìˆ«ì)ê°€ ë¶€ì—¬)

â‘£ ì°¾ì€ ì¸ë±ìŠ¤ i ì— í•´ë‹¹í•˜ëŠ” ì‹¤ì œ ì‹œìŠ¤í…œ ì½œ ìœ„ì¹˜ì •ë³´ ì°¾ê¸°

â‘¤ í•´ë‹¹ ìœ„ì¹˜ ì •ë³´ê°€ ê°€ë¥´í‚¤ëŠ” ì‹œìŠ¤í…œ ì½œ ìˆ˜í–‰ í›„ ( í•´ë‹¹ íŒŒì¼ ì—´ê¸° ), ë‹¤ì‹œ ìœ ì €ëª¨ë“œë¡œ ì „í™˜

<br>

## 1.3 ì‹œìŠ¤í…œ ì½œ ì¢…ë¥˜

> í”„ë¡œì„¸ìŠ¤ ì œì–´, íŒŒì¼ ê´€ë¦¬, ì¥ì¹˜ ê´€ë¦¬, ì •ë³´ ê´€ë¦¬, í†µì‹ , ë³´í˜¸

![](https://velog.velcdn.com/images/sieunpark/post/b4393971-1c6e-4d93-9c07-72adc8a53a24/image.png)

<br><br>

# 2. ì‹œìŠ¤í…œ ì½œ íŒŒë¼ë¯¸í„° ì „ë‹¬

## 2.1 ë ˆì§€ìŠ¤í„°ë¥¼ í†µí•œ ì „ì†¡

> ë§¤ê°œë³€ìˆ˜ë¥¼ CPU ë ˆì§€ìŠ¤í„° ë‚´ì— ì „ë‹¬

ê°€ì¥ ë‹¨ìˆœí•œ ë°©ë²•, but ë ˆì§€ìŠ¤í„° ê°œìˆ˜ë³´ë‹¤ ë” ë§ì€ ë§¤ê°œë³€ìˆ˜ê°€ ìˆëŠ” ê²½ìš°, í•œê³„ê°€ ìˆë‹¤.

![](https://velog.velcdn.com/images/sieunpark/post/bcc6f827-51f1-410d-a3e1-8ae3425cf1c4/image.jpg)

<br>

## 2.2 ë¸”ë¡ or í…Œì´ë¸”ì„ í†µí•œ ì „ì†¡

> ë§¤ê°œë³€ìˆ˜ë¥¼ ë¸”ëŸ­ ë˜ëŠ” í…Œì´ë¸”ì— ì €ì¥í•˜ê³  í•´ë‹¹ ë©”ëª¨ë¦¬ ì£¼ì†Œê°€ ë ˆì§€ìŠ¤í„°ì— ì „ë‹¬

![](https://velog.velcdn.com/images/sieunpark/post/872a2b9e-805e-414d-83ed-87661328ee11/image.jpg)

<br>

## 2.3 ìŠ¤íƒì„ í†µí•œ ì „ì†¡

> ë§¤ê°œë³€ìˆ˜ë¥¼ í”„ë¡œê·¸ë¨ì˜ ìŠ¤íƒ(stack)ìœ¼ë¡œ ì „ë‹¬(push)í•˜ê³  OSì— ì˜í•´ êº¼ëƒ„(pop off)

<br>

ğŸ’¡ ë¸”ë¡ or í…Œì´ë¸”ì„ í†µí•œ ì „ì†¡, ìŠ¤íƒì„ í†µí•œ ì „ì†¡ => ë§¤ê°œë³€ìˆ˜ë“¤ì˜ ê°œìˆ˜ë‚˜ ê¸¸ì´ ì œí•œí•˜ì§€ ì•Šì•„ ë§ì´ ì‚¬ìš©í•œë‹¤.

<br><br>

# 3. ì‹œìŠ¤í…œ ì½œ ì‚¬ìš© ì˜ˆì‹œ

## 3.1 íŒŒì¼ ì½ê¸°: í‘œì¤€ C ë¼ì´ë¸ŒëŸ¬ë¦¬

![](https://velog.velcdn.com/images/sieunpark/post/29808ab0-f13e-485f-9658-d770056355ee/image.png)

<br>

â‘  printf() í•¨ìˆ˜ëŠ” ìœ ì € ëª¨ë“œì—ì„œ ìˆ˜í–‰ë˜ì–´ stdio ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í˜¸ì¶œí•œë‹¤.

```c
		#include <stdio.h>
        int main(void){
        	printf("Greetings");
        }
```

<br>

â‘¡ stdio ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‹œìŠ¤í…œ ì½œì¸ write()ë¥¼ í˜¸ì¶œí•˜ê³ , ìœ ì € ëª¨ë“œì—ì„œ ì»¤ë„ ëª¨ë“œë¡œ ì „í™˜í•œë‹¤.
ì¦‰, ì•„ë˜ ì½”ë“œì™€ ê°™ì´ printf í•¨ìˆ˜ ë‚´ë¶€ì— ì‹œìŠ¤í…œ ì½œ í•¨ìˆ˜ì¸ writeê°€ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ì»¤ë„ì€ í˜¸ì¶œì„ ì‹¤í–‰í•˜ì—¬ ëª¨ë‹ˆí„°ì— ë¬¸ìì—´ì„ ì¶œë ¥í•˜ê³  ë‹¤ì‹œ ìœ ì € ëª¨ë“œë¡œ ëŒì•„ì˜¨ë‹¤.

<br>

â‘¢ write í•¨ìˆ˜ ë¶€ë¶„ì´ ì»´íŒŒì¼ ë˜ê³  ë‚˜ë©´ ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë“¤ë¡œ ì´ë£¨ì–´ì ¸ ìˆì„ ê²ƒì´ë‹¤.

```c
        ...
        movl 5, %eax
        int $0x80
```

<br>

â‘£ ì¦‰, C í”„ë¡œê·¸ë¨ì´ printf() í˜¸ì¶œ â†’ í‘œì¤€ â€œC ë¼ì´ë¸ŒëŸ¬ë¦¬â€ê°€ write() ì‹œìŠ¤í…œ ì½œ ìˆ˜í–‰í•œë‹¤.

```c
        #include <stdio.h>
        int main(void){
        	...
        	printf(){
        		...
        		write(...)
        	}
        	...
        }
```

<br>

## 3.2 íŒŒì¼ ë³µì‚¬

![](https://velog.velcdn.com/images/sieunpark/post/d2ace543-7ad3-4dea-bfb3-ea41bc12fd04/image.png)

<br><br>

# 4. ì‹œìŠ¤í…œ ì½œ í™•ì¸

> ì‹œìŠ¤í…œ ì½œì„ ì§ì ‘ í™•ì¸í•´ë³´ì!

[https://kangtegong.github.io/self-learning-cs/system_calls/syscalls.html](https://kangtegong.github.io/self-learning-cs/system_calls/syscalls.html)

<br>

> ê°œë°œìëŠ” ì‹œìŠ¤í…œ ì½œì´ ì–´ë–»ê²Œ êµ¬í˜„ë˜ëŠ”ì§€ ì•Œ í•„ìš”ê°€ ì—†ë‹¤

ê°œë°œìëŠ” APIë¥¼ ì œëŒ€ë¡œ ì‚¬ìš©í•˜ê³ , ìš´ì˜ì²´ì œê°€ ì‹œìŠ¤í…œ ì½œì˜ ê²°ê³¼ë¡œ ë¬´ìŠ¨ ì¼ì„ í•˜ëŠ”ì§€ë§Œ ì•Œë©´ ëœë‹¤.

<br><br>

# ğŸ“ì°¸ì¡°

- [https://limjunho.github.io/2021/05/11/SystemCall.html](https://limjunho.github.io/2021/05/11/SystemCall.html)

<br>
