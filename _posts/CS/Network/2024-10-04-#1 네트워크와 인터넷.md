---
title: "[Network] #1 네트워크와 인터넷"
categories: [Network]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

[[혼자 공부하는 네트워크↗️]](https://www.youtube.com/watch?v=c62qssA4hYI&list=PLYH7OjNUOWLVwdRF6_QmJVR4cQdMp0SU1&index=1), 컴퓨터 네트워킹: 하향식 접근 (제8판)을 바탕으로 정리한 글입니다.
{: .notice--danger}

---

<br>

# 1. 네트워크와 인터넷

## 1.1 컴퓨터 네트워크

> 여러 개의 장치가 마치 **그물(net)처럼 서로 연결**되어 정보를 주고받을 수 있는 통신망을 컴퓨터 네트워크라고 한다.

네트워크는 **그래프**라고 하는 자료구조 형태를 띄고있다.

![](/assets/images/2024/2024-10-04-15-19-24.png)

<br>

## 1.2 네트워크의 네트워크, 인터넷

> 네트워크를 통해 정보를 주고 받을 수 있는 기기들은 한 1) 네트워크 내에서 통신이 가능하고, 2) 네트워크 간에도 통신이 가능하다.

- 즉, 여러 장치들이 네트워크를 통해 서로 연결되면 주변의 장치하고만 정보를 주고받는 것이 아니라, 네트워크와 연결된 지구 반대편에 있는 장치와도 정보를 주고받을 수 있다.
- 이를 가능하게 하는 기술이 바로 인터넷이다.
- 이처럼 **여러 네트워크를 연결**한 "**네트워크의 네트워크**"를 internet이라고 한다.

![](/assets/images/2024/2024-10-04-15-24-22.png)

<br><br>

# 2. 네트워크의 구조

## 2.1 네트워크의 자료 구조

> 컴퓨터 네트워크는 **그래프**라는 자료구조 형태를 띄고 있다.

그래프: 노드와 노드와 연결하는 간선(edge or link)으로 이루어진 자료 구조

![](/assets/images/2024/2024-10-04-15-34-11.png)

<br>

> 즉, 아래와 같은 네트워크 또한 "그래프" 자료구조의 형태를 띄고 있다고 할 수 있다.

![](/assets/images/2024/2024-10-04-15-35-17.png)

<br>

## 2.2 네트워크의 구성 요소

> 네트워크는 호스트, 네트워크 장비, 통신 매체, 메시지로 이루어져 있다!

- 가장자리에 위치한 노드
  - 우리들이 사용하는 기기들이 위치
  - "호스트(host)"라고 지칭
- 중간에 위치한 노드
  - 네트워크 장비가 위치
  - "네트워크 장비"라고 지칭
- 노드 간 연결하는 링크
  - "통신 매체"라고 지칭
- 노드 간 주고받는 정보
  - "메시지" 라고 지칭

<br>

네트워크의 구성 요소에 대해 자세히 알아보자.

<br>

### 2.2.1 호스트(클라이언트/서버)

> 네트워크의 가장자리 노드를 말한다.

- 즉, 네트워크를 통해서 주고받는 메시지를 최초로 생성해서 **송신**하거나 최종적으로 **수신**하는 대상을 말한다.
- 인터넷 가장 자리를 차지하고 있기 때문에 종단 시스템이라고도 부른다.
- e.g., 스마트폰으로 친구의 컴퓨터에게 메일을 보냈을 때 스마트폰과 컴퓨터는 호스트라고 할 수 있다.

![](/assets/images/2024/2024-10-04-15-47-26.png)

<br>

> ⭐ 호스트 역할에 따른 구분

- 클라이언트(client): 서버에게 **요청**을 보내는 host
- 서버(server): 요청에 대한 **응답**을 하는 host

<br>

### 2.2.2 네트워크 장비

> 호스트 간 주고받을 메시지가 거치는 중간 노드(이더넷 허브, 스위치, 라우터, 공유기 등)를 말한다.

이 장비들은 호스트 간 주고받는 메시지가 수신지까지 올바른 경로를 통해 목적지로 안전하게 도착하도록 돕는다.

![](/assets/images/2024/2024-10-04-15-51-19.png)

<br>

> 🤚잠깐!

호스트(클라이언트, 서버), 네트워크 장비는 역할, 네트워크 구조에 따라 구분한 개념일 뿐, 완전히 배타적인 개념이 아니다.

- 호스트 역할을 수행할 수 있는 노드, 네트워크 장비를 수행할 수 있는 노드가 있다.
- 서버 역할을 수행할 수 있는 노드, 클라이언트 역할을 수행할 수 있는 노드가 있다.
- e.g., 설치 프로그램에 따라 컴퓨터는 클라이언트로써 동작할 수도 있고 서버로써도 동작할 수 있고 네트워크 장비로써 동작할 수 있다.

<br>

### 2.2.3 통신(물리) 매체

> 각 노드를 연결하는 간선(링크) 역할을 수행

- 물리 매체는 여러 형태이며, 경로 상의 각 송신기-수신기 쌍에 대해 같은 유형일 필요는 없다.
- 두 가지 종류
  - **`유도 매체`**: 꼬임 쌍선, 동축 케이블, 광섬유 케이블과 같은 견고한 매체를 따라 파형을 유도 ( e.g., 유선(케이블))
  - **`비유도 매체`**: 무선 랜 혹은 디지털 위성 채널처럼 야외 공간으로 파형을 전파(e.g., 무선(Wi-Fi, 블루투스) 연결)

![](/assets/images/2024/2024-10-04-15-56-32.png)

| 물리 매체        | 구성                                                                                                                                                                      | 특징                                                                                                                                                                                                                                                                                                                                                                                                                                                              | 사용                                                                                                                                                                                                                                                        |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 꼬임 쌍선        | - 2개의 절연 구리선을 쌍으로 꼬아서 만든 케이블<br>- 이웃하는 쌍들 간에 전기 간섭을 줄이기 위해 선들이 꼬여 있는 것이며, 이러한 한 쌍의 선이 하나의 통신 링크를 구성한다. | - 가장 싸고 많이 이용하는 전송 매체 (전화기에서 전화국 스위치까지 유선 연결의 99% 이상이 이를 이용)<br>- 잡음에 내성을 가지고 있다.<br>- 주로 LAN 환경에서 사용한다.                                                                                                                                                                                                                                                                                              | - UTP(Unshielded Twisted Pair)<br>- STP(Shielded)                                                                                                                                                                                                           |
| 동축 케이블      | 꼬임 쌍선처럼 2개의 구리선으로 되어 있으나, 두 구리선이 평행하지 않고 동심원 형태를 이룬다.                                                                               | - 데이터 전송률 : 동심원 형태의 구조와 특수 절연 및 차폐를 가지고 있어 꼬임쌍선보다 더 높은 데이터 전송률을 얻을 수 있다.                                                                                                                                                                                                                                                                                                                                         | 케이블 TV 시스템                                                                                                                                                                                                                                            |
| 광섬유           | 빛에 의해 신호를 전송된다.                                                                                                                                                | - 초당 10~100기가비트에 이르는 높은 비트율을 지원한다.<br>- 광 장비는 고가이므로 근거리 전송(LAN, 가정)에는 이용하기 어렵다.<br>- 전자기성 간섭에 영향을 받지 않는다.<br>- 낮은 감쇠로 장거리 전송이 가능하다. (약 100 km까지 신호 감쇠 현상이 적음)<br>- 빛이 누출되지 않아 태핑(tapping, 도청)하기가 어렵다.                                                                                                                                                    | 해저 링크, 광역 전화 네트워크, 라우터, 기가 비트 이더넷                                                                                                                                                                                                     |
| 지상 라디오 채널 | 전자기 스펙트럼으로 신호를 전달한다.                                                                                                                                      | - 물리 선로를 설치할 필요x, 벽 관통 가능, 먼거리까지 신호 전송 가능<br>- 전파 환경과 신호가 전달되는 거리에 많은 영향을 받는다.(**감쇄 발생**)<br>- 주변 환경을 결정하는 요소: <br> (1) 경로손실(path loss)<br> (2) 섀도 페이딩(shadow fading) : 신호가 먼 거리를 지나감에 따라 / 방해 물질을 돌아가거나 통과함에 따라 신호 강도가 약해지는 현상<br> (3) 다중경로 페이딩 : 간섭 물체의 신호 반사 때문에 발생<br> (4) 간섭 : 다른 라디오 채널이나 전자기 신호 때문 | (1) 1~2 m의 매우 짧은 거리에서 동작하는 채널 (무선 헤드셋, 키보드 등)<br>(2) 로컬 라디오 채널 : 십~수백 미터에 걸쳐 근거리 네트워크로 동작하는 채널 (무선 랜 기술)<br>(3) 광역 라디오 채널 : 수십 킬로미터에 걸쳐 광역에서 작동하는 채널 (셀룰러 접속 기술) |
| 위성 라디오 채널 | 지상 스테이션이라는 둘 이상의 지상 기반 마이크로파 송신기/수신기를 연결한다.                                                                                              | **과정**<br>1. 한 주파수 대역으로 전송 신호를 수신<br>2. 리피터(repeater)를 통해 그 신호를 재생<br>3. 그 신호를 다른 주파수 대역으로 전송                                                                                                                                                                                                                                                                                                                         | (1) 정지 위성(geostationary satellite) : 지상 36,000 km에 쏘아올려져 일정 위치에 영원히 머무름<br>(2) 저궤도 위성(low-earth orbiting(LEO) satellite) : 지구를 공전하며 지상국뿐만 아니라 서로 통신할 수 있음<br>→ 미래의 인터넷 접속에 이용될 수도?         |

<br>

### 2.2.4 메시지

> 노드 간 주고받는 정보 (메시지)

- 메시지는 네트워크를 통해 주고받는 데이터이다.
- 즉, 호스트 간에 전송되는 정보로, 파일, 이메일, 웹페이지 요청 등이 예가 될 수 있다.

<br><br>

# 3. 네트워크의 분류

## 3.1 범위에 따른 분류

> 컴퓨터 네트워크는 범위에 따라 `LAN`, `WAN`으로 나뉜다.

### 3.1.1 LAN(Local Area Network)

> **가까운 지역을 연결**한 근거리 통신망

- 보통 한정된 공간에서 한 개인이나 소규모 조직이 구축한 네트워크를 말한다.
- e.g., 가정집, 사무실<br><br>
  ![](/assets/images/2024/2024-10-04-16-02-00.png)

<br>

### 3.1.2 WAN(Wide Area Network)

> **먼 지역을 연결**하는 광역 통신망

- 다른 LAN에 속한 호스트와 메시지를 주고받아야 할 때 필요하다.
- e.g., 인터넷

<br>

> LAN은 보통 개발자가 구축하고 관리한다. 근데 WAN은 누가 구축하고 관리를 할까?

- 바로 ISP(Internet Service Provider)에서 구축하고 관리한다.

  - ISP는 WAN을 구축하고 관리할 뿐만 아니라, 사용자에게 인터넷과 같은 WAN에 연결 가능한 회선(전송로)을 임대하는 등 WAN과 관련한 다양한 서비스를 제공한다.
  - 국내의 대표적인 ISP는 KT, LG U+, SK 브로드밴드가 존재한다.

  ![](/assets/images/2024/2024-10-04-16-14-44.png)

<br>

### 3.1.3 MAN, CAN, PAN

> 좀 더 세밀하게 나누어보자

1. WAN(Wide Area Network)
2. MAN(Metropolitan Area Network) - 도시나 대도시 단위
3. CAN(Campus Area Network) - 학교 또는 회사의 여러 건물 단위
4. LAN(Local Area Network)
5. PAN(Personal Area Network) - 10m 이내의 단거리 네트워크(e.g., 블루투스, 지그비)

![](/assets/images/2024/2024-10-04-16-17-08.png)

<br>

## 3.2 메시지 교환 방식에 따른 분류

> (링크와 스위치의 네트워크를 통해) 메시지를 어떻게 교환하는 지에 따라서,

- 회선 교환 방식으로 메시지를 주고받는 **회선 교환 네트워크**: 보장되지 않는 (e.g., 인터넷)
- 패킷 교환 방식으로 메시지를 주고받는 **패킷 교환 네트워크**: 자원을 예약 → 보장된

로 구분할 수 있다.

오늘날 인터넷 환경에서 주로 사용하는 네트워크는 "패킷 교환 네트워크"이다.

<br>

### 3.2.1 회선 교환 네트워크(회선 교환 방식)

> 메시지를 주고받기 전 메시지 전송로인 회선을 설정한 뒤(예약), 해당 회선을 통해 메시지를 주고받는 방식을 말한다. (자원을 공유하지 않으며 독점 사용)

따라서 통신 링크에 대한 접속을 위해 큐에서 대기해야 할 수도 있다.

![](/assets/images/2024/2024-10-04-16-24-50.png)

<br>

> 회선 스위치

- 회선 교환 방식으로 메시지를 주고받을 수 있게하는 네트워크 장비
- 즉, 호스트 사이에 일대일 전송로를 확보하는 네트워크 장비를 말한다.<br><br>
  ![](/assets/images/2024/2024-10-04-16-25-46.png)

<br>

> 종단 간 연결(end-to-end connection)

- 아래는 4개의 스위치와 4개의 링크로 구성된 회선 교환 네트워크를 나타낸 그림이다.
- 이들 각 링크는 4개의 회선을 가지므로 **각 링크는 4개의 동시 연결을 지원할 수 있다.**<br><br>
  ![](/assets/images/2024/2024-12-04-17-43-06.png)
- 만약 두 호스트가 통신하고 싶을 때, 네트워크는 두 호스트 사이에 지정된 `종단 간 연결`을 설정한다.
- 즉, 호스트 A가 호스트 B와 통신하기 위해서 네트워크는 먼저 **A의 링크와 B의 링크 각각에서 한 회선씩을 예약**한다.

<br>

> 회선 교환 네트워크의 장/단점⭐

- 장점
  - 두 호스트 사이에 연결을 확보한 후에 메시지를 주고받는 특성 덕분에, 연결이 이루어지는 동안 송신자는 수신자에게 보장된 일정 전송률로 데이터를 보낼 수 있다.
  - 성능이 보장된다.
- 단점

  - **회선의 이용 효율**이 낮아질 수 있다. (자원 낭비)
  - 가능한 모든 회선에 끊임없이 메시지가 흐르고 있어야만 회선의 이용 효율이 높아지기 때문이다.<br><br>
    ![](/assets/images/2024/2024-10-04-16-32-21.png)

<br>

### 3.2.2 패킷 교환 네트워크(패킷 교환 방식)

> 메시지를 패킷(packet)이라는 단위로 **쪼개어 전송**하고, 쪼개어 전송된 패킷들은 수신지에서 **재조립** 하는 방식을 의미한다.

즉, 패킷 교환 네트워크에서 패킷이란 "패킷 교환 네트워크상의 송수신 단위"를 의미한다.

![](/assets/images/2024/2024-10-04-16-34-35.png)

<br>

- 전송로의 이용 효율이 높아 회선 교환 방식의 문제점을 해결했다.
- 현대 인터넷은 대부분 **패킷 교환 방식**을 이용한다.
- e.g., 영화 파일 다운로드 시 한 번에 컴퓨터로 오는 것이 아닌, 패킷이라는 작은 단위로 쪼개져서 컴퓨터로 도달하게 되고, 쪼개져서 도착한 많은 패킷들은 컴퓨터에서 재조립된다.

<br>

> 패킷 교환 방식은 아래와 같은 특징이 있다.

1. 쪼개어 전송된 패킷들은 각기 다른 전송로를 통해 수신지까지 도달할 수 있다.
2. 각각의 패킷들은 도착하는 순서가 다를 수 있다.

<br>

> 패킷 스위치

- 패킷의 송수신지를 식별하고, 패킷이 이동할 최적의 경로를 결정하는 네트워크 장비를 말한다.
- 라우터(router), 스위치(switch) 등이 존재한다.<br><br>
  ![](/assets/images/2024/2024-10-04-16-41-29.png)

<br>

> 저장-후-전달 전송(store-and-forward transmission) 방식

- 스위치가 패킷의 첫 비트를 출력 링크로 전송하기 전에 전체 패킷을 받아야 한다.
- **저장-후-전달 전송 방식**은 대부분의 패킷 스위치가 이용하는 방식이다.<br><br>
  ![](/assets/images/2024/2024-12-04-17-49-18.png)
- 그림에서 보이는 것처럼 출발지는 `패킷 1의 일부분`을 전송했고, 그 부분이 라우터에 도착해있는 상황을 생각해보자.
- 이때 라우터는 저장-후-전달 방식을 채택하고 있기 때문에 수신한 비트를 전송할 수 없다. 그 대신, 아래의 과정이 진행된다.

  1. 패킷의 비트를 먼저 `저장(buffer, 즉 "store")`한다.
  2. **라우터가 패킷의 모든 비트를 수신하였다면** 그제서야 출력 링크로 그 패킷을 `전송(transmit, 즉 "forward")`하기 시작한다.

<br>

> 큐잉 지연(queuing delay)과 패킷 손실

- 각 패킷 스위치는 접속된 여러 `링크`를 가지고 있으며, 패킷 스위치는 **각 링크에 대해** `출력 버퍼`**를 가지고 있다.**
- 출력 버퍼(output buffer)는 출력 큐(output queue)로도 불리며, 그 링크로 송신하려고 하는 패킷을 저장하고 있다. 이는 `패킷 교환`에서 중요한 역할을 한다.

패킷이 겪는 지연은 앞에서 보았던 저장-후-전달 지연만 존재하는 것이 아니다.

```
도착하는 패킷은 한 링크로 전송되어야 한다. 하지만 만약 그 링크가 다른 패킷을 전송하고 있는 중이라면 어떻게 해야 하는가?
```

- **도착하는 패킷은 출력 버퍼에서 대기해야 한다.** = **`큐잉 지연`**
- 큐잉 지연은 가변적이며, 네트워크의 혼잡 정도에 따른다.
- 버퍼 공간의 크기는 유한하기 때문에 `패킷 손실(packet loss)`이 발생할 수 있다.
- 즉, 버퍼가 전송을 위해 대기 중인 다른 패킷들로 꽉 차 있는 경우라면  도착하는 패킷 또는 큐에 대기 중인 패킷을 폐기(drop)하는 것이다.<br><br>
  ![](/assets/images/2024/2024-12-04-17-51-40.png)

<br>

- 위 예시에서 라우터는 수신한 패킷을 15 Mbps의 링크로 전달하고 있다.
- 만약 짧은 기간 동안 라우터에 도착하는 패킷의 전송률이 15 Mbps를 초과하게 된다면, 링크의 출력 버퍼에 패킷들이 큐잉될 것이다.

```
정리하자면,
- 링크까지의 패킷 도착율 > 링크 전송률 : 큐잉 지연
- 라우터의 저장 용량(버퍼)을 초과  → 패킷은 폐기될 수 있음: 패킷 손실
```

<br>

> 포워딩 테이블과 라우팅 프로토콜

라우터는 접속된 통신 링크 중 하나로 도착하는 패킷을 받아, **접속된 통신 링크 중 다른 링크로 그 패킷을 전달한다.**

```
그렇다면 라우터는 그 패킷을 어느 링크로 전달해야 하는지를 어떻게 결정할까?
```

_패킷 전달은 실제 여러 유형의 컴퓨터 네트워크에서 다른 방식으로 실행되는데, 여기서는 라우팅이 **인터넷**에서 어떻게 실행되는지를 간단히 설명한다._

- **IP 주소**
  - 인터넷에서 모든 종단 시스템은 IP 주소를 가지며, 이 주소는 계층적 구조를 갖는다.
  - 출발지 종단 시스템이 목적이 종단 시스템으로 패킷을 보내고자 할 때 **출발지는 패킷의 헤더에 목적지의 IP 주소를 포함한다.**

<br>

- **포워딩 테이블(forwarding table)**
  - 각 라우터는 **목적지 주소 또는 목적지 주소의 일부를 라우터의 출력 링크로 매핑**하는 포워딩 테이블을 가지고 있다.
  - 따라서 라우터가 수신한 패킷을 어느 링크로 전달해야 하는지를 결정하는 과정은 다음과 같다.
    1. 패킷이 라우터에 도착한다.
    2. 라우터는 패킷의 IP 주소를 조사한다.
    3. 해당 목적지 주소를 이용하여 포워딩 테이블을 검색한다.
    4. 그 패킷을 출력 링크로 보낸다.

<br>

- **라우팅 프로토콜(routing protocol)**
  - 그렇다면 포워딩 테이블은 어떻게 설정되는 것일까? *(뒤에서 자세히 논의)*
  - 인터넷은 **자동으로 포워딩 테이블을 설정하는 데 이용되는** 여러 특별한 라우팅 프로토콜을 가지고 있다.
  - e.g., 각 라우터로부터 각 목적지까지 최단 경로를 결정 → 라우터에 포워팅 테이블을 설정하는 데에는 이 최단 경로 결과를 이용한다.

<br>

> 패킷 교환 네트워크의 장/단점⭐

각 패킷은 링크 대역폭을 완전히 사용 가능하기 때문에 아래와 같은 장/단점이 존재한다.

- 장점
  - 공유 가능, 낭비X
- 단점
  - 충돌 발생 위험

<br><br>

# 4. 패킷 교환 네트워크에서의 지연, 손실과 처리율

이상적으로는 인터넷 서비스가 데이터의 손실 없이 즉시 두 종단 시스템 간에 원하는 만큼의 데이터를 이동시키기를 원한다.

하지만 현실에서 이는 어려우며, 컴퓨터 네트워크는 두 종단 시스템 간에 전달될 수 있는 초당 데이터의 양, 즉 **처리율을 제한한다.**

**이로 인해 종단 시스템 간에 지연이 발생하며, 패킷을 잃어버리게 되기도 한다.**

<br>

## 4.1 패킷 교환 네트워크에서의 지연 개요

패킷은 한 호스트(출발지)에서 시작하고 일련의 라우터들을 통과하며 다른 호스트(목적지)에 도달한다.

패킷이 경로를 따라 한 노드에서 다음 노드로 전달될 때 패킷은 경로상의 **각 노드에서** 다양한 지연을 겪게 되며,

이들은 쌓여서 `전체 노드 지연(total nodal delay)`을 일으킨다.

- `노드 처리 지연(nodal processing delay)`
- `큐잉 지연(queuing delay)`
- `전송 지연(transmission delay)`
- `전파 지연(propagation delay)`

<br>

> 패킷 손실, 지연 이유

- 패킷 도착률이 출력 링크 용량을 초과해서
- 패킷은 라우터의 버퍼에서 처리되기를 기대해서

아래의 그림을 보며 큰 그림을 그려보자. 이는 라우터 A에서의 노드 지연을 나타낸 것이다.

![](/assets/images/2024/2024-12-04-19-12-03.png)

출발지와 목적지 사이 종단 간 경로의 일부로서, 한 패킷이 업스트림 노드로부터 라우터 A를 통해 라우터 B로 보내진다.

- `업스트림(upstream)` : 클라이언트에서 서버로 전송되는 데이터의 흐름
- `다운스트림(downstream)` : 서버에서 클라이언트로 전송되는 데이터의 흐름, 일반적으로 다운스트림 트래픽은 업스트림 트래픽보다 더 많은 볼륨이 있다.

<br>

> 라우터 A는 라우터 B에 이르는 `하나의 출력(outgoing) 링크`를 가지며, 이 링크 앞에 `큐(queue, 버퍼(buffer))`가 존재한다.

1. 패킷이 업스트림 노드로부터 라우터 A에 도착한다.
2. 라우터 A는 그 패킷에 대한 적당한 출력 링크를 결정하기 위해 패킷 헤더를 조사한다.
3. 라우터 A는 선택된 링크로 그 패킷을 보낸다. (그림에서 선택된 링크 = 라우터 B에 이르는 링크)

<br>

## 4.2 처리 지연(processing delay)

> 💡 패킷 헤더를 조사하고 그 패킷을 어디로 보낼지 결정하는 시간

- 라우터 A로 패킷의 비트를 전송할 때 업스트림 노드에서 발생하는 **패킷의 비트 레벨 오류를 조사**하는 데 필요한 시간과 같은 요소를 포함할 수도 있다.
- 라우터는 이 노드 처리 후, 그 패킷을 라우터 B에 이르는 링크에 앞선 큐에 보낸다.
- 고속 라우터의 처리 지연은 일반적으로 수 마이크로초이다.

<br>

## 4.3 대기(큐잉 지연)(queuing delay)⭐⭐⭐

> 💡 패킷이 큐에서 링크로 전송되기를 기다리는 시간

- 특정 패킷의 큐잉 지연 길이는 큐에 저장되어 링크로 전송되기를 기다리는, **앞서 도착한 다른 패킷의 수에 의해 결정된다.** (네트워크 혼잡 시 대기지연 ↑)
- 주어진 패킷의 지연은 패킷마다 상당히 다르다.
  - 큐가 비어있고 다른 패킷이 전송 중인 상태가 아니라면 패킷의 큐잉 지연 → 0
  - 트래픽이 많고 다른 많은 패킷이 전송 대기 중이라면 패킷의 큐잉 지연 → 매우 길어진다.
- 수 마이크로초 ~ 수 밀리초

<br>

## 4.4 전송 지연(transmission delay)⭐

> 💡 패킷의 모든 비트를 링크로 밀어내는 데(또는 전송하는 데) 필요한 시간

- 패킷이 **선입선출(FIFO)** 방식으로 전송된다고 가정해보자. (앞서 도착한 다른 모든 패킷이 전송된 다음에 전송)
- 패킷의 길이는 `L 비트`, 라우터 A에서 라우터 B까지 링크의 전송률은 `R bps`라고 해보자. (R는 라우터 B로 가는 링크의 전송률에 의해 결정됨)
- 이때 전송 지연은 `L/R`이다. (수 마이크로초 ~ 수 밀리초)

<br>

## 4.5 전파 지연(propagation delay)

> 💡 비트가 라우터 A 상에서의 링크에서 라우터 B까지의 전파에 필요한 시간

- 비트는 링크의 전파 속도로 전파된다.
- 전파 속도는 링크의 물리 매체(광섬유, 꼬임쌍선 등)에 따라 다르며, 범위는 2×(10^8)미터/초 ~ 3×(10^8)미터/초이다.→ 빛의 속도와 같거나 약간 작다.

라우터 A와 B 사이의 거리를 `d`, 링크의 전파 속도를 `s`라고 한다면 전파 지연은 `d/s`이다. (일반적으로 수 밀리초)

<br>

## 4.6 전송 지연과 전파 지연의 비교

|   지연 종류   |                                                                         설명                                                                         |
| :-----------: | :--------------------------------------------------------------------------------------------------------------------------------------------------: |
| **전송 지연** |             - **라우터가 패킷을 내보내는 데** 필요한 시간<br> - 패킷 길이와 링크 전송률의 함수 → 두 라우터 사이의 거리와는 관계가 없다.              |
| **전파 지연** | - 비트가 **한 라우터에서 다음 라우터로 전파되는 데** 걸리는 시간 <br> - 두 라우터 사이의 거리에 대한 함수 → 패킷 길이나 링크 전송률과는 관계가 없다. |

<br>

## 4.7 전체 노드 지연(total nodal delay)

> 💡 전체 노드 지연 = 처리 지연 + 큐잉 지연 + 전송 지연 + 전파 지연

각각 지연 요소의 기여도에는 상당한 차이가 존재한다.

- **전파 지연(propagation delay)**
  - 내부의 두 라우터를 연결하는 링크에서는 2마이크로초 정도 → 무시 가능
  - 정지 위성 링크로 연결된 두 라우터의 경우 수백 밀리초 → 전체 노드 지연의 주요 요소가 된다.
- **전송 지연(transmission delay)**
  - LAN처럼 10 Mbps 이상의 전송률인 경우 → 무시 가능
  - 저속 다이얼업 모뎀 링크에서 보내지는 인터넷 패킷은 수백 밀리초에 이를 수 있다.
- **처리 지연(nodal processing delay)**
  - 이는 보통 전체 노드 지연에서는 무시될 수 있다.
  - 하지만 라우터가 패킷을 전달할 수 있는 최대율(최대 속도)에는 상당한 영향을 준다.

<br>

> 오늘날 인터넷 환경에서 주로 사용하는 네트워크는 "패킷 교환 네트워크"인 만큼, 현대의 네트워크가 어떻게 이루어져 있는지 학습하고 싶으면 패킷(packet)을 공부하면 된다.

다음 포스팅에서 패킷(packet)에 대해 자세히 알아보도록 하자.

<br><br>

# 5. 참조

- [[https://github.com/IT-Book-Organization/Computer-Networking_A-Top-Down-Approach](https://github.com/IT-Book-Organization/Computer-Networking_A-Top-Down-Approach)](https://github.com/IT-Book-Organization/Computer-Networking_A-Top-Down-Approach)

<br>
