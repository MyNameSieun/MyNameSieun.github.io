---
title: "[Network] #19 HTTP 헤더"
categories: [Network]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

[[혼자 공부하는 네트워크↗️]](https://www.youtube.com/watch?v=c62qssA4hYI&list=PLVsNizTWUw7HfOCgvlfHIDPPo3TE-2iQM), 컴퓨터 네트워킹: 하향식 접근 (제8판)을 바탕으로 정리한 글입니다.
{: .notice--danger}

- 저번 포스팅에서는 시작 라인의 요청 메시지의 경우 시작 라인은 요청 라인이 되고, 응답 메시지의 경우엔 시작 라인이 상태 라인이 된다고 하였다.
- 이와 관련해서 요청 라인에 명시되는 메서드와 상태 라인에 명시되는 상태 코드와 이유 구문에 대해 학습을 했다.
- 이번 포스팅에서는 필드 라인에 명시되는 다양한 헤더들을 학습할 것이다.<br><br>
  ![](/assets/images/2024/2024-12-30-23-37-57.png)

<br>

# 1. 필드라인 (=헤더라인)

> 0개 이상의 HTTP 헤더가 명시된다.

- HTTP 헤더란, HTTP 통신에 필요한 부가 정보를 의미한다.
- 콜론(:)을 기준으로 헤더 이름과 하나 이상의 헤더 값으로 구성된다.<br><br>![](/assets/images/2024/2024-12-31-02-26-12.png)

<br>

> 헤더 유형

- 특별한 사전 지식이 필요하지 않은 헤더
- 사전 지식이 필요한 헤더(e.g., 캐시, 쿠키, 콘텐츠 협상 관련 헤더)<br><br>![](/assets/images/2024/2024-12-30-23-34-20.png)

<br><br>

# 2. 특별한 사전 지식이 필요하지 않은 헤더

## 2.1 HTTP 요청 시 주로 사용되는 헤더

### 2.1.1 Host

> 요청을 보낼 호스트를 나태내는 헤더

- 주로 도메인 네임 명시, 포트 번호가 포함되어 있을 수 있다.
- e.g., `http://info.cern.ch/hypertext/WWW/TheProject.html`에 접속할 때의 HTTP 요청 메시지 일부 <br><br>
  ![](/assets/images/2024/2024-12-31-12-56-43.png)

<br>

### 2.1.2 User-Agent

> 유저 에이전트(User-Agent)란, HTTP 요청을 시작하는 클라이언트 측의 프로그램을 말한다. (e.g., 웹 브라우저)

User-Agent 헤더에는 요청 메시지 생성에 관여한 클라이언트 프로그램과 관련된 다양한 정보가 명시되어있다.

![](/assets/images/2024/2024-12-31-13-16-07.png)

<br>

### 2.1.3 Referer

> 클라이언트가 요청을 보낼 때 머무르고 있던 URL이 명시된다.

클라이언트의 유입 경로를 파악할 수 있다.

![](/assets/images/2024/2024-12-31-13-18-45.png)

<br>

### 2.1.4 Authoriztion

> 클라이언트의 인증 정보를 담는 헤더

- 인증 타입(type)과 인증을 위한 정보(credentials)가 명시된다.
- 인증 타입에 따라 인증 정보에 명시될 값이 달라진다.
- 인증 방식은 Basic, token 인증 등이 존재한다. <br><br>![](/assets/images/2024/2024-12-31-13-20-04.png)

<br>

> 가장 기본적인 HTTP 인증 타입은 Basic이다.

- `username:password`를 Base64 인코딩한 값을 인증 정보로 삼는 방식이다.
- e.g., 사용자 아이디가 "sieun"이고 비밀번호가 "1234"일 경우, 인증 정보는 "sieun:1234"를 Base65 방식으로 인코딩한 "bWluY2h1bDoxMjMo"<br><br>
  ![](/assets/images/2024/2024-12-31-13-20-54.png)

<br>

## 2.2 HTTP 응답 시 주로 사용되는 헤더

### 2.2.1 Server

> 요청을 처리하는 서버 측의 소프트웨어와 관련된 정보를 명시한다.

e.g., "Unix 운영체제에서 동작하는 아파치 HTTP 서버"를 의미하는 헤더

![](/assets/images/2024/2024-12-31-13-23-15.png)

<br>

### 2.2.2 Allow

> Allow 헤더는 클라이언트에게 허용된 HTTP 메서드 목록을 알려 주기 위해 사용한다.

상태 코드 405(Method Not Allowed)를 응답하는 메시지에서 Allow 헤더가 함께 사용된다.

![](/assets/images/2024/2024-12-31-13-24-24.png)

<br>

### 2.2.3 Retry-After

> 상태 코드 503(Service Unavailable)과 함께 사용될 수 있는 헤더

- 자원을 사용할 수 있는 날짜 혹은 시각을 나타낸다.
- e.g., "2024년 8월 23일 금요일 09시 이후에 사용 가능함", "120초 이후에 사용 가능함"
  ![](/assets/images/2024/2024-12-31-13-26-00.png)

<br>

### 2.2.4 Location

> 클라이언트에게 자원의 위치를 알려 주기 위해 사용되는 헤더

주로 리다이렉션이 발생했을 때나 새로운 자원이 생성되었을 때 사용된다.

<br>

### 2.2.5 WWW-Authenticate

> 상태코드 401(Unauthorized)과 함께 사용되는 헤더

자원에 접근하기 위한 인증 방식을 설명한다.

![](/assets/images/2024/2024-12-31-13-28-33.png)

<br>

> 요청 메시지의 Authorization 헤더, 응답 메시지의 WWW-Authenticate 헤더를 통한 Basic type의 HTTP 인증 과정

1. 인증되지 않은 클라이언트가 서버에 GET 요청 메시지를 전송
2. 서버는 401(Unauthorized)과 함께 WWW-Authenticate 헤더를 통해 인증 방식을 알림
3. 클라이언트는 사용자로부터 인증 정보(사용자 아이디와 비밀번호)를 전달받음
4. 클라이언트는 Base64 인코딩한 값을 Authorization 헤더를 통해 요청 메시지를 전송
5. 서버는 인증 정보를 확인
6. 인증이 유효하면 상태 코드 200으로 응답하고, 인증되지 않았으면 상태 코드 401로 응답<br><br>
   ![](/assets/images/2024/2024-12-31-13-31-45.png)

<br>

## 2.3 HTTP 요청과 응답 모두에서 자주 활용되는 헤더

### 2.3.1 Date

> 메시지가 생성된 날짜와 시각에 관련된 정보를 담은 헤더

![](/assets/images/2024/2024-12-31-15-13-54.png)

<br>

### 2.3.2 Connection

> 클라이언트의 요청과 응답 간의 연결 방식을 설정하는 헤더

- 지속 연결이 Connection에 명시되는 대표적인 연결 방식
- 가장 대표적으로 사용되는 값은 keep-alive와 close<br><br>![](/assets/images/2024/2024-12-31-15-15-19.png)

<br>

### 2.3.3 Content-Length

> 본문의 바이트 단위 크기(길이)

![](/assets/images/2024/2024-12-31-15-15-34.png)

<br>

### 2.3.4 Content-Type/Language/Encoding

> Content-Type, Content-Language, Content-Encoding는 메시지 본문의 표현 방식을 설명하는 헤더

표현 헤더의 일종

<br>

> Content-Type 헤더

메시지 본문에서 사용된 미디어 타입이 타입이 무엇인지를 나타내는 헤더

<br>

> Content-Language 헤더

- 메시지 본문에 사용된 자언어를 명시
- 언어 태그로 명시: 하이픈(-)으로 구분된 구조
- 언어 코드 - 국가 코드의 조합
  - 일반적으로 첫 번째 서브 태그 = 언어 코드, 두 번째 서브 태그 = 국가 코드
  - 어떤 국가에서 사용하는 어떤 언어인지를 나타낸다.
  - e.g., ko-KR, en-GB, en-US<br><br>
    ![](/assets/images/2024/2024-12-31-15-19-24.png)

<br>

> Content-Encoding 헤더

메시지 본문을 압축하거나 변환한 방식

![](/assets/images/2024/2024-12-31-15-21-23.png)

<br>
