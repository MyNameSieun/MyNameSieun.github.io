---
title: "[Spring] ê¹€ì˜í•œ ìŠ¤í”„ë§ ê¸°ë³¸ ì •ë¦¬ #2 ìŠ¤í”„ë§ í•µì‹¬ ì›ë¦¬ ì´í•´1 - ì˜ˆì œ ë§Œë“¤ê¸°"
categories: [Spring]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

---

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ìŠ¤í”„ë§ì´ ì™œ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ <span style="color:indianred">ì—­í• ê³¼ êµ¬í˜„ ë¶„ë¦¬</span>ì— ì§‘ì¤‘í•˜ì—¬ ì˜ˆì œë¥¼ ë§Œë“¤ë©° ì´í•´í•´ë³´ë„ë¡ í•˜ì.

---

<br>

# 1. í”„ë¡œì íŠ¸ ìƒì„±

> ì‚¬ì „ ì¤€ë¹„ë¬¼

- Java 17 ì´ìƒ ì„¤ì¹˜
- IDE: IntelliJ ì„¤ì¹˜

> [ìŠ¤í”„ë§ ë¶€íŠ¸ ìŠ¤íƒ€í„° ì‚¬ì´íŠ¸](https://start.spring.io)ë¡œ ì´ë™í•´ì„œ ìŠ¤í”„ë§ í”„ë¡œì íŠ¸ ìƒì„±

![](/assets/images/2025/2025-02-06-00-43-24.png)

âš ï¸ ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ì´ìƒ, JDK 17 ì´ìƒì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

<br>

ì••ì¶•ì„ í’€ê³ , `bulid.gradle` ì„ open í•´ì£¼ë©´ ëœë‹¤.

<br>

ì£¼ì˜! ìŠ¤í”„ë§ ë¶€íŠ¸ 3.2 ë¶€í„° Build and run usingì— Gradle ì˜µì…˜ì„ ì„ íƒí•´ì•¼ í•œë‹¤. (default)

![](/assets/images/2025/2025-02-06-01-01-42.png)

<br><br>

# 2. ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ê³¼ ì„¤ê³„

ì‡¼í•‘ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì„¤ê³„í•´ë³´ì.

<span style="color:indianred">ë¯¸í™•ì •</span> ì •ì±…ì„ ê°œë°œí•˜ê¸° ìœ„í•´ **ì¸í„°í˜ì´ìŠ¤**ë¥¼ ë§Œë“¤ê³  êµ¬í˜„ì²´ë¥¼ ì–¸ì œë“ ì§€ ê°ˆì•„ë¼ìš¸ ìˆ˜ ìˆë„ë¡ ì„¤ê³„í•˜ë©´ ëœë‹¤.

> íšŒì›

- íšŒì›ì„ ê°€ì…í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
- íšŒì›ì€ ì¼ë°˜ê³¼ VIP ë‘ ê°€ì§€ ë“±ê¸‰ì´ ìˆë‹¤.
- íšŒì› ë°ì´í„°ëŠ” ìì²´ DBë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆê³ , ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì—°ë™í•  ìˆ˜ ìˆë‹¤. <span style="color:indianred">(ë¯¸í™•ì •)</span>

> ì£¼ë¬¸ê³¼ í• ì¸ ì •ì±…

- íšŒì›ì€ ìƒí’ˆì„ ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤.
- íšŒì› ë“±ê¸‰ì— ë”°ë¼ í• ì¸ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.
- í• ì¸ ì •ì±…ì€ ëª¨ë“  VIPëŠ” 1000ì›ì„ í• ì¸í•´ì£¼ëŠ” ê³ ì • ê¸ˆì•¡ í• ì¸ì„ ì ìš©í•´ë‹¬ë¼. (ë‚˜ì¤‘ì— ë³€ê²½ ë  ìˆ˜ ìˆë‹¤.)
- í• ì¸ ì •ì±…ì€ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. íšŒì‚¬ì˜ ê¸°ë³¸ í• ì¸ ì •ì±…ì„ ì•„ì§ ì •í•˜ì§€ ëª»í–ˆê³ , ì˜¤í”ˆ ì§ì „ê¹Œì§€ ê³ ë¯¼ì„ ë¯¸ë£¨ê³  ì‹¶ë‹¤. ìµœì•…ì˜ ê²½ìš° í• ì¸ì„ ì ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. <span style="color:indianred">(ë¯¸í™•ì •)</span>

<br><br>

# 3. íšŒì› ë„ë©”ì¸ ì„¤ê³„

> íšŒì› ë„ë©”ì¸ ìš”êµ¬ì‚¬í•­

- íšŒì›ì„ ê°€ì…í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
- íšŒì›ì€ ì¼ë°˜ê³¼ VIP ë‘ ê°€ì§€ ë“±ê¸‰ì´ ìˆë‹¤.
- íšŒì› ë°ì´í„°ëŠ” ìì²´ DBë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆê³ , ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì—°ë™í•  ìˆ˜ ìˆë‹¤. <span style="color:indianred">(ë¯¸í™•ì •)</span>

<br>

> íšŒì› ë„ë©”ì¸ í˜‘ë ¥ ê´€ê³„ (ê¸°íšì í™•ì¸ ê°€ëŠ¥)

- íšŒì› ë°ì´í„°ëŠ” ë¯¸í™•ì •ëœ ì •ì±…ì´ê¸° ë•Œë¬¸ì—, íšŒì› ì €ì¥ì†Œë¼ëŠ” **ì¸í„°í˜ì´ìŠ¤**ë¥¼ ë§Œë“¤ì–´ íšŒì› ë°ì´í„°ì˜ ì ‘ê·¼í•˜ëŠ” ê³„ì¸µì„ ë”°ë¡œ ì„¤ì •í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ ì—­í• , íšŒì› ì„œë¹„ìŠ¤ ì—­í• , íšŒì› ì €ì¥ì†Œ ì—­í• ì´ ìˆìœ¼ë©° íšŒì› ì €ì¥ì†Œì˜ ì—­í• ì„ 3ê°œì˜ ì €ì¥ì†Œë¡œ ë‚˜ëˆˆë‹¤.<br><br>
  ![](/assets/images/2025/2025-02-06-01-19-02.png)

<br>

> íšŒì› í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ (ì •ì , ìœ„ ê·¸ë¦¼ì„ ë°”íƒ•ìœ¼ë¡œ ê°œë°œìê°€ êµ¬ì²´í™”)

![](/assets/images/2025/2025-02-06-01-18-54.png)

<br>

> íšŒì› ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨ (ë™ì , í´ë¼ì´ì–¸íŠ¸ê°€ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë¼ë¦¬ì˜ ì°¸ì¡°)

ê°ì²´ ê°„ì˜ ë©”ëª¨ë¦¬ê°„ì˜ ì°¸ì¡°ë¥¼ ê·¸ë¦° ê·¸ë¦¼ì´ë‹¤.

![](/assets/images/2025/2025-02-06-02-43-17.png)

<br><br>

# 4. íšŒì› ë„ë©”ì¸ ê°œë°œ

> ì•ìœ¼ë¡œ ê°œë°œí•  member íŒ¨í‚¤ì§€ íŒŒì¼ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

![](/assets/images/2025/2025-02-06-02-40-35.png)

1. íšŒì› ë„ë©”ì¸ì„ ì„¤ê³„í•  ê²ƒì´ë¯€ë¡œ `member` íŒ¨í‚¤ì§€ ë§Œë“¤ê¸°
2. `Member` íšŒì› ì—”í‹°í‹° ìƒì„±
3. `MemberRepository` ì¸í„°í˜ì´ìŠ¤(ì—­í• ) ìƒì„±
4. `MemoryMemberRepository` í´ë˜ìŠ¤(êµ¬í˜„ì²´) ìƒì„±
5. `MemberService` ì¸í„°í˜ì´ìŠ¤(ì—­í• ) ìƒì„±
6. `MemberServiceImpl` í´ë˜ìŠ¤(êµ¬í˜„ì²´) ìƒì„±
7. `MemberApp` í´ë˜ìŠ¤ ìƒì„±í•˜ì—¬ í…ŒìŠ¤íŠ¸ (ì¢‹ì€ ë°©ë²• ì•„ë‹˜)

<br>

## 4.1 íšŒì› ì—”í‹°í‹°

> ì—”í‹°í‹°ë€?

- DB í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ëŠ” ìë°” ê°ì²´. ì¦‰, DB í…Œì´ë¸”ì„ ê°ì²´ë¡œ í‘œí˜„í•œ ê²ƒ
  - JPAë¥¼ ì‚¬ìš©í•  ê²½ìš° @Entityë¡œ ì„ ì–¸ëœ í´ë˜ìŠ¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ì–´, í…Œì´ë¸”ì˜ í–‰(row)ì„ ê°ì²´ë¡œ í‘œí˜„í•˜ê³  ê´€ë¦¬
- ì—”í‹°í‹°ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ ì¤‘ìš”í•œ ê°œì²´ë¥¼ í‘œí˜„í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©
  - ë°ì´í„° ì €ì¥ë¿ë§Œ ì•„ë‹ˆë¼, íšŒì›, ì£¼ë¬¸, ìƒí’ˆ ë“± ë¹„ì¦ˆë‹ˆìŠ¤ì—ì„œ ì¤‘ìš”í•œ ê°œì²´ì˜ ìƒíƒœì™€ ë™ì‘ì„ ê´€ë¦¬
  - ê³ ìœ í•œ ì‹ë³„ì(id)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒíƒœ ë³€í™”ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ë‹´ì„ ìˆ˜ ìˆìŒ

<br>

ğŸ’¡ ì¦‰, ì—”í‹°í‹°ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ ë§¤í•‘ë˜ëŠ” ê°ì²´ì´ì, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ ì¤‘ìš”í•œ ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” ê°ì²´

<br>

> memberë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ìƒì„±í•´ì¤€ í›„, Enum(ì—´ê±°í˜•)ìœ¼ë¡œ Gradeì™€ Classë¡œ Memberì„ ìƒì„±í•˜ì.

- íšŒì› ë“±ê¸‰

  ```java
  package hello.core.member;

  public enum Grade {
      BASIC,
      VIP
  }
  ```

<br>

- íšŒì› ì—”í‹°í‹°

  - ìƒì„±ì ë‹¨ì¶•í‚¤
    - Mac: Command + N
    - Window: Alt + Insert
  - Getter, Setter ë‹¨ì¶•í‚¤
    - Alt + Insert<br><br>

  ```java
  package hello.core.member;

  // íšŒì› ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í´ë˜ìŠ¤
  public class Member {
      // ë©¤ë²„ ë³€ìˆ˜(í•„ë“œ): í´ë˜ìŠ¤ì— ì†Œì†ëœ ë³€ìˆ˜
      private Long id;
      private String name;
      private Grade grade;


      // ìƒì„±ì: Member ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•„ìˆ˜ ê°’(id, name, grade)ì„ ì´ˆê¸°í™”
      public Member(Long id, String name, Grade grade) {
          this.id = id;
          this.name = name;
          this.grade = grade;
      }

      // Getter, Setter
      public Long getId() {
          return id;
      }

      public String getName() {
          return name;
      }

      public Grade getGrade() {
          return grade;
      }

      public void setId(Long id) {
          this.id = id;
      }

      public void setName(String name) {
          this.name = name;
      }

      public void setGrade(Grade grade) {
          this.grade = grade;
      }
  }
  ```

  <br>

  > ìƒì„±ìì™€ Getter, Setter

ìƒì„±ìë¡œ ê°ì²´ë¥¼ ì´ˆê¸°í™”í•œ í›„, ì™¸ë¶€ì—ì„œ í•„ìš”í•œ ê²½ìš° Getterì™€ Setterë¥¼ í†µí•´ í•„ë“œ ê°’ì„ ì•ˆì „í•˜ê²Œ ì½ê±°ë‚˜ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ ì œì–´í•  ìˆ˜ ìˆë‹¤. (ë°ì´í„° ë¬´ê²°ì„±)

1. **ìƒì„±ì(Constructor)**ë¡œ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•„ìˆ˜ ê°’ì„ ì„¤ì •

   ```java
   Member member = new Member(1L, "ì‹œì€", Grade.VIP);
   ```

2. ì´ˆê¸°í™”ëœ ê°’ì„ Getterë¥¼ í†µí•´ ì½ê³ , í•„ìš”í•˜ë©´ Setterë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

   ```java
    // ê°’ ì½ê¸° (Getter)
    String name = member.getName(); // "ì‹œì€"

    // ê°’ ìˆ˜ì • (Setter)
    member.setName("ì½”ë¦¬");
   ```

<br>

## 4.2 íšŒì› ì €ì¥ì†Œ

> member íŒ¨í‚¤ì§€ ì•ˆì— `MemberRepository` ì¸í„°í˜ì´ìŠ¤(ì—­í• )ë¥¼ ìƒì„±í•˜ê³ , íšŒì›ì„ ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ê³¼ íšŒì›ì„ ì°¾ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì.

íšŒì› ì €ì¥ì†Œ ì¸í„°í˜ì´ìŠ¤

```java
package hello.core.member;
// import hello.core.domain.Member;  // import í•„ìš” ì—†ìŒ (ê°™ì€ íŒ¨í‚¤ì§€ë¼ì„œ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥)

public interface MemberRepository {
    // ë©”ì„œë“œ ì •ì˜: [ë°˜í™˜ íƒ€ì…] [ë©”ì„œë“œ ì´ë¦„](ë§¤ê°œë³€ìˆ˜);

    void save(Member member);
    Member findById(Long memberId);
}
```

<br>

> ê·¸ë¦¬ê³  member íŒ¨í‚¤ì§€ ì•ˆì— `MemoryMemberRepository`ë¼ëŠ” í´ë˜ìŠ¤(êµ¬í˜„ì²´) ìƒì„± í›„, implementsë¡œ MemberRepositoryë¥¼ ì„¤ì •í•˜ì.

ë©”ëª¨ë¦¬ íšŒì› ì €ì¥ì†Œ êµ¬í˜„ì²´ (**HashMap**ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— íšŒì› ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥)

```java
package hello.core.member;

import java.util.HashMap;
import java.util.Map;

public class MemoryMemberRepository implements MemberRepository{

    // (ì‹¤ë¬´ì—ì„œëŠ” HashMap ëŒ€ì‹  ConcurrentHashMapë¥¼ ì‚¬ìš©í•œë‹¤.)
    private static Map<Long, Member> store = new HashMap<>();

    @Override
    public void save(Member member) {
        store.put(member.getId(), member); // íšŒì› ì •ë³´ë¥¼ ì €ì¥

    }

    @Override
    public Member findById(Long memberId) {
        return store.get(memberId);  // íšŒì› IDë¡œ íšŒì› ì°¾ê¸°
    }
}
```

<br>

## 4.3 íšŒì› ì„œë¹„ìŠ¤ ë§Œë“¤ê¸°

> member íŒ¨í‚¤ì§€ ì•ˆì— `MemberService`ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì.

MemberServiceëŠ” íšŒì› ê°€ì…, íšŒì› ì¡°íšŒ ê¸°ëŠ¥ì„ ê°€ì ¸ì•¼ í•œë‹¤.

![](/assets/images/2025/2025-02-06-01-19-02.png)

<br>

íšŒì› ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤

```java
package hello.core.member;

public interface MemberService {
    void join(Member member);

    Member findMember(Long memberId);
}
```

<br>

> ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì—ˆìœ¼ë‹ˆ, member íŒ¨í‚¤ì§€ ì•ˆì— `MemberServiceImpl`ì´ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ì.

íšŒì› ì„œë¹„ìŠ¤ êµ¬í˜„ì²´

(ê´€ë¡€ìƒ êµ¬í˜„ì²´ê°€ í•˜ë‚˜ë§Œ ìˆì„ ë•Œ, ì¸í„°í˜ì´ìŠ¤ ë’¤ì— Implì„ ì‚¬ìš©í•œë‹¤ê³  í•œë‹¤.)

```java
package hello.core.member;

public class MemberServiceImpl implements MemberService{

    // MemoryMemberRepositoryë¼ëŠ” êµ¬í˜„ ê°ì²´ ì„ íƒ
    private final MemberRepository memberRepository = new MemoryMemberRepository();

    @Override
    public void join(Member member) {
        memberRepository.save(member);
    }

    @Override
    public Member findMember(Long memberId) {
        return memberRepository.findById(memberId);
    }
}
```

<br><br>

# 5. íšŒì› ë„ë©”ì¸ ì‹¤í–‰ê³¼ í…ŒìŠ¤íŠ¸

> mainì˜ hello.coreì—ë‹¤ `MemberApp`ì´ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì„± í›„, ì•„ë˜ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸ í•´ë³´ì.

## 5.1 íšŒì› ë„ë©”ì¸ - íšŒì› ê°€ì… main

```java
package hello.core;

import hello.core.member.*;

public class MemberApp {
    public static void main(String[] args) {
        MemberService memberService = new MemberServiceImpl();
        Member member = new Member(1L, "sieun", Grade.VIP);
        memberService.join(member);

        Member findMember = memberService.findMember(1L);
        System.out.println("new member = " + member.getName());
        System.out.println("find Member = " + findMember.getName());
    }
}
```

![](/assets/images/2025/2025-02-11-20-20-25.png)

ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ìœ¼ë¡œ ì´ë ‡ê²Œ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ë°©ë²•ì´ ì•„ë‹ˆë‹¤. JUnit í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì.

<br>

## 5.2 íšŒì› ë„ë©”ì¸ - íšŒì› ê°€ì… í…ŒìŠ¤íŠ¸

> **test**ì˜ hello.coreì—ë‹¤ `member`ì´ë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ë§Œë“  í›„, `MemberServiceTest` í´ë˜ìŠ¤ë¥¼ ìƒì„± í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ì.

![](/assets/images/2025/2025-02-11-20-22-16.png)

<br>

ê²€ì¦ì€ org.assertj.core.apiì˜ Assertionsì„ ì‚¬ìš©í•˜ì—¬ ì§„í–‰í•œë‹¤.

![](/assets/images/2025/2025-02-06-03-10-14.png)

```java
package hello.core.member;

import org.assertj.core.api.Assertions;
import org.junit.jupiter.api.Test;

public class MemberServiceTest {

    MemberService memberService = new MemberServiceImpl();

    @Test
    void join(){
        // given
        Member member = new Member(1L, "sieun", Grade.VIP);

        // when
        memberService.join(member);
        Member findMember = memberService.findMember(1L);

        // then
        Assertions.assertThat(member).isEqualTo(findMember);

    }
}
```

ì„±ê³µ!

![](/assets/images/2025/2025-02-06-03-12-21.png)

<br>

## 5.3 íšŒì› ë„ë©”ì¸ ì„¤ê³„ì˜ ë¬¸ì œì 

> ìœ„ ì½”ë“œì˜ ì„¤ê³„ìƒ ë¬¸ì œì ì€ ë¬´ì—‡ì¼ê¹Œ?

- ë‹¤ë¥¸ ì €ì¥ì†Œë¡œ ë³€ê²½í•  ë•Œ OCP ì›ì¹™ì„ ì˜ ì¤€ìˆ˜í•˜ê³  ìˆì„ê¹Œ?
- DIPë¥¼ ì˜ ì§€í‚¤ê³  ìˆì„ê¹Œ?

â¡ï¸ ì˜ì¡´ê´€ê³„ê°€ ì¸í„°í˜ì´ìŠ¤ ë¿ë§Œ ì•„ë‹ˆë¼ êµ¬í˜„ê¹Œì§€ ëª¨ë‘ ì˜ì¡´í•˜ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.

ì•„ë˜ ì£¼ë¬¸ê¹Œì§€ ë§Œë“¤ê³ ë‚˜ì„œ í•´ê²°í•´ë³´ì.

<br><br>

# 6. ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ì„¤ê³„

> ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ìš”êµ¬ì‚¬í•­

- íšŒì›ì€ ìƒí’ˆì„ ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤.
- íšŒì› ë“±ê¸‰ì— ë”°ë¼ í• ì¸ ì •ì±…ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.
- í• ì¸ ì •ì±…ì€ ëª¨ë“  VIPëŠ” 1000ì›ì„ í• ì¸í•´ì£¼ëŠ” ê³ ì • ê¸ˆì•¡ í• ì¸ì„ ì ìš©í•´ë‹¬ë¼. (ë‚˜ì¤‘ì— ë³€ê²½ ë  ìˆ˜ ìˆë‹¤.)
- í• ì¸ ì •ì±…ì€ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤. íšŒì‚¬ì˜ ê¸°ë³¸ í• ì¸ ì •ì±…ì„ ì•„ì§ ì •í•˜ì§€ ëª»í–ˆê³ , ì˜¤í”ˆ ì§ì „ê¹Œì§€ ê³ ë¯¼ì„ ë¯¸ë£¨
  ê³  ì‹¶ë‹¤. ìµœì•…ì˜ ê²½ìš° í• ì¸ì„ ì ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤. <span style="color:indianred">(ë¯¸í™•ì •)</span>

<br>

> ì£¼ë¬¸ ë„ë©”ì¸ í˜‘ë ¥, ì—­í• , ì±…ì„

![](/assets/images/2025/2025-02-06-03-16-38.png)

1. ì£¼ë¬¸ ìƒì„±: í´ë¼ì´ì–¸íŠ¸ëŠ” ì£¼ë¬¸ ì„œë¹„ìŠ¤ì— ì£¼ë¬¸ ìƒì„±ì„ ìš”ì²­í•œë‹¤.
2. íšŒì› ì¡°íšŒ: í• ì¸ì„ ìœ„í•´ì„œëŠ” íšŒì› ë“±ê¸‰ì´ í•„ìš”í•˜ë‹¤. ê·¸ë˜ì„œ ì£¼ë¬¸ ì„œë¹„ìŠ¤ëŠ” ë¨¼ì € íšŒì› ì €ì¥ì†Œì—ì„œ íšŒì›ì„ ì¡°íšŒí•œë‹¤.
3. í• ì¸ ì ìš©: ì£¼ë¬¸ ì„œë¹„ìŠ¤ëŠ” íšŒì› ë“±ê¸‰ì— ë”°ë¥¸ í• ì¸ ì—¬ë¶€ë¥¼ í• ì¸ ì •ì±…ì— ìœ„ì„í•œë‹¤.
4. ì£¼ë¬¸ ê²°ê³¼ ë°˜í™˜: ì£¼ë¬¸ ì„œë¹„ìŠ¤ëŠ” í• ì¸ ê²°ê³¼ë¥¼ í¬í•¨í•œ ì£¼ë¬¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.

<br>

> ì£¼ë¬¸ ë„ë©”ì¸ ì „ì²´

- ì•„ë˜ì²˜ëŸ¼ <span style="color:indianred">ì—­í• ê³¼ êµ¬í˜„ì„ ë¶„ë¦¬</span>í•´ì„œ ììœ ë¡­ê²Œ êµ¬í˜„ ê°ì²´ë¥¼ ì¡°ë¦½í•  ìˆ˜ ìˆê²Œ ì„¤ê³„í•˜ì˜€ë‹¤. (ì—­í•  ë¨¼ì € ë§Œë“¤ê³ , êµ¬í˜„ì„ ê·¸ ë‹¤ìŒì—)
- ë•ë¶„ì— íšŒì› ì €ì¥ì†ŒëŠ” ë¬¼ë¡ ì´ê³ , í• ì¸ ì •ì±…ë„ ìœ ì—°í•˜ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.<br><br>
  ![](/assets/images/2025/2025-02-06-03-17-33.png)

<br>

> ì£¼ë¬¸ ë„ë©”ì¸ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

![](/assets/images/2025/2025-02-06-03-18-58.png)

<br>

> ì£¼ë¬¸ ë„ë©”ì¸ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨1

ì•ì—ì„œ ì„¤ëª…í–ˆë“¯, ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨ì€ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ê³¼ ë‹¤ë¥´ê²Œ newë¥¼ í†µí•´ ìƒì„±í•˜ì—¬ ë™ì ìœ¼ë¡œ ì—°ê´€ê´€ê³„ê°€ ë§ºì–´ì§€ëŠ” ê²ƒì„ ëœ»í•œë‹¤.

![](/assets/images/2025/2025-02-06-03-19-12.png)

íšŒì›ì„ ë©”ëª¨ë¦¬ì—ì„œ ì¡°íšŒí•˜ê³ , ì •ì•¡ í• ì¸ ì •ì±…(ê³ ì • ê¸ˆì•¡)ì„ ì§€ì›í•´ë„ ì£¼ë¬¸ ì„œë¹„ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

ì—­í• ë“¤ì˜ í˜‘ë ¥ ê´€ê³„ë¥¼ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤. (ì •ì•¡í• ì¸ -> ì •ë¥ í• ì¸ìœ¼ë¡œ ë³€ê²½ ë˜ì–´ë„ ì£¼ë¬¸ ì„œë¹„ìŠ¤ êµ¬í˜„ì²´ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ê²ƒì„ ëœ»í•¨.)

<br>

> ì£¼ë¬¸ ë„ë©”ì¸ ê°ì²´ ë‹¤ì´ì–´ê·¸ë¨2

![](/assets/images/2025/2025-02-06-03-19-33.png)

íšŒì›ì„ ë©”ëª¨ë¦¬ê°€ ì•„ë‹Œ ì‹¤ì œ DBì—ì„œ ì¡°íšŒí•˜ê³ , ì •ë¥  í• ì¸ ì •ì±…(ì£¼ë¬¸ ê¸ˆì•¡ì— ë”°ë¼ % í• ì¸)ì„ ì§€ì›í•´ë„ ì£¼ë¬¸ ì„œë¹„ìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.

í˜‘ë ¥ ê´€ê³„ë¥¼ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš© í•  ìˆ˜ ìˆë‹¤.

<br><br>

# 7. ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ê°œë°œ

> ì•ìœ¼ë¡œ ê°œë°œí•  `discount`,`order` íŒ¨í‚¤ì§€ íŒŒì¼ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

![](/assets/images/2025/2025-02-11-20-38-41.png)![](/assets/images/2025/2025-02-11-20-38-57.png)

1. í• ì¸ ë„ë©”ì¸ì„ ì„¤ê³„í•  ê²ƒì´ë¯€ë¡œ `discount` íŒ¨í‚¤ì§€ ë§Œë“¤ê¸°
2. `DiscountPolicy` ì¸í„°í˜ì´ìŠ¤(ì—­í• ) ìƒì„±
3. `FixDiscountPolicy` í´ë˜ìŠ¤(êµ¬í˜„ì²´) ìƒì„±
4. ì£¼ë¬¸ ë„ë©”ì¸ì„ ì„¤ê³„í•  ê²ƒì´ë¯€ë¡œ `order` íŒ¨í‚¤ì§€ ë§Œë“¤ê¸°
5. `OrderService` ì¸í„°í˜ì´ìŠ¤(ì—­í• ) ìƒì„±
6. `OrderServiceImpl` í´ë˜ìŠ¤(êµ¬í˜„ì²´) ìƒì„±
7. `OrderApp` í´ë˜ìŠ¤ ìƒì„±í•˜ì—¬ í…ŒìŠ¤íŠ¸ (ì¢‹ì€ ë°©ë²• ì•„ë‹˜)

<br>

> ë¨¼ì €, `hello.core`ì—ë‹¤ `discount`ì´ë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ê³ , íŒ¨í‚¤ì§€ ì•„ë˜ë‹¤ê°€ `DiscountPolicy`ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ì£¼ì.

## 7.1 í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤

```java
package hello.core.discount;

import hello.core.member.Member;

public interface DiscountPolicy {
    // return í• ì¸ ëŒ€ìƒ ê¸ˆì•¡
    int discount(Member member, int price);
}
```

<br>

## 7.2 ì •ì•¡ í• ì¸ ì •ì±… êµ¬í˜„ì²´

> discount íŒ¨í‚¤ì§€ í•˜ìœ„ì— `FixDiscountPolicy`ë¼ëŠ” êµ¬í˜„ì²´(í´ë˜ìŠ¤)ë¥¼ ìƒì„±í•˜ì—¬ `DiscountPolicy`ë¥¼ implements í•œ ë’¤, ì •ì•¡ í• ì¸ êµ¬í˜„ì²´ ì½”ë“œë¥¼ ì‘ì„±í•˜ì.

```java
package hello.core.discount;

import hello.core.member.Grade;
import hello.core.member.Member;

public class FixDiscountPolicy implements DiscountPolicy{

    private int discountFixAmount = 1000; // 1000ì› í• ì¸

    @Override
    public int discount(Member member, int price) {
        // VIPë©´ 1000ì› í• ì¸, ì•„ë‹ˆë©´ í• ì¸ ì—†ìŒ
        if(member.getGrade()== Grade.VIP){
            return discountFixAmount;
        } else {
            return 0;
        }

    }
}
```

<br>

## 7.3 ì£¼ë¬¸ ì—”í‹°í‹°

> `hello.core` í•˜ìœ„ì— `order`ì´ë¼ëŠ” íŒ¨í‚¤ì§€ ë§Œë“¤ê³  í´ë˜ìŠ¤ `Order`ì„ ìƒì„±í•´ì£¼ì.

```java
package hello.core.order;

public class Order {
    private Long memberId;
    private String itemName;
    private int itemPrice;
    private int discountPrice;

    public Order(Long memberId, String itemName, int itemPrice, int discountPrice) {
        this.memberId = memberId;
        this.itemName = itemName;
        this.itemPrice = itemPrice;
        this.discountPrice = discountPrice;
    }

    public int calculatePrice(){
        return itemPrice - discountPrice;
    }

    // Getter, Setter
    public Long getMemberId() {
        return memberId;
    }

    public String getItemName() {
        return itemName;
    }

    public int getItemPrice() {
        return itemPrice;
    }

    public int getDiscountPrice() {
        return discountPrice;
    }

    public void setMemberId(Long memberId) {
        this.memberId = memberId;
    }

    public void setItemName(String itemName) {
        this.itemName = itemName;
    }

    public void setItemPrice(int itemPrice) {
        this.itemPrice = itemPrice;
    }

    public void setDiscountPrice(int discountPrice) {
        this.discountPrice = discountPrice;
    }

    @Override
    public String toString() {
        return "Order{" +
                "memberId=" + memberId +
                ", itemName='" + itemName + '\'' +
                ", itemPrice=" + itemPrice +
                ", discountPrice=" + discountPrice +
                '}';
    }
}
```

toString() ì„ ì‚¬ìš©í•˜ë©´ ê°ì²´ë¥¼ ì¶œë ¥í•  ë•Œ, í¸ë¦¬í•˜ê²Œ ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![](/assets/images/2025/2025-02-06-04-13-41.png)

<br>

## 7.4 ì£¼ë¬¸ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤

order íŒ¨í‚¤ì§€ ì•ˆì— `OrderService`ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ íšŒì› id, ìƒí’ˆëª…, ìƒí’ˆ ê°€ê²©ì„ ë„˜ê¸°ë©´ ì£¼ë¬¸ ê²°ê³¼ê°€ ë°˜í™˜ë˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ì£¼ë©´ ëœë‹¤.

![](/assets/images/2025/2025-02-06-04-18-46.png)

```java
package hello.core.order;

public interface OrderService {
    Order createOrder(Long memberId, String itemName, int itemPrice);
}
```

<br>

## 7.5 ì£¼ë¬¸ ì„œë¹„ìŠ¤ êµ¬í˜„ì²´

order íŒ¨í‚¤ì§€ì— `OrderServiceImpl`ì´ë¼ëŠ” êµ¬í˜„ì²´(í´ë˜ìŠ¤)ë¥¼ ë§Œë“¤ì.

```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.discount.FixDiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import hello.core.member.MemoryMemberRepository;

public class OrderServiceImpl implements OrderService{

    private final MemberRepository memberRepository = new MemoryMemberRepository();
    private final DiscountPolicy discountPolicy = new FixDiscountPolicy();

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);

        return new Order(memberId, itemName, itemPrice, discountPrice);
    }
}
```

ì£¼ë¬¸ ìƒì„± ìš”ì²­ì´ ì˜¤ë©´, ë¨¼ì € íšŒì› ì •ë³´ë¥¼ ì¡°íšŒí•˜ê³ , í• ì¸ ì •ì±…ì„ ì ìš©í•œ ë‹¤ìŒ ì£¼ë¬¸ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜í•œë‹¤.

ë©”ëª¨ë¦¬ íšŒì› ë¦¬í¬ì§€í† ë¦¬ì™€, ê³ ì • ê¸ˆì•¡ í• ì¸ ì •ì±…ì„ êµ¬í˜„ì²´ë¡œ ìƒì„±í•œë‹¤.

<br><br>

# 8. ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ì‹¤í–‰ê³¼ í…ŒìŠ¤íŠ¸

## 8.1 ì£¼ë¬¸ê³¼ í• ì¸ ì •ì±… ì‹¤í–‰

> mainì˜ hello.coreì—ë‹¤ `OrderApp`ì´ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì„± í›„, ì•„ë˜ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸ í•´ë³´ì.

```java
package hello.core.order;

import hello.core.member.Grade;
import hello.core.member.Member;
import hello.core.member.MemberService;
import hello.core.member.MemberServiceImpl;

public class OrderApp {
    public static void main(String[] args) {
        MemberService memberService = new MemberServiceImpl();
        OrderService orderService = new OrderServiceImpl();

        Long memberId = 1L;
        Member member = new Member(memberId, "memberA", Grade.VIP);
        memberService.join(member);

        Order order = orderService.createOrder(memberId, "itemA", 10000);

        System.out.println("order = " + order);
    }
}
```

<br>

![](/assets/images/2025/2025-02-06-05-05-06.png)

í• ì¸ ê¸ˆì•¡ì´ ì˜ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ìœ¼ë¡œ ì´ë ‡ê²Œ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ë°©ë²•ì´ ì•„ë‹ˆë‹¤. JUnit í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì.

<br>

## 8.2 ì£¼ë¬¸ê³¼ í• ì¸ ì •ì±… í…ŒìŠ¤íŠ¸

> testì˜ hello.coreì—ë‹¤ `order`ë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ë§Œë“  í›„, `OrderServiceTest` í´ë˜ìŠ¤ë¥¼ ìƒì„± í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ì.

ê²€ì¦ì€ org.assertj.core.apiì˜ Assertionsì„ ì‚¬ìš©í•˜ì—¬ ì§„í–‰í•œë‹¤.

![](/assets/images/2025/2025-02-06-03-10-14.png)

```java
package hello.core.order;

import hello.core.member.Grade;
import hello.core.member.Member;
import hello.core.member.MemberService;
import hello.core.member.MemberServiceImpl;
import org.assertj.core.api.Assertions;
import org.junit.jupiter.api.Test;

public class OrderServiceTest {
    MemberService memberService = new MemberServiceImpl();
    OrderService orderService = new OrderServiceImpl();

    @Test
    void createOrder(){
        Long memberId = 1L;
        Member member = new Member(memberId, "memberA", Grade.VIP);
        memberService.join(member);

        Order order = orderService.createOrder(memberId, "itemA", 10000);
        Assertions.assertThat(order.getDiscountPrice()).isEqualTo(1000);
    }
}
```

<br>
