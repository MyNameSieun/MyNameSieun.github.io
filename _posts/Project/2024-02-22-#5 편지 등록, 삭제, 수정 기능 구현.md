---
title: "[React P.J, ForYou] í¸ì§€ ë“±ë¡, ì‚­ì œ, ìˆ˜ì • ê¸°ëŠ¥ êµ¬í˜„ #5"
categories: [Project]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

# 1. í¸ì§€ ë“±ë¡ ê¸°ëŠ¥

ì´ˆê¸° ì½”ë“œ

```js
function AddForm() {
  return (
    <AddFormContainer>
      <AddFormTitle>í¸ì§€ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.</AddFormTitle>
      <form>
        <AddFormBox>
          <p>ë‹‰ë„¤ì„</p>
          <input
            type="text"
            placeholder="ìµœëŒ€ 20ê¸€ìê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            maxLength={20}
          />
        </AddFormBox>
        <AddFormBox>
          <p>ë‚´ìš©</p>
          <textarea
            placeholder="ìµœëŒ€ 600ê¸€ìê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            maxLength={600}
          ></textarea>
        </AddFormBox>
        <AddFormBox>
          <AddFormButton>í¸ì§€ ë“±ë¡</AddFormButton>
        </AddFormBox>
      </form>
    </AddFormContainer>
  );
}
```

<br>

## 1.1 uuid ì‚¬ìš©í•˜ê¸°

ê³ ìœ í•œ id ê°’ì„ ìƒì„±í•˜ê¸° ìœ„í•´ uuidë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤.

```
yarn add uuid
```

```js
import { v4 as uuid } from "uuid";

const newLetter = {
  id: uuid(),
};
```

<br>

## 1.2 ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°

â‘  ê¸°ì¡´ì— ìˆëŠ” stateë¥¼ ë³µì œí•´ì„œ ìƒˆë¡œìš´ stateë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë“±ë¡ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼ í•œë‹¤.<br>
â†’ ê·¸ë ‡ë‹¤ë©´ ì–´ë–¤ stateë¥¼ ë³µì œí•´ì•¼í•˜ì§€?

<br>

â‘¡ fakeDataê°€ ë“¤ì–´ìˆëŠ” stateë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì—¬ PropsDrillingìœ¼ë¡œ LetterListì™€ AddFormì— ë„˜ê²¨ì£¼ì!

```js
// Home.jsx
...
import fakeData from "fakeData.json"; // import

function Home() {
  const [activeTab, setActiveTab] = useState("í† í† ë¡œ");
  const [letters, setLetters] = useState(fakeData); // state ìƒì„±

  return (
    <HomeLayout>
      <Navbar />
      <HomeRow>
        <Tabs activeTab={activeTab} setActiveTab={setActiveTab} />
        <HomeCol>
          <AddForm activeTab={activeTab} setLetters={setLetters} />
          <LetterList activeTab={activeTab} letters={letters} />
        </HomeCol>
      </HomeRow>
    </HomeLayout>
  );
}
...
```

<br>

â‘¢ LetterListì— fakeDataë¥¼ ìƒˆë¡œ ìƒì„±í•œ stateì¸ lettersë¡œ ë°”ê¿”ì£¼ì

```js
// LetterList.jsx
...
const filteredLetters = letters.filter(
  (letter) => letter.writedTo === activeTab
);
...
```

<br>

â‘£ ê·¸ë¦¬ê³  propsë¡œ ì „ë‹¬ ë°›ì€ ê°’ìœ¼ë¡œ í¸ì§€ ë“±ë¡ ë¡œì§ì„ ì¶”ê°€í•˜ì

```js
// AddForm.jsx
...
import { useState } from "react";
import { v4 as uuid } from "uuid";

function AddForm({ activeTab, setLetters }) {
  const [nickname, setNickName] = useState("");
  const [content, setContent] = useState("");

  const onAddLetter = (e) => {
    e.preventDefault();
    if (!nickname) {
      return alert("ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”");
    }
    if (!content) {
      return alert("ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
    }

    const newLetter = {
      id: uuid(),
      createdAt: new Date().toString(),
      nickname,
      avatar: null,
      content,
      writedTo: activeTab,
    };

    setLetters((prevLetters) => [...prevLetters, newLetter]);
    setNickName("");
    setContent("");
  };
  return (
    <AddFormContainer>
      <AddFormTitle>í¸ì§€ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.</AddFormTitle>

      <form onSubmit={onAddLetter}>
        <AddFormBox>
          <p>ë‹‰ë„¤ì„</p>
          <input
            type="text"
            placeholder="ìµœëŒ€ 20ê¸€ìê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            maxLength={20}
            value={nickname}
            onChange={(e) => setNickName(e.target.value)}
          />
        </AddFormBox>
        <AddFormBox>
          <p>ë‚´ìš©</p>
          <textarea
            placeholder="ìµœëŒ€ 600ê¸€ìê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            maxLength={600}
            value={content}
            onChange={(e) => setContent(e.target.value)}
          ></textarea>
        </AddFormBox>
        <AddFormBox>
          <AddFormButton>í¸ì§€ ë“±ë¡</AddFormButton>
        </AddFormBox>
      </form>
    </AddFormContainer>
  );
}

...
```

<br>

## 1.3 ìƒíƒœ ì§ì ‘ ì—…ë°ì´íŠ¸ vs ì½œë°± í•¨ìˆ˜ ì‚¬ìš© ë¹„êµ

> ìƒíƒœ ì§ì ‘ ì—…ë°ì´íŠ¸ vs ì½œë°± í•¨ìˆ˜ ì‚¬ìš© ì¤‘ ì–´ë–¤ê²Œ ë” íš¨ìœ¨ì ì¼ê¹Œ ê¶ê¸ˆí•´ì¡Œë‹¤!

- ìƒíƒœ ì§ì ‘ ì—…ë°ì´íŠ¸
  - `setState(newValue)`ë¥¼ í˜¸ì¶œí•  ë•Œ `newValue`ê°€ ì´ì „ ìƒíƒœê°’ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” ê²½ìš° ì‚¬ìš©í•œë‹¤.<br><br>
- ì½œë°± í•¨ìˆ˜ ì‚¬ìš©
  - `setState(prevState => newValue)` í˜•íƒœë¡œ ì‚¬ìš©ë˜ë©°, `prevState`ëŠ” í˜„ì¬ì˜ ìƒíƒœë¥¼ ì°¸ì¡°í•œë‹¤.
  - **ì´ì „ ìƒíƒœê°’ì„ ê¸°ë°˜ìœ¼ë¡œ** ìƒˆ ìƒíƒœë¥¼ í• ë‹¹í•  ë•Œ ì‚¬ìš©í•œë‹¤.

```js
function AddForm({ setLetters, activeTab }) {
  const [nickname, setNickName] = useState("");
  const [content, setContent] = useState("");

  const onAddLetter = (e) => {
  ...
    const newLetter = {
      id: uuid(),
      createdAt: new Date().toString(),
      nickname,
      avatar: null,
      content,
      writedTo: activeTab,
    };
    setLetters([...letters, newLetter]); // ìƒíƒœ ì§ì ‘ ì—…ë°ì´íŠ¸
    setLetters((prev) => [...prev, newLetter]); // ì½œë°± í•¨ìˆ˜ ì‚¬ìš©

    setNickName("");
    setContent("");
  };
}
```

ê²°ë¡ ë¶€í„° ë§í•˜ë©´, ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤ê³  í•œë‹¤.

<br>

> ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 

- **ë°°ì¹˜ ì—…ë°ì´íŠ¸**
  - ReactëŠ” ì—¬ëŸ¬ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ë°°ì¹˜ë¡œ ì²˜ë¦¬í•˜ì—¬ ì—¬ëŸ¬ setState í˜¸ì¶œì´ ë™ì‹œì— ì¼ì–´ë‚˜ë”ë¼ë„ ì´ë¥¼ ëª¨ì•„ì„œ í•œ ë²ˆì— ì²˜ë¦¬í•¨ìœ¼ë¡œì¨ ë Œë”ë§ íšŸìˆ˜ë¥¼ ìµœì†Œí™”í•˜ê³  ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤.
  - ë”°ë¼ì„œ, setStateë¥¼ í˜¸ì¶œí•˜ë”ë¼ë„ ìƒíƒœê°€ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.
  - ì¦‰, ì—°ì†ì ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ê²½ìš°, ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.
    .<br><br>
- **ì•ˆì •ì„± ë³´ì¥**
  - ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´, ì—…ë°ì´íŠ¸ê°€ ì‹¤í–‰ë  ë•Œ ê°€ì¥ ìµœê·¼ì˜ ìƒíƒœê°’ì„ ë°›ì•„ì˜¨ë‹¤.
  - ë”°ë¼ì„œ ë™ì‹œì— ì—¬ëŸ¬ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ì¼ì–´ë‚˜ëŠ” ê²½ìš°ì—ë„ ì •í™•í•œ ê°’ì„ ë³´ì¥í•œë‹¤.

<br>

> ë°°ì¹˜ ì—…ë°ì´íŠ¸ ì˜ˆì‹œ

```js
const [count, setCount] = useState(0);

setCount(count + 1); // count(0) + 1ì€ 1, 1ë¡œ ë§Œë“œëŠ” ì¤‘...
setCount(count + 1); // ìœ— ì¤„ì˜ ìƒíƒœ ë³€ê²½ì´ ì•ˆ ëë‚˜ì„œ ì•„ì§ countëŠ” 0, count(0) + 1ì€ 1, 1ë¡œ ë§Œë“œëŠ” ì¤‘...
setCount(count + 1); // ìœ— ì¤„ê³¼ ìœ—ìœ—ì¤„ì˜ ìƒíƒœ ë³€ê²½ì´ ì•ˆ ëë‚˜ì„œ ì•„ì§ countëŠ” 0, count(0) + 1ì€ 1, 1ë¡œ ë§Œë“œëŠ” ì¤‘...

// count = 1
```

1. `setState` ë¥¼ í˜¸ì¶œí•¨ê³¼ ë™ì‹œì— ë§ì€ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰
2. ì˜ˆë¥¼ ë“¤ì–´ ê°€ìƒ DOMì„ ë¹„êµí•˜ê³  ë¦¬ë Œë”ë§ê¹Œì§€ â‡’ ë Œë”ë§ ì‚¬ì´í´
3. ë Œë”ë§ ì‚¬ì´í´ì´ ëë‚˜ê¸° ì „ì— ë‹¤ë¥¸ ì½”ë“œì—ì„œ ìƒíƒœë¥¼ ë³€ê²½í•˜ê²Œ ë˜ë©´ í•´ë‹¹ ì‘ì—…ì€ ë¬´ì‹œëœë‹¤.

<br>

**ì´ëŸ¬í•œ ì´ìœ  ë•Œë¬¸ì— ë‚˜ëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ì±„íƒí•˜ì˜€ë‹¤! ğŸ¯**

<br><br>

# 2. í¸ì§€ ì‚­ì œ ê¸°ëŠ¥

ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í¸ì§€ê°€ ì‚­ì œ ë˜ë„ë¡ êµ¬í˜„í•´ë³´ì.

ì´ˆê¸° ì½”ë“œ

```js
function Detail({ letters }) {
  const { id } = useParams();
  const { avatar, nickname, createdAt, content } = letters.find(
    (letter) => letter.id === id
  );

  return (
    <DetailContainer>
      <DetailBox>
        <Link to="/">
          <DetailBackClick>x</DetailBackClick>
        </Link>
        <DetailRow>
          <Avatar src={avatar} size="large" />
          <p>{nickname}</p>
          <time>{getFormattedDate(createdAt)}</time>
        </DetailRow>
        <DetailHr />
        <DatailContent>{content}</DatailContent>
        <DetailButton>
          <button>ìˆ˜ì •</button>
          <button>ì‚­ì œ</button>
        </DetailButton>
      </DetailBox>
    </DetailContainer>
  );
}
```

<br>

## 2.1 íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ğŸ’«

> ë°œìƒí•œ ë¬¸ì œ ğŸ¤¦â€â™€ï¸

ì‚­ì œ ë¡œì§ êµ¬í˜„ í›„ ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ "Cannot destructure property 'avatar' of 'letters.find(...)' as it is undefined." ì´ë¼ëŠ” ì—ëŸ¬ê°€ ì¶œë ¥ëë‹¤.

```js
function Detail({ letters, setLetters }) {
  const { id } = useParams();
  const { avatar, nickname, createdAt, content } = letters.find(
    (letter) => letter.id === id
  );

  const handleDeleteBtn = () => {
    const newLetters = letters.filter((letter) => id !== letter.id);
    setLetters(newLetters);
  };

  return (
    <DetailContainer>
      <DetailBox>
        <Link to="/">
          <DetailBackClick>x</DetailBackClick>
        </Link>
        <DetailRow>
          <Avatar src={avatar} size="large" />
          <p>{nickname}</p>
          <time>{getFormattedDate(createdAt)}</time>
        </DetailRow>
        <DetailHr />
        <DatailContent>{content}</DatailContent>
        <DetailButton>
          <button>ìˆ˜ì •</button>
          <button onClick={handleDeleteBtn}>ì‚­ì œ</button>
        </DetailButton>
      </DetailBox>
    </DetailContainer>
  );
}
```

<br>

> ë¬¸ì œ ì›ì¸ ğŸ¤·â€â™€ï¸

ì‚­ì œ ë²„íŠ¼ í´ë¦­ì‹œ letters.idëŠ” ì‚­ì œê°€ ë˜ì—ˆì§€ë§Œ, useParamsë¡œ ë°›ì•„ì˜¨ idëŠ” ì‚­ì œê°€ ë˜ì§€ ì•Šì•„ find ë©”ì„œë“œê°€ ì¼ì¹˜í•˜ëŠ” idë¥¼ ì°¾ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì— find ë©”ì„œë“œì˜ ë°˜í™˜ê°’ì´ undefinedê°€ ë˜ì–´ì„œ, ì´í›„ì— êµ¬ì¡° ë¶„í•´ í• ë‹¹ì„ í•˜ë ¤ê³  í•  ë•Œ ì—ëŸ¬ê°€ ë°œìƒí•œ ê²ƒì´ë‹¤.

![](/assets/images/2024/2024-02-23-02-36-33.png)

<br>

> í•´ê²° ë°©ì•ˆ ğŸ’â€â™€ï¸

ë¯¸ë¦¬ homeìœ¼ë¡œ ì´ë™ì‹œí‚¨ í›„ setLettersë¥¼ ì‹¤í–‰ì‹œì¼œì£¼ì—ˆë‹¤.

í™ˆ í™”ë©´ìœ¼ë¡œ ì´ë™ì‹œí‚¤ê¸° ìœ„í•´ useNavigate í›…ì„ ì‚¬ìš©í•˜ì˜€ë‹¤.

```js
import Avatar from "components/common/Avatar";
import styled from "styled-components";
import { Link, useNavigate, useParams } from "react-router-dom"; // import
import { getFormattedDate } from "util/data";

function Detail({ letters, setLetters }) {
  const navigate = useNavigate();
  const { id } = useParams();
  const { avatar, nickname, createdAt, content } = letters.find(
    (letter) => letter.id === id
  );

  const handleDeleteBtn = () => {
    const newLetters = letters.filter((letters) => letters.id !== id);
    navigate("/");
    setLetters(newLetters);
  };
}
```

<br>

## 2.2 ì‚­ì œ í™•ì¸ ë°›ê¸°

ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ ì‚¬ìš©ìì—ê²Œ í™•ì¸ë°›ì€ ë’¤ ì‚­ì œì²˜ë¦¬ í•˜ë„ë¡ í•´ì£¼ì.

```js
const answer = window.confirm("ì •ë§ë¡œ ì‚­ì œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
if (!answer) return;
```

<br><br>

# 3. í¸ì§€ ìˆ˜ì • ê¸°ëŠ¥

ìˆ˜ì • ê¸°ëŠ¥ì„ ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼ í• ê¹Œ?

- ìˆ˜ì •ë²„íŠ¼ ëˆŒë €ì„ ë•Œ, content ë¶€ë¶„(p íƒœê·¸)ì„ textareaë¡œ ë³€ê²½í•˜ì—¬ ìˆ˜ì • ì¤‘ì¸ ìƒíƒœ ë‚˜íƒ€ë‚´ê¸°
- ìˆ˜ì • ë²„íŠ¼ì„ ì·¨ì†Œ ë²„íŠ¼ìœ¼ë¡œ ë³€ê²½, ì‚­ì œ ë²„íŠ¼ì„ ìˆ˜ì • ì™„ë£Œ ë²„íŠ¼ìœ¼ë¡œ ë³€ê²½

<br>

ë¨¼ì € ìˆ˜ì • ì¤‘ì¸ ìƒíƒœì¸ì§€ ì•„ë‹Œì§€ ì•Œì•„ì•¼í•˜ê¸° ë•Œë¬¸ì— stateì„ ì •ì˜í•´ì£¼ê³ , ë²„íŠ¼ í´ë¦­ì‹œ stateì— ë”°ë¼ ë²„íŠ¼ì´ ë³€ê²½ë˜ë„ë¡ í•´ë³´ì.

```js
function Detail({ letters, setLetters }) {
  const [isEditing, setIsEditing] = useState(false); // ìˆ˜ì • ì¤‘ì¸ ìƒíƒœì¸ì§€ íŒë‹¨í•˜ëŠ” state ì •ì˜

  ...

  return (
    <DetailContainer>
      <DetailBox>
        ...
        {isEditing ? (
          <>
            <DetailTextarea>{content}</DetailTextarea>
            <DetailButton>
              <button>ìˆ˜ì • ì™„ë£Œ</button>
              <button onClick={() => setIsEditing(false)}>ì·¨ì†Œ</button>
            </DetailButton>
          </>
        ) : (
          <>
            <DatailContent>{content}</DatailContent>
            <DetailButton>
              <button onClick={() => setIsEditing(true)}>ìˆ˜ì •</button>
              <button onClick={handleDeleteBtn}>ì‚­ì œ</button>
            </DetailButton>
          </>
        )}
      </DetailBox>
    </DetailContainer>
  );
}
```

![](/assets/images/2024/2024-02-23-18-39-14.png)

```css
const DetailTextarea = styled.textarea`
  border: none; // í…Œë‘ë¦¬ ì—†ì• ê¸°
  outline: none; // í´ë¦­ ì‹œ í…Œë‘ë¦¬ ì—†ì• ê¸°
  resize: none; // í¬ê¸° ì¡°ì ˆ ì—†ì• ê¸°
`;
```

<br>

ê·¸ í›„, í•¨ìˆ˜ ìˆ˜ì • í•¨ìˆ˜ì¸ onEditDoneì„ ì‘ì„±í•´ì£¼ì.<br>
ìˆ˜ì •ëœ textë¥¼ ê°€ì§€ê³  ìˆëŠ” state ì •ì˜í•´ì•¼í•œë‹¤.

```js
function Detail({ letters, setLetters }) {
  const [isEditing, setIsEditing] = useState(false);
  const [editingText, setEditingText] = useState(""); // ìˆ˜ì •ëœ textë¥¼ ê°€ì§€ê³  ìˆëŠ” state ì •ì˜

  ...


  const onEditDone = () => {
    if (!editingText) return alert('ìˆ˜ì •ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.');

    // ìˆ˜ì • ë¡œì§ì€ ì‚­ì œí•˜ëŠ” ë¡œì§ì´ë‘ í¡ì‚¬
    // fakeDataì˜ urlì— ë“¤ì–´ì˜¨ idê°’ì— ë”°ë¼ì„œ contentì˜ ë‚´ìš©ì„ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ë°”ê¾¸ê³  ë‚˜ë¨¸ì§€ëŠ” ìœ ì§€í•œ ìƒíƒœë¡œ ìƒˆë¡œìš´ ë°°ì—´ ë°˜í™˜

    const newLetters = letters.map((letter) => {
      // lettersì˜ idê°€ Path parameterë¡œ ê°€ì ¸ì˜¨ ì•„ì´ë””ì™€ ê°™ë‹¤ë©´
      // contentë¥¼ editingTextë¡œ ë³€ê²½
      if (letter.id === id) {
        return { ...letter, content: editingText };
      }

      return letter;
    });

    setLetters(newLetters);
    setIsEditing(false);
    setEditingText('');
  };


  return (
    <DetailContainer>
      <DetailBox>
        ...
        {isEditing ? (
          <>
            {/* autoFocusë¡œ ìë™í¬ì»¤ìŠ¤, defaultValueë¡œ ê¸°ì¡´ì˜ ì…ë ¥ëœ ìƒíƒœê°€ ë‚˜ì˜¤ê²Œ í•˜ê¸° */}
            <DetailTextarea
              autoFocus
              defaultValue={content}
              onChange={(e) => setEditingText(e.target.value)}
            ></DetailTextarea>
            <DetailButton>
              <button onClick={onEditDone}>ìˆ˜ì • ì™„ë£Œ</button>
              <button onClick={() => setIsEditing(false)}>ì·¨ì†Œ</button>
            </DetailButton>
          </>
        ) : (
          <>
            <DatailContent>{content}</DatailContent>
            <DetailButton>
              <button onClick={() => setIsEditing(true)}>ìˆ˜ì •</button>
              <button onClick={handleDeleteBtn}>ì‚­ì œ</button>
            </DetailButton>
          </>
        )}
      </DetailBox>
    </DetailContainer>
  );
}
```

![](/assets/images/2024/2024-02-23-18-42-21.png)

<br>

> ì „ì²´ ì½”ë“œ

```js
function Detail({ letters, setLetters }) {
  const [isEditing, setIsEditing] = useState(false);
  const [editingText, setEditingText] = useState("");

  const navigate = useNavigate();
  const { id } = useParams();
  const { avatar, nickname, createdAt, content } = letters.find(
    (letter) => letter.id === id
  );

  const handleDeleteBtn = () => {
    const answer = window.confirm("ì •ë§ë¡œ ì‚­ì œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?");
    if (!answer) return;

    const newLetters = letters.filter((letters) => letters.id !== id);
    navigate("/");
    setLetters(newLetters);
  };

  const onEditDone = () => {
    if (!editingText) return alert("ìˆ˜ì •ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.");

    const newLetters = letters.map((letter) => {
      if (letter.id === id) {
        return { ...letter, content: editingText };
      }

      return letter;
    });

    setLetters(newLetters);
    setIsEditing(false);
    setEditingText("");
  };

  return (
    <DetailContainer>
      <DetailBox>
        <Link to="/">
          <DetailBackClick onClick={setIsEditing}>x</DetailBackClick>
        </Link>
        <DetailRow>
          <Avatar src={avatar} size="large" />
          <p>{nickname}</p>
          <time>{getFormattedDate(createdAt)}</time>
        </DetailRow>
        <DetailHr />
        {isEditing ? (
          <>
            <DetailTextarea
              autoFocus
              defaultValue={content}
              onChange={(e) => setEditingText(e.target.value)}
            ></DetailTextarea>
            <DetailButton>
              <button onClick={onEditDone}>ìˆ˜ì • ì™„ë£Œ</button>
              <button onClick={() => setIsEditing(false)}>ì·¨ì†Œ</button>
            </DetailButton>
          </>
        ) : (
          <>
            <DatailContent>{content}</DatailContent>
            <DetailButton>
              <button onClick={() => setIsEditing(true)}>ìˆ˜ì •</button>
              <button onClick={handleDeleteBtn}>ì‚­ì œ</button>
            </DetailButton>
          </>
        )}
      </DetailBox>
    </DetailContainer>
  );
}
```

<br>

ì¶”í›„, ìˆ˜ì • ê¸°ëŠ¥ ê¸€ì ìˆ˜ ì œí•œí•˜ëŠ” ë¡œì§ ì¶”ê°€í•˜ê¸°

<br>
