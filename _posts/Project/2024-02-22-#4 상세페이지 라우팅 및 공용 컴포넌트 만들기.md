---
title: "[React P.J, ForYou] ìƒì„¸í˜ì´ì§€ ë¼ìš°íŒ… ë° ê³µìš© ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸° #4"
categories: [Project]
toc_label: Contents
toc: true
toc_sticky: true
author_profile: true
sidebar:
  nav: "counts"
---

<br>

# 1. useNavigateë¡œ í˜ì´ì§€ ì´ë™ êµ¬í˜„

useNavigate í›…ì„ ì‚¬ìš©í•˜ì—¬ ìì„¸íˆë³´ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í´ë¦­í•œ í¸ì§€ì˜ id ê°’ì„ ê°€ì§€ê³  Detail í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ê²Œ êµ¬í˜„í•´ë³´ì.

```js
...

import { useNavigate } from "react-router-dom";

function LetterCard({ letter }) {
  const navigate = useNavigate();
  return (
    <LetterButton onClick={() => navigate(`/detail/${letter.id}`)}>
      ìì„¸íˆë³´ê¸°
    </LetterButton>
  );
}

...
```

<br><br>

# 2. ê³µìš© ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

## 2.1 ì•„ë°”íƒ€ ì´ë¯¸ì§€

> í™ˆ í™”ë©´ì˜ ì•„ë°”íƒ€ ì´ë¯¸ì§€ë¥¼ ê³µìš© ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ ì ìš©í•´ë³´ì.

ì ìš© ì „

```js
function LetterCard({ letter }) {
  ...

  return (
    <>
      <LetterAvatarFigure>
        <img src={letter.avatar ?? defaultUser} alt="ì•„ë°”íƒ€ì´ë¯¸ì§€" />
      </LetterAvatarFigure>

      <LetterBox>
        <LetterDate>
          <p>{letter.nickname}</p>
          <time>{formattedDate}</time>
        </LetterDate>
        <LetterButtonBox>
          <LetterContent>
            <p>{letter.content}</p>
          </LetterContent>
          <LetterButton onClick={() => navigate(`/detail/${letter.id}`)}>ìì„¸íˆë³´ê¸°</LetterButton>
        </LetterButtonBox>
      </LetterBox>
      <Hr />
    </>
  );
}
```

<br>

components/common/Avatar.jsx ìƒì„±

```js
// components/common/Avatar.jsx
import defaultUser from "assets/images/user.png";
import styled from "styled-components";

export default function Avatar() {
  return (
    <LetterAvatarFigure>
      <img src={letter.avatar ?? defaultUser} alt="ì•„ë°”íƒ€ì´ë¯¸ì§€" />
    </LetterAvatarFigure>
  );
}

const LetterAvatarFigure = styled.figure`
  width: 50px;
  height: 50px;
  border-radius: 50%;
  overflow: hidden;

  & img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
  }
`;
```

<br>

letter.avatarë§Œ propsë¡œ ë‚´ë ¤ì£¼ì!

```js
// components/common/Avatar.jsx
import defaultUser from "assets/images/user.png";
import styled from "styled-components";

export default function Avatar({ src }) {
  return (
    <LetterAvatarFigure>
      <img src={src ?? defaultUser} alt="ì•„ë°”íƒ€ì´ë¯¸ì§€" />
    </LetterAvatarFigure>
  );
}
const LetterAvatarFigure = styled.figure`
  width: 50px;
  height: 50px;
  border-radius: 50%;
  overflow: hidden;

  & img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
  }
`;
```

<br>

propsë¡œ ë°›ìœ¼ë©´ ì •ìƒì ìœ¼ë¡œ ì•„ë°”íƒ€ê°€ ì¶œë ¥ëœë‹¤.

```js
import Avatar from './common/Avatar';

function LetterCard({ letter }) {
  ...

  return (
    <>
     <Avatar src={letter.avatar} />

      <LetterBox>
        <LetterDate>
          <p>{letter.nickname}</p>
          <time>{formattedDate}</time>
        </LetterDate>
        <LetterButtonBox>
          <LetterContent>
            <p>{letter.content}</p>
          </LetterContent>
          <LetterButton onClick={() => navigate(`/detail/${letter.id}`)}>ìì„¸íˆë³´ê¸°</LetterButton>
        </LetterButtonBox>
      </LetterBox>
      <Hr />
    </>
  );
}
```

<br>

## 2.2 ë²„íŠ¼

> ë²„íŠ¼ë„ ê³µìš© ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ ì ìš©í•´ë³´ì.

ì ìš© ì „

```js
// AddForm.jsx
function AddForm({ setLetters, activeTab }) {
  ...
  return (
    <AddFormContainer>
      <AddFormTitle>í¸ì§€ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.</AddFormTitle>
      <form onSubmit={onAddLetter}>
      ...
        <AddFormBox>
          <AddFormButton>í¸ì§€ ë“±ë¡</AddFormButton>
        </AddFormBox>
      </form>
    </AddFormContainer>
  );
}
```

<br>

Buttonì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ê³µí†µ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³  "í¸ì§€ ë“±ë¡" ì´ë¼ëŠ” propsë¥¼ ë‚´ë ¤ì£¼ì.

```js
// AddForm.jsx
import Button from './common/Button'; // import

function AddForm({ setLetters, activeTab }) {
  ...
  return (
    <AddFormContainer>
      <AddFormTitle>í¸ì§€ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.</AddFormTitle>
      <form onSubmit={onAddLetter}>
      ...
        <Button text="í¸ì§€ ë“±ë¡" />
      </form>
    </AddFormContainer>
  );
}
```

<br>

propsë¡œ ë°›ìœ¼ë©´ ì •ìƒì ìœ¼ë¡œ ë²„íŠ¼ì´ ì¶œë ¥ëœë‹¤.

```js
import styled from "styled-components";

export default function Button({ text }) {
  return (
    <ButtonBox>
      <button>{text}</button>
    </ButtonBox>
  );
}

const ButtonBox = styled.div`
  background-color: #1e1e1e;
  color: white;
  border-radius: 8px;
  margin: 20px 0;
  height: 35px;
  width: 100px;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
`;
```

<br>

color, size ë“± ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ê³  ì‹¶ìœ¼ë©´ ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ë§ ì ìš©í•˜ê¸°!

ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ë„ ìœ„ì™€ ê°™ì´ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€ê²½í•´ì£¼ì

<br><br>

# 3. ìƒì„¸í˜ì´ì§€

## 3.1 UI êµ¬ì„±

> Detail ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„¸ í˜ì´ì§€ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

ìœ„ì—ì„œ ë§Œë“  ê³µìš© ì»´í¬ë„ŒíŠ¸ Avatarë¥¼ propsë¡œ ë‚´ë ¤ë°›ì•„ ì‚¬ìš©í•˜ì˜€ë‹¤.

```js
function Detail() {
  return (
    <DetailContainer>
      <DetailBox>
        <DetailBackClick>x</DetailBackClick>
        <DetailRow>
          <Avatar src={null} />
          <p>ë‹‰ë„¤ì„</p>
          <time>ë‚ ì§œ</time>
        </DetailRow>
        <DetailHr />
        <DatailContent>ë‚´ìš©</DatailContent>
        <DetailButton>
          <button>ìˆ˜ì •</button>
          <button>ì‚­ì œ</button>
        </DetailButton>
      </DetailBox>
    </DetailContainer>
  );
}
```

![](/assets/images/2024/2024-02-22-19-17-52.png)

<br>

## 3.2 useParamsë¡œ idê°’ ê°€ì ¸ì˜¤ê¸°

useParamsëŠ” React Routerì˜ Hookìœ¼ë¡œ, í˜„ì¬ URLì˜ íŒŒë¼ë¯¸í„°ë“¤ì„ ê°ì²´ í˜•íƒœë¡œ ê°€ì ¸ì˜¨ë‹¤.

ê°ì²´ì˜ keyëŠ” URLì—ì„œ : ë’¤ì— ì˜¤ëŠ” ì´ë¦„ì´ê³ , valueëŠ” ì‹¤ì œ URLì—ì„œ í•´ë‹¹ ìœ„ì¹˜ì— ìˆëŠ” ê°’ì´ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, URLì´ "/detail/123"ì´ê³ , ë¼ìš°íŠ¸ ì„¤ì •ì´ "/detail/:id"ë¼ë©´, useParamsë¥¼ ì‚¬ìš©í•˜ë©´ { id: "123" }ì´ë¼ëŠ” ê°ì²´ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.

```js
import { useParams } from "react-router-dom";

function Detail() {
  const { id } = useParams();
  console.log(id, ":id");

  return (...);
}
```

![](/assets/images/2024/2024-02-22-19-36-11.png)

<br>

## 3.3 ë™ì  ë¼ìš°íŒ… êµ¬í˜„í•˜ê¸°

> letter idì— í•´ë‹¹í•˜ëŠ” ì •ë³´ë¥¼ ì¶œë ¥í•´ë³´ì

home.jsxì— ìˆëŠ” letters stateë¥¼ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì¸ Router.jsxë¡œ ì˜¬ë ¤ì£¼ì—ˆë‹¤.(Home, Detail ë‘˜ ë‹¤ letters stateë¥¼ ì‚¬ìš©í•´ì•¼í•˜ê¸° ë•Œë¬¸)

```js
import { BrowserRouter, Route, Routes, Navigate } from "react-router-dom";
import { useState } from "react";
import Home from "pages/Home";
import Detail from "pages/Detail";
import fakeData from "fakeData.json";

const Router = () => {
  const [letters, setLetters] = useState(fakeData);
  return (
    <BrowserRouter>
      <Routes>
        <Route
          path="/"
          element={<Home letters={letters} setLetters={setLetters} />}
        />
        <Route path="/detail/:id" element={<Detail letters={letters} />} />
        <Route path="*" element={<Navigate replace to="/" />} />
      </Routes>
    </BrowserRouter>
  );
};

export default Router;
```

<br>

`letters.find(...)` ì„ í†µí•´ ì „ë‹¬ë°›ì€ letters ë°°ì—´ì—ì„œ í˜„ì¬ í˜ì´ì§€ì˜ idì— í•´ë‹¹í•˜ëŠ” í¸ì§€ë¥¼ ì°¾ì•„ ê°ì²´ë¡œ ê°€ì ¸ì™€ì„œ êµ¬ì¡° ë¶„í•´ í• ë‹¹ì„ í†µí•´ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ì˜€ë‹¤.

```js
import Avatar from 'components/common/Avatar';
import styled from 'styled-components';
import { useParams } from 'react-router-dom';
import { getFormattedDate } from 'util/data';

function Detail({ letters }) {
  const { id } = useParams();

  const [letter] = letters.filter((letter) => letter.id === id);
  const { avatar, nickname, createdAt, content } = letter;

  return (
    <DetailContainer>
      <DetailBox>
        <DetailBackClick>x</DetailBackClick>
        <DetailRow>
          <Avatar src={avatar} />
          <p>{nickname}</p>
          <time>{getFormattedDate(createdAt)}</time>
        </DetailRow>
        <DetailHr />
        <DatailContent>{content}</DatailContent>
        <DetailButton>
          <button>ìˆ˜ì •</button>
          <button>ì‚­ì œ</button>
        </DetailButton>
      </DetailBox>
    </DetailContainer>
  );
}

...
```

![](/assets/images/2024/2024-02-22-21-38-29.png)

<br>

êµ¬ì¡°ë¶„í•´ í• ë‹¹ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œê°€ ê¸¸ì–´ì§€ë¯€ë¡œ ê¼­ êµ¬ì¡°ë¶„í•´ í• ë‹¹ ì‚¬ìš©í•˜ê¸°!

```js
function Detail({ letters }) {
  const { id } = useParams();
  const selectedLetter = letters.find((letter) => letter.id === id);

  // selectedLetterë¥¼ ì§ì ‘ ì‚¬ìš©
  const avatar = selectedLetter.avatar;
  const nickname = selectedLetter.nickname;
  const createdAt = selectedLetter.createdAt;
  const content = selectedLetter.content;
}
```

<br>

### 3.3.1 íŠ¸ëŸ¬ë¸” ìŠˆíŒ…ğŸ’«

> ë°œìƒí•œ ë¬¸ì œ ğŸ¤¦â€â™€ï¸

ì²˜ìŒì—” find ëŒ€ì‹  filterë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ì¡°ë¶„í•´ í• ë‹¹ì„ í•´ ì£¼ì—ˆëŠ”ë°, ì•„ë¬´ê²ƒë„ ì¶œë ¥ë˜ì§€ ì•ŠëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ë‹¤.

```js
const { avatar, nickname, createdAt, content } = letters.filter(
  (letter) => letter.id === id
);
```

<br>

> ë¬¸ì œ ì›ì¸ ğŸ¤·â€â™€ï¸

- `filter`: ì¡°ê±´ì— ë§ëŠ” ì—¬ëŸ¬ í•­ëª©ì„ ì°¾ì„ ë•Œ ì‚¬ìš©í•˜ë©°, ë°˜í™˜ê°’ì€ í•­ìƒ ë°°ì—´ì´ë‹¤.
- `find`: ì¡°ê±´ì— ë§ëŠ” ì²« ë²ˆì§¸ í•­ëª©ì„ ì°¾ì„ ë•Œ ì‚¬ìš©í•˜ë©°, ë°˜í™˜ê°’ì€ ë‹¨ì¼ ê°ì²´ì´ë‹¤. (ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ìš”ì†Œê°€ ì—¬ëŸ¬ ê°œë¼ë„ ì²« ë²ˆì§¸ ìš”ì†Œë§Œ ë°˜í™˜í•œë‹¤.)

ì¦‰, filterì˜ ë°˜í™˜ê°’ì€ í•­ìƒ ë°°ì—´ì´ë¯€ë¡œ, êµ¬ì¡° ë¶„í•´ í• ë‹¹ì„ í†µí•´ ì›í•˜ëŠ” ìš”ì†Œë¥¼ ë°”ë¡œ ì¶”ì¶œí•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ì˜€ë‹¤.

<br>

> í•´ê²° ë°©ì•ˆ(1) ğŸ’â€â™€ï¸

filterë¡œ ì°¾ì€ ë°°ì—´ì˜ ì²« ë²ˆì§¸ ìš”ì†Œë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•´ [0]ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

```js
const letter = letters.filter((letter) => letter.id === id)[0];
const { avatar, nickname, createdAt, content } = letter;
```

<br>

> í•´ê²°ë°©ì•ˆ(2) ğŸ’â€â™€ï¸

êµ¬ì¡° ë¶„í•´ í• ë‹¹ì„ ì´ìš©í•˜ì—¬ ë°°ì—´ì˜ ì²« ë²ˆì§¸ ìš”ì†Œë¥¼ ì¶”ì¶œí•˜ê³ , ë‹¤ì‹œ êµ¬ì¡° ë¶„í•´ í• ë‹¹ì„ ì‚¬ìš©í•˜ì—¬ ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ë°©ë²•

```js
const [letter] = letters.filter((letter) => letter.id === id);
const { avatar, nickname, createdAt, content } = letter;
```

<br>

> ê²°ë¡ ! ğŸ’¡

ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ëª¨ë“  ìš”ì†Œê°€ í•„ìš”í•˜ë‹¤ë©´ filterë¥¼, ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” í•˜ë‚˜ì˜ ìš”ì†Œë§Œ í•„ìš”í•˜ë©´ findë¥¼ ì‚¬ìš©í•˜ì!

**ë‚˜ëŠ” ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” í•˜ë‚˜ì˜ ìš”ì†Œë§Œ í•„ìš”í•˜ë¯€ë¡œ findë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ì±„íƒí•˜ì˜€ë‹¤! ğŸ¯**

<br>

## 3.4 propsë¡œ ë°›ì•„ì˜¨ ë°ì´í„° ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ë§ ì ìš©í•˜ê¸°

Detail ì»´í¬ë„ŒíŠ¸ì—ì„œ Avatar ì˜ í¬ê¸°ë¥¼ í‚¤ìš°ê³ ì‹¶ë‹¤!

Avatar ì»´í¬ë„ŒíŠ¸ëŠ” ê³µí†µ ì»´í¬ë„ŒíŠ¸ì´ë¯€ë¡œ ì´ë ‡ê²Œ propsë¥¼ ë‚´ë ¤ì£¼ë©´

```js
// Detail.jsx
<Avatar src={avatar} size="large" />
```

<br>

ì•„ë˜ì™€ ê°™ì´ propsë¥¼ ë°›ì•„ ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ë§ ì ìš©í•˜ë©´ ëœë‹¤!

```js
// Avatar.jsx
import styled, { css } from "styled-components";
import defaultUser from "assets/images/user.png";

// (1) size props ë°›ê¸°
export default function Avatar({ src, size }) {
  return (
    // (2) LetterAvatarFigureì— props ë„˜ê²¨ì£¼ê¸°
    <LetterAvatarFigure size={size}>
      <img src={src ?? defaultUser} alt="ì•„ë°”íƒ€ì´ë¯¸ì§€" />
    </LetterAvatarFigure>
  );
}
const LetterAvatarFigure = styled.figure`
  // (3) ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ë§ ì ìš©í•˜ê¸°
  ${(props) => {
    switch (props.size) {
      case "large":
        return css`
          width: 75px;
          height: 75px;
        `;
      default:
        return css`
          width: 50px;
          height: 50px;
        `;
    }
  }}
  border-radius: 50%;
  overflow: hidden;

  & img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
  }
`;
```

Detail pageì—ì„œë§Œ ì•„ë°”íƒ€ ì´ë¯¸ì§€ê°€ ì»¤ì¡Œë‹¤!

![](/assets/images/2024/2024-02-23-00-12-46.png)

<br>

ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ ì ìš©ì „ ì½”ë“œ -> ìµìˆ™í•´ì§ˆ ë•Œê¹Œì§€ ì—°ìŠµí•˜ê¸°

```js
// Avatar.jsx (ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ë§ ì ìš© ì „)
import styled from "styled-components";
import defaultUser from "assets/images/user.png";

export default function Avatar({ src }) {
  return (
    <LetterAvatarFigure>
      <img src={src ?? defaultUser} alt="ì•„ë°”íƒ€ì´ë¯¸ì§€" />
    </LetterAvatarFigure>
  );
}
const LetterAvatarFigure = styled.figure`
  width: 50px;
  height: 50px;
  border-radius: 50%;
  overflow: hidden;

  & img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
  }
`;
```

<br>

## 3.5 Linkë¡œ í˜ì´ì§€ ì´ë™í•˜ê¸°

> Link APIë¥¼ ì‚¬ìš©í•˜ì—¬ x ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í™ˆ í™”ë©´ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆë„ë¡ í•˜ì.

```js
// Detail.jsx
import { Link } from "react-router-dom"; // import

<Link to="/">
  <DetailBackClick>x</DetailBackClick>
</Link>;
```

![](/assets/images/2024/2024-02-23-00-55-50.png)

<br>
